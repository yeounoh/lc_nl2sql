## 5\.4\.  Updating The Database Files


![](images/ac/multi-3.gif)
Once all rollback journal files have been flushed to disk, it
is safe to begin updating database files. We have to obtain an
exclusive lock on all database files before writing the changes.
After all the changes are written, it is important to flush the
changes to disk so that they will be preserved in the event of
a power failure or operating system crash.


This step corresponds to steps
[3\.8](#section_3_8),
[3\.9](#section_3_9), and
[3\.10](#section_3_10) in the single\-file commit
scenario described previously.


  


