## 4\.1\.  When Something Goes Wrong...


![](images/ac/rollback-0.gif)
Suppose the power loss occurred
during [step 3\.10](#section_3_10) above,
while the database changes were being written to disk.
After power is restored, the situation might be something
like what is shown to the right. We were trying to change
three pages of the database file but only one page was
successfully written. Another page was partially written
and a third page was not written at all.


The rollback journal is complete and intact on disk when
the power is restored. This is a key point. The reason for
the flush operation in [step 3\.7](#section_3_7)
is to make absolutely sure that
all of the rollback journal is safely on nonvolatile storage
prior to making any changes to the database file itself.


  


