## 3\.3\. Search against multi\-column keys


Suppose we want to know the order number, product number, and quantity
for any item in which the product number and quantity match the product
number and quantity of any item in order number 365:




```
SELECT ordid, prodid, qty
  FROM item
 WHERE (prodid, qty) IN (SELECT prodid, qty
                           FROM item
                          WHERE ordid = 365);

```

The query above could be rewritten as a join and without the use
of row values:




```
SELECT t1.ordid, t1.prodid, t1.qty
  FROM item AS t1, item AS t2
 WHERE t1.prodid=t2.prodid
   AND t1.qty=t2.qty
   AND t2.ordid=365;

```

Because the same query could be written without the use of row values,
row values do not provide new capabilities. However, many developers say
that the row value format is easier to read, write, and debug.



Even in the JOIN form, the query can be made clearer through the use of
row values:




```
SELECT t1.ordid, t1.prodid, t1.qty
  FROM item AS t1, item AS t2
 WHERE (t1.prodid,t1.qty) = (t2.prodid,t2.qty)
   AND t2.ordid=365;

```

This later query generates exactly the same [bytecode](opcode.html) as the previous
scalar formulation, but using syntax that it cleaner and
easier to read.



