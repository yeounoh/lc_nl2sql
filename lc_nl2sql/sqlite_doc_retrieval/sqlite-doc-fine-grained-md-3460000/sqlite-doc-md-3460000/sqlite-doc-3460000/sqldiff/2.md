# 2\. How It Works


The sqldiff.exe utility works by finding rows in the source and
destination that are logical "pairs". The default behavior is to
treat two rows as pairs if they are in tables with the same name
and they have the same [rowid](lang_createtable.html#rowid), or in the case of a [WITHOUT ROWID](withoutrowid.html)
table if they have the same [PRIMARY KEY](lang_createtable.html#primkeyconst). Any differences in the
content of paired rows are output as UPDATEs. Rows in the source
database that could not be paired are output as DELETEs. Rows in
the destination database that could not be paired are output as
INSERTs.



The \-\-primarykey flag changes the pairing algorithm slightly so
that the schema\-declared [PRIMARY KEY](lang_createtable.html#primkeyconst) is always used for pairing,
even on tables that have a [rowid](lang_createtable.html#rowid). This is often a better choice
for finding differences, however it can lead to missed differences in
the case of rows that have one or more PRIMARY KEY columns set to
NULL.


