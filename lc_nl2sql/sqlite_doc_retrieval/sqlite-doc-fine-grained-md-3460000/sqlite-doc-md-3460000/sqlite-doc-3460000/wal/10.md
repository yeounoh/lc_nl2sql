# 4\. The WAL File


While a [database connection](c3ref/sqlite3.html) is open on a WAL\-mode database, SQLite
maintains an extra journal file called a "Write Ahead Log" or "WAL File".
The name of this file on disk is usually the name of the database file
with an extra "\-wal" suffix, though different naming rules may
apply if SQLite is compiled with [SQLITE\_ENABLE\_8\_3\_NAMES](compile.html#enable_8_3_names).



The WAL file exists for as long as any [database connection](c3ref/sqlite3.html) has the
database open. Usually, the WAL file is deleted automatically when the
last connection to the database closes. However, if the last process to
have the database open exits without cleanly
shutting down the database connection, or if the 
[SQLITE\_FCNTL\_PERSIST\_WAL](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlpersistwal) [file control](c3ref/file_control.html) is used, then the WAL file
might be retained on disk after all connections to the database have
been closed. The WAL file is part of the persistent state of the
database and should be kept with the database if the database is copied
or moved. If a database file is separated from its WAL file, then
transactions that were previously committed to the database might be lost,
or the database file might become corrupted.
The only safe way to remove a WAL file is
to open the database file using one of the [sqlite3\_open()](c3ref/open.html) interfaces
then immediately close the database using [sqlite3\_close()](c3ref/close.html).



The [WAL file format](fileformat2.html#walformat) is precisely defined and is cross\-platform.




