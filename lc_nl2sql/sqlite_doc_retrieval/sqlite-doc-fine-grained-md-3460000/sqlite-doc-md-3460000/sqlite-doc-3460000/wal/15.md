# 9\. Sometimes Queries Return SQLITE\_BUSY In WAL Mode


The [second advantage of WAL\-mode](wal.html#advantages) is that
writers do not block readers and readers to do not block writers.
This is mostly true.
But there are some obscure cases where a query against a WAL\-mode
database can return [SQLITE\_BUSY](rescode.html#busy), so applications should be prepared
for that happenstance.



Cases where a query against a WAL\-mode database can return [SQLITE\_BUSY](rescode.html#busy)
include the following:



* If another database connection has the database mode open
in [exclusive locking mode](pragma.html#pragma_locking_mode) then all queries against the
database will return [SQLITE\_BUSY](rescode.html#busy). Both Chrome and Firefox open their
database files in exclusive locking mode, so attempts to read Chrome or
Firefox databases while the applications are running will run into this
problem, for example.
* When the last connection to a particular database is closing,
that connection will acquire an exclusive lock for a short time while
it cleans up the WAL and shared\-memory files. If a separate attempt
is made to open and query the database while the first connection is
still in the middle of its cleanup process, the second connection
might get an [SQLITE\_BUSY](rescode.html#busy) error.
* If the last connection to a database crashed, then the first new
connection to open the database will start a recovery process. An
exclusive lock is held during recovery. So if a third database connection
tries to jump in and query while the second connection is running recovery,
the third connection will get an [SQLITE\_BUSY](rescode.html#busy) error.



