### 1\.3 Changes In The Way The IN Operator Handles NULLs


 All versions of SQLite up to and including version 3\.5\.9 have mishandled
 NULL values on the right\-hand side of IN and NOT IN operators.
 Specifically, SQLite has previously ignored NULLs on the right\-hand side
 of IN and NOT IN.




 Suppose we have a table X1 defined as follows:




> ```
> 
>   CREATE TABLE x1(x INTEGER);
>   INSERT INTO x1 VALUES(1);
>   INSERT INTO x1 VALUES(2);
>   INSERT INTO x1 VALUES(NULL);
> 
> ```


 Given the definition of X1 above, the following expressions have
 historically evaluated to FALSE in SQLite, though the correct
 answer is actually NULL:




> ```
> 
>   3 IN (1,2,NULL)
>   3 IN (SELECT * FROM x1)
> 
> ```


 Similarly, the following expressions have historically evaluated to
 TRUE when in fact NULL is also the correct answer here:




> ```
> 
>   3 NOT IN (1,2,NULL)
>   3 NOT IN (SELECT * FROM x1)
> 
> ```


 The historical behavior of SQLite is incorrect according to the SQL:1999
 standard and it is inconsistent with the behavior of MySQL and
 PostgreSQL. Version 3\.6\.0 changes the behavior of the IN and
 NOT IN operators to conform to the standard and to give the same
 results as other SQL database engines.




> **Key Point:** The change to the way NULL values are handled
>  by the IN and NOT IN operators is technically a bug fix, not a design
>  change. However, maintainers should check to ensure that applications
>  do not depend on the older, buggy behavior prior to upgrading to
>  version 3\.6\.0\.


