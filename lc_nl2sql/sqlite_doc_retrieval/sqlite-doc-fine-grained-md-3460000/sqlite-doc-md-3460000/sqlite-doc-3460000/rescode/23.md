### (15\) SQLITE\_PROTOCOL



 The SQLITE\_PROTOCOL result code indicates a problem with the file locking
 protocol used by SQLite. The SQLITE\_PROTOCOL error is currently only
 returned when using [WAL mode](wal.html) and attempting to start a new transaction.
 There is a race condition that can occur when two separate 
 [database connections](c3ref/sqlite3.html) both try to start a transaction at the same time
 in [WAL mode](wal.html). The loser of the race backs off and tries again, after
 a brief delay. If the same connection loses the locking race dozens
 of times over a span of multiple seconds, it will eventually give up and
 return SQLITE\_PROTOCOL. The SQLITE\_PROTOCOL error should appear in practice
 very, very rarely, and only when there are many separate processes all
 competing intensely to write to the same database.




