## 1\.0 Overview Of Changes


 A quick enumeration of the changes in SQLite version 3\.5\.0
 is provided here. Subsequent sections will describe these
 changes in more detail.




1. The OS interface layer has been completely reworked:
	1. The undocumented **sqlite3\_os\_switch()** interface has
	 been removed.
	2. The **SQLITE\_ENABLE\_REDEF\_IO** compile\-time flag no longer functions.
	 I/O procedures are now always redefinable.
	3. Three new objects are defined for specifying I/O procedures:
	 [sqlite3\_vfs](c3ref/vfs.html), [sqlite3\_file](c3ref/file.html), and [sqlite3\_io\_methods](c3ref/io_methods.html).
	4. Three new interfaces are used to create alternative OS interfaces:
	 [sqlite3\_vfs\_register()](c3ref/vfs_find.html), [sqlite3\_vfs\_unregister()](c3ref/vfs_find.html), and
	 [sqlite3\_vfs\_find()](c3ref/vfs_find.html).
	5. A new interface has been added to provided additional control over
	 the creation of new database connections: [sqlite3\_open\_v2()](c3ref/open.html).
	 The legacy interfaces of [sqlite3\_open()](c3ref/open.html) and
	 [sqlite3\_open16()](c3ref/open.html) continue to be fully supported.
2. The optional shared cache and memory management features that
 were introduced in version 3\.3\.0 can now be used across multiple
 threads within the same process. Formerly, these extensions only
 applied to database connections operating within a single thread.
	1. The [sqlite3\_enable\_shared\_cache()](c3ref/enable_shared_cache.html) interface now applies to all
	 threads within a process, not to just the one thread in which it
	 was run.
	2. The [sqlite3\_soft\_heap\_limit()](c3ref/soft_heap_limit.html) interface now applies to all threads
	 within a process, not to just the one thread in which it was run.
	3. The [sqlite3\_release\_memory()](c3ref/release_memory.html) interface will now attempt to reduce
	 the memory usages across all database connections in all threads, not
	 just connections in the thread where the interface is called.
	4. The [sqlite3\_thread\_cleanup()](c3ref/aggregate_count.html) interface has become a no\-op.
3. Restrictions on the use of the same database connection by multiple
 threads have been dropped. It is now safe for
 multiple threads to use the same database connection at the same
 time.
4. There is now a compile\-time option that allows an application to
 define alternative malloc()/free() implementations without having
 to modify any core SQLite code.
5. There is now a compile\-time option that allows an application to
 define alternative mutex implementations without having
 to modify any core SQLite code.






 Of these changes, only 1a and 2a through 2c are incompatibilities
 in any formal sense.
 But users who have previously made custom modifications to the
 SQLite source (for example to add a custom OS layer for embedded
 hardware) might find that these changes have a larger impact.
 On the other hand, an important goal of these changes is to make
 it much easier to customize SQLite for use on different operating
 systems. 



