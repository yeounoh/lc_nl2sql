# 3\. The BETWEEN Optimization



 If a term of the WHERE clause is of the following form:


> ```
> 
>   expr1 BETWEEN expr2 AND expr3
> 
> ```





 Then two "virtual" terms are added as follows:


> ```
> 
>   expr1 >= expr2 AND expr1 <= expr3
> 
> ```





 Virtual terms are used for analysis only and do not cause any byte\-code
 to be generated.
 If both virtual terms end up being used as constraints on an index,
 then the original BETWEEN term is omitted and the corresponding test
 is not performed on input rows.
 Thus if the BETWEEN term ends up being used as an index constraint
 no tests are ever performed on that term.
 On the other hand, the
 virtual terms themselves never causes tests to be performed on
 input rows.
 Thus if the BETWEEN term is not used as an index constraint and
 instead must be used to test input rows, the *expr1* expression is
 only evaluated once.




