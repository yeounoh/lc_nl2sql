## 1\.1\. Advantages


Why does SQLite have its own private built\-in printf() implementation?
Why not use the printf() implementation from the standard C library?
Several reasons:






1. By using its own built\-in implementation, SQLite guarantees that the
output will be the same on all platforms and in all LOCALEs.
This is important for consistency and for testing. It would be problematic
if one machine gave an answer of "5\.25e\+08" and another gave an answer
of "5\.250e\+008". Both answers are correct, but it is better when SQLite
always gives the same answer.
2. We know of no way to use the standard library printf() C interface to
implement the [format() SQL function](lang_corefunc.html#format) feature of SQLite. The built\-in
printf() implementation can be easily adapted to that task, however.
3. The printf() in SQLite supports new non\-standard substitution
types ([%q](printf.html#percentq), [%Q](printf.html#percentq), [%w](printf.html#percentw), and [%z](printf.html#percentz)), and enhanced substitution
behavior (%s and [%z](printf.html#percentz)) that are useful both internally to SQLite
and to applications using SQLite.
Standard library printf()s cannot normally be extended in this way.
4. Via the [sqlite3\_mprintf()](c3ref/mprintf.html) and [sqlite3\_vmprintf()](c3ref/mprintf.html) interfaces,
the built\-in printf() implementation supports the ability to render an
arbitrary\-length string into a memory buffer obtained from [sqlite3\_malloc64()](c3ref/free.html).
This is safer and less error prone than trying to precompute an upper size
limit on the result string, allocate an appropriately sized buffer, and
then calling snprintf().
5. The SQLite\-specific printf() supports a new flag (!) called the
"alternate\-form\-2" flag. The alternate\-form\-2 flag changes the processing
of floating\-point conversions in subtle ways so that the output is always
an SQL\-compatible text representation of a floating\-point number \- something
that is not possible to achieve with standard\-library printf(). For
string substitutions, the alternate\-form\-2 flag causes the width and
precision to be measured in characters instead of bytes, which simplifies
processing of strings containing multi\-byte UTF8 characters.
6. The built\-in SQLite has compile\-time options such as
SQLITE\_PRINTF\_PRECISION\_LIMIT that provide defense against 
denial\-of\-service attacks for application that expose the
printf() functionality to untrusted users.
7. Using a built\-in printf() implementation means that SQLite has one
fewer dependency on the host environment, making it more portable.


