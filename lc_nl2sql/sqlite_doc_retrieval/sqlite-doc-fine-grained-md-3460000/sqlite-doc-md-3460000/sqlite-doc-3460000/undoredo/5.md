## Application Interface



After a sequence of changes that define a single undo/redo step, 
invoke the undo::barrier command to define the limit of that step. 
In an interactive program, you can call undo::event after any change 
and undo::barrier will be called automatically as an idle callback.


When the user presses the Undo button, invoke undo::undo. 
Invoke undo::redo when the user presses the Redo button.


On each call to undo::undo or undo::redo, the undo/redo module 
automatically invokes methods status\_refresh and reload\_all in 
all toplevel namespaces. These methods should be defined to 
reconstruct the display or otherwise update the state of the 
program based on the undone/redone changes to the database.


The demonstration code below includes a status\_refresh method 
that grays\-out or activates the Undo and Redo buttons and menu 
entries depending on whether or not there is anything to be 
undone or redone. You will need to redefine this method to 
control the Undo and Redo buttons in your application.


The demonstration code assumes that the SQLite database is 
opened used as a database object named "db".

