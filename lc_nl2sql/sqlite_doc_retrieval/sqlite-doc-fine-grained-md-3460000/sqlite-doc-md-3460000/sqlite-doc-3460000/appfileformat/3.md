## What Is An Application File Format?



An "application file format" is the file format
used to persist application state to disk or to exchange
information between programs.
There are thousands of application file formats in use today.
Here are just a few examples:

* DOC \- Word Perfect and Microsoft Office documents
* DWG \- AutoCAD drawings
* PDF \- Portable Document Format from Adobe
* XLS \- Microsoft Excel Spreadsheet
* GIT \- Git source code repository
* EPUB \- The Electronic Publication format used by non\-Kindle eBooks
* ODT \- The Open Document format used by OpenOffice and others
* PPT \- Microsoft PowerPoint presentations
* ODP \- The Open Document presentation format used by OpenOffice and others


We make a distinction between a "file format" and an "application format".
A file format is used to store a single object. So, for example, a GIF or
JPEG file stores a single image, and an XHTML file stores text,
so those are "file formats" and not "application formats". An EPUB file, 
in contrast, stores both text and images (as contained XHTML and GIF/JPEG
files) and so it is considered an "application format". This article is
about "application formats".

The boundary between a file format and an application format is fuzzy.
This article calls JPEG a file format, but for an image editor, JPEG 
might be considered the application format. Much depends on context.
For this article, let us say that a file format stores a single object
and an application format stores many different objects and their relationships
to one another.

Most application formats fit into one of these three categories:

1. **Fully Custom Formats.**
Custom formats are specifically designed for a single application.
DOC, DWG, PDF, XLS, and PPT are examples of custom formats. Custom
formats are usually contained within a single file, for ease of transport.
They are also usually binary, though the DWG format is a notable exception.
Custom file formats require specialized application code
to read and write and are not normally accessible from commonly
available tools such as unix command\-line programs and text editors.
In other words, custom formats are usually "opaque blobs".
To access the content of a custom application file format, one needs
a tool specifically engineered to read and/or write that format.

- **Pile\-of\-Files Formats.**
Sometimes the application state is stored as a hierarchy of
files. Git is a prime example of this, though the phenomenon occurs
frequently in one\-off and bespoke applications. A pile\-of\-files format
essentially uses the filesystem as a key/value database, storing small
chunks of information into separate files. This gives the
advantage of making the content more accessible to common utility
programs such as text editors or "awk" or "grep". But even if many 
of the files in a pile\-of\-files format
are easily readable, there are usually some files that have their
own custom format (example: Git "Packfiles") and are hence
"opaque blobs" that are not readable
or writable without specialized tools. It is also much less convenient
to move a pile\-of\-files from one place or machine to another, than
it is to move a single file. And it is hard to make a pile\-of\-files
document into an email attachment, for example. Finally, a pile\-of\-files
format breaks the "document metaphor":
there is no one file that a user can point to
that is "the document".

- **Wrapped Pile\-of\-Files Formats.**
Some applications use a Pile\-of\-Files that is then encapsulated into
some kind of single\-file container, usually a ZIP archive. 
EPUB, ODT,and ODP are examples of this approach.
An EPUB book is really just a ZIP archive that contains various
XHTML files for the text of book chapters, GIF and JPEG images for
the artwork, and a specialized catalog file that tells the eBook
reader how all the XML and image files fit together. OpenOffice
documents (ODT and ODP) are also ZIP archives containing XML and
images that represent their content as well as "catalog" files that
show the interrelationships between the component parts.

A wrapped pile\-of\-files format is a compromise between a full
custom file format and a pure pile\-of\-files format.
A wrapped pile\-of\-files format is not an opaque blob in the same sense
as a custom format, since the component parts can still be accessed
using any common ZIP archiver, but the format is not quite as accessible
as a pure pile\-of\-files format because one does still need the ZIP 
archiver, and one cannot normally use command\-line tools like "find"
on the file hierarchy without first un\-zipping it. On the other
hand, a wrapped pile\-of\-files format does preserve the document
metaphor by putting all content into a single disk file. And
because it is compressed, the wrapped pile\-of\-files format tends to
be more compact.

As with custom file formats, and unlike pure pile\-of\-file formats,
a wrapped pile\-of\-files format is not as easy to edit, since
usually the entire file must be rewritten in order to change any
component part.


The purpose of this document is to argue in favor of a fourth
new category of application file format: An SQLite database file.

