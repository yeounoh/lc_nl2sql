### 2\.3\.1\. The Scalar Function Callback


Scalar SQL functions are implemented by a single callback in the
**xFunc** parameter to sqlite3\_create\_function().
The following code demonstrations the implementation of a "noop(X)"
scalar SQL function that merely returns its argument:




```
static void noopfunc(
  sqlite3_context *context,
  int argc,
  sqlite3_value **argv
){
  assert( argc==1 );
  sqlite3_result_value(context, argv[0]);
}

```


The 1st parameter, **context**, is a pointer to an opaque object
that describes the content from which the SQL function was invoked. This
context point becomes the first parameter to many other routines that
the function implement might to invoke, including:


* [sqlite3\_aggregate\_context](c3ref/aggregate_context.html)
* [sqlite3\_context\_db\_handle](c3ref/context_db_handle.html)
* [sqlite3\_get\_auxdata](c3ref/get_auxdata.html)
* [sqlite3\_result\_blob](c3ref/result_blob.html)
* [sqlite3\_result\_blob64](c3ref/result_blob.html)
* [sqlite3\_result\_double](c3ref/result_blob.html)
* [sqlite3\_result\_error](c3ref/result_blob.html)
* [sqlite3\_result\_error16](c3ref/result_blob.html)
* [sqlite3\_result\_error\_code](c3ref/result_blob.html)
* [sqlite3\_result\_error\_nomem](c3ref/result_blob.html)
* [sqlite3\_result\_error\_toobig](c3ref/result_blob.html)
* [sqlite3\_result\_int](c3ref/result_blob.html)
* [sqlite3\_result\_int64](c3ref/result_blob.html)
* [sqlite3\_result\_null](c3ref/result_blob.html)
* [sqlite3\_result\_pointer](c3ref/result_blob.html)
* [sqlite3\_result\_subtype](c3ref/result_subtype.html)
* [sqlite3\_result\_text](c3ref/result_blob.html)
* [sqlite3\_result\_text16](c3ref/result_blob.html)
* [sqlite3\_result\_text16be](c3ref/result_blob.html)
* [sqlite3\_result\_text16le](c3ref/result_blob.html)
* [sqlite3\_result\_text64](c3ref/result_blob.html)
* [sqlite3\_result\_value](c3ref/result_blob.html)
* [sqlite3\_result\_zeroblob](c3ref/result_blob.html)
* [sqlite3\_result\_zeroblob64](c3ref/result_blob.html)
* [sqlite3\_set\_auxdata](c3ref/get_auxdata.html)
* [sqlite3\_user\_data](c3ref/user_data.html)





The [sqlite3\_result() family of functions](c3ref/result_blob.html) are
used to specify the result of the scalar SQL function. One or more of
these should be invoked by the callback to set the function return value.
If none of these routines are invoked for a specific callback, then the
return value will be NULL.



The [sqlite3\_user\_data()](c3ref/user_data.html) routine returns a copy of the **pArg**
pointer that was given to [sqlite3\_create\_function()](c3ref/create_function.html) when the SQL
function was created.



The [sqlite3\_context\_db\_handle()](c3ref/context_db_handle.html) routine returns a pointer to the
[database connection](c3ref/sqlite3.html) object.



The [sqlite3\_aggregate\_context()](c3ref/aggregate_context.html) routine is used only in the
implementations of aggregate and window functions. Scalar functions
may not use [sqlite3\_aggregate\_context()](c3ref/aggregate_context.html). The [sqlite3\_aggregate\_context()](c3ref/aggregate_context.html)
function is included in the interface list only for completeness.




The 2nd and 3rd arguments to the scalar SQL function implemenetation,
**argc** and **argv**, are
the number of arguments to the SQL function itself and the values for
each argument of the SQL function.
Argument values can be of any datatype and are thus stored in
instances of the [sqlite3\_value](c3ref/value.html) object.
Specific C\-language values can be extracted from this object using
the [sqlite3\_value() family of interfaces](c3ref/value_blob.html).



