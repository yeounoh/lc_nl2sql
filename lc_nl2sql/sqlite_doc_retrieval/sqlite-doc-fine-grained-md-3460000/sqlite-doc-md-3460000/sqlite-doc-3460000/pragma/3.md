## PRAGMA functions



PRAGMAs that return results and that have no side\-effects can be 
accessed from ordinary [SELECT](lang_select.html) statements as [table\-valued functions](vtab.html#tabfunc2).
For each participating PRAGMA, the corresponding table\-valued function
has the same name as the PRAGMA with a 7\-character "pragma\_" prefix.
The PRAGMA argument and schema, if any, are passed as arguments to the
table\-valued function, with the schema as an optional, last argument.

For example, information about the columns in an index can be
read using the [index\_info pragma](pragma.html#pragma_index_info) as follows:


> ```
> 
> PRAGMA index_info('idx52');
> 
> ```


Or, the same content can be read using:


> ```
> 
> SELECT * FROM pragma_index_info('idx52');
> 
> ```


The advantage of the table\-valued function format is that the query
can return just a subset of the PRAGMA columns, can include a WHERE clause,
can use aggregate functions, and the table\-valued function can be just
one of several data sources in a join.
For example, to get a list of all indexed columns in a schema, one
could query:


> ```
> 
> SELECT DISTINCT m.name || '.' || ii.name AS 'indexed-columns'
>   FROM sqlite_schema AS m,
>        pragma_index_list(m.name) AS il,
>        pragma_index_info(il.name) AS ii
>  WHERE m.type='table'
>  ORDER BY 1;
> 
> ```



Additional notes:
* Table\-valued functions exist only for built\-in PRAGMAs, not for PRAGMAs
defined using the [SQLITE\_FCNTL\_PRAGMA](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlpragma) file control.
* Table\-valued functions exist only for PRAGMAs that return results and
that have no side\-effects.
* This feature could be used to implement
[information schema](https://en.wikipedia.org/wiki/Information_schema)
by first creating a separate schema using

> ```
> 
> [ATTACH](lang_attach.html) ':memory:' AS 'information_schema';
> 
> ```


Then creating
[VIEWs](lang_createview.html) in that schema that implement the official information schema
tables using table\-valued PRAGMA functions.
* The table\-valued functions for PRAGMA feature was added
in SQLite version 3\.16\.0 (2017\-01\-02\). Prior versions of SQLite
cannot use this feature.




---


