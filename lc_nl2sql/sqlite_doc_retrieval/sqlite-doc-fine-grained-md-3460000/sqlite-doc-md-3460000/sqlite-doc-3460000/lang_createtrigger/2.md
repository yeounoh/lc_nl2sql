# 2\. Description


The CREATE TRIGGER statement is used to add triggers to the 
database schema. Triggers are database operations 
that are automatically performed when a specified database event
occurs. 


Each trigger must specify that it will fire for one of
the following operations: [DELETE](lang_delete.html), [INSERT](lang_insert.html), [UPDATE](lang_update.html).
The trigger fires once for each row that is deleted, inserted,
or updated. If the "UPDATE OF column\-name"
syntax is used, then the trigger will only fire if
column\-name appears on the left\-hand side of
one of the terms in the SET clause of the [UPDATE](lang_update.html) statement.


Due to an historical oversight, columns named in the "UPDATE OF"
clause do not actually have to exist in the table being updated.
Unrecognized column names are silently ignored.
It would be more helpful if SQLite would fail the CREATE TRIGGER
statement if any of the names in the "UPDATE OF" clause are not
columns in the table. However, as this problem was discovered
many years after SQLite was widely deployed, we have resisted
fixing the problem for fear of breaking legacy applications.


At this time SQLite supports only FOR EACH ROW triggers, not FOR EACH
STATEMENT triggers. Hence explicitly specifying FOR EACH ROW is optional.
FOR EACH ROW implies that the SQL statements specified in the trigger
may be executed (depending on the WHEN clause) for each database row being
inserted, updated or deleted by the statement causing the trigger to fire.


Both the WHEN clause and the trigger actions may access elements of 
the row being inserted, deleted or updated using references of the form 
"NEW.*column\-name*" and "OLD.*column\-name*", where
*column\-name* is the name of a column from the table that the trigger
is associated with. OLD and NEW references may only be used in triggers on
events for which they are relevant, as follows:




| *INSERT* | NEW references are valid |
| --- | --- |
| *UPDATE* | NEW and OLD references are valid |
| *DELETE* | OLD references are valid |


If a WHEN clause is supplied, the SQL statements specified
are only executed if the WHEN clause is true.
If no WHEN clause is supplied, the SQL statements
are executed every time the trigger fires.


The BEFORE or AFTER keyword determines when the trigger actions
will be executed relative to the insertion, modification or removal of the
associated row. BEFORE is the default when neither keyword is present.


An [ON CONFLICT](lang_conflict.html) clause may be specified as part of an [UPDATE](lang_update.html) or [INSERT](lang_insert.html)
action within the body of the trigger.
However if an [ON CONFLICT](lang_conflict.html) clause is specified as part of 
the statement causing the trigger to fire, then conflict handling
policy of the outer statement is used instead.


Triggers are automatically [dropped](lang_droptrigger.html)
when the table that they are 
associated with (the *table\-name* table) is 
[dropped](lang_droptable.html). However if the trigger actions reference
other tables, the trigger is not dropped or modified if those other
tables are [dropped](lang_droptable.html) or [modified](lang_altertable.html).


Triggers are removed using the [DROP TRIGGER](lang_droptrigger.html) statement.


