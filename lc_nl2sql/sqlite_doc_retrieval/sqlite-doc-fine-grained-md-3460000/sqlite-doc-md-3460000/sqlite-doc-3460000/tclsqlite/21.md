### The "bind\_fallback" method


The "bind\_fallback" method gives the application control over how to
handle parameter binding when no TCL variable matches the parameter name.

When the [eval method](#eval) sees a named SQL
parameter such as "$abc" or ":def" or "@ghi" in an SQL statement, it tries
to look up a TCL variable with the same name, and it binds the value
of that TCL variable to the SQL parameter. If no such TCL variable exists,
the default behavior is to bind an SQL NULL value to the parameter. However,
if a bind\_fallback proc is specified, then that proc is invoked with the
name of the SQL parameter and the return value from the proc is bound to
the SQL parameter. Or if the proc returns an error, then the SQL statement
aborts with that error. If the proc returns with some code other than
TCL\_OK or TCL\_ERROR, then the SQL parameter is bound to NULL, as it would
be by default.

The "bind\_fallback" method has a single optional argument. If the argument
is an empty string, then the bind\_fallback is cancelled and the default behavior
is restored. If the argument is a non\-empty string, then the argument is a
TCL command (usually the name of a proc) to invoke whenever an SQL parameter
is seen that does not match any TCL variable. If the "bind\_fallback" method
is given no arguments, then the current bind\_fallback command is returned.

As an example, the following setup causes TCL to throw an error if
an SQL statement contains an parameter that does not match any global
TCL variable:


> ```
> 
> proc bind_error {nm} {
>   error "no such variable: $nm"
> }
> db bind_fallback bind_error
> 
> ```



