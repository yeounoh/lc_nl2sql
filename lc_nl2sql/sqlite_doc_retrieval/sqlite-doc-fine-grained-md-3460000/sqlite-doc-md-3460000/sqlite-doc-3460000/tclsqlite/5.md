### The "transaction" method



The "transaction" method is used to execute a TCL script inside an SQLite
database transaction. The transaction is committed when the script completes,
or it rolls back if the script fails. If the transaction occurs within
another transaction (even one that is started manually using BEGIN) it
is a no\-op.




The transaction command can be used to group together several SQLite
commands in a safe way. You can always start transactions manually using
BEGIN, of
course. But if an error occurs so that the COMMIT or ROLLBACK are never
run, then the database will remain locked indefinitely. Also, BEGIN
does not nest, so you have to make sure no other transactions are active
before starting a new one. The "transaction" method takes care of
all of these details automatically.




The syntax looks like this:




> *dbcmd*  **transaction**  *?transaction\-type?*
>   *script*



The *transaction\-type* can be one of **deferred**,
**exclusive** or **immediate**. The default is deferred.




