# 1\.  Introduction



The task of the "query planner" is to figure
out the best algorithm or "query plan" to accomplish an SQL statement.
Beginning with SQLite [version 3\.8\.0](releaselog/3_8_0.html) (2013\-08\-26\),
the query planner component has been
rewritten so that it runs faster and generates better plans. The
rewrite is called the "next generation query planner" or "NGQP".



This article overviews the importance of query planning, describes some
of the problems inherent to query planning, and outlines how the NGQP
solves those problems.


The NGQP is almost always better than the legacy query planner.
However, there may exist legacy applications that unknowingly depend on
undefined and/or suboptimal behavior in the legacy query planner, and
upgrading to the NGQP on those legacy applications could cause performance
regressions. This risk is considered and a checklist is provided
for reducing the risk and for fixing any issues that do arise.


This document focuses on the NGQP. For a more general overview of the
SQLite query planner that encompasses the entire history of SQLite, see the
"[The SQLite Query Optimizer Overview](optoverview.html)" and
"[How Indexes Work](queryplanner.html)" documents.


