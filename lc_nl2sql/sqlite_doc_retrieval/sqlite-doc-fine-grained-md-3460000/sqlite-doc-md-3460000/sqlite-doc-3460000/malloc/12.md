### 3\.1\.6\. Application\-defined memory allocators


New memory allocators do not have to be part of the SQLite source tree
nor included in the sqlite3\.c [amalgamation](amalgamation.html). Individual applications can
supply their own memory allocators to SQLite at start\-time.


To cause SQLite to use a new memory allocator, the application
simply calls:



> ```
> 
> [sqlite3_config](c3ref/config.html)([SQLITE_CONFIG_MALLOC](c3ref/c_config_covering_index_scan.html#sqliteconfigmalloc), pMem);
> 
> ```


In the call above, pMem is a pointer to an [sqlite3\_mem\_methods](c3ref/mem_methods.html) object
that defines the interface to the application\-specific memory allocator.
The [sqlite3\_mem\_methods](c3ref/mem_methods.html) object is really just a structure containing
pointers to functions to implement the various memory allocation primitives.



In a multi\-threaded application, access to the [sqlite3\_mem\_methods](c3ref/mem_methods.html)
is serialized if and only if [SQLITE\_CONFIG\_MEMSTATUS](c3ref/c_config_covering_index_scan.html#sqliteconfigmemstatus) is enabled.
If [SQLITE\_CONFIG\_MEMSTATUS](c3ref/c_config_covering_index_scan.html#sqliteconfigmemstatus) is disabled then the methods in
[sqlite3\_mem\_methods](c3ref/mem_methods.html) must take care of their own serialization needs.



