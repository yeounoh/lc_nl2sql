### 4\.1\.1\. SQL Fuzz Using The American Fuzzy Lop Fuzzer


The concept of fuzz testing has been around for decades, but fuzz
testing was not an effective way to find bugs until 2014 when
Michal Zalewski invented the first practical profile\-guided fuzzer,
[American Fuzzy Lop](http://lcamtuf.coredump.cx/afl/) or "AFL".
Unlike prior fuzzers that blindly generate random inputs, AFL
instruments the program being tested (by modifying the assembly\-language
output from the C compiler) and uses that instrumentation to detect when
an input causes the program to do something different \- to follow
a new control path or loop a different number of times. Inputs that provoke
new behavior are retained and further mutated. In this way, AFL is able
to "discover" new behaviors of the program under test, including behaviors
that were never envisioned by the designers.



AFL proved adept at finding arcane bugs in SQLite.
Most of the findings have been assert() statements where the conditional
was false under obscure circumstances. But AFL has also found
a fair number of crash bugs in SQLite, and even a few cases where SQLite
computed incorrect results.



Because of its past success, AFL became a standard part of the testing
strategy for SQLite beginning with [version 3\.8\.10](releaselog/3_8_10.html) (2015\-05\-07\) until
it was superseded by better fuzzers in [version 3\.29\.0](releaselog/3_29_0.html) (2019\-07\-10\).




