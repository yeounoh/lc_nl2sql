## 4\.2\. Malformed Database Files


There are numerous test cases that verify that SQLite is able to
deal with malformed database files.
These tests first build a well\-formed database file, then add
corruption by changing one or more bytes in the file by some means
other than SQLite. Then SQLite is used to read the database.
In some cases, the bytes changes are in the middle of data.
This causes the content of the database to change while keeping the
database well\-formed.
In other cases, unused bytes of the file are modified, which has
no effect on the integrity of the database.
The interesting cases are when bytes of the file that
define database structure get changed. The malformed database tests
verify that SQLite finds the file format errors and reports them
using the [SQLITE\_CORRUPT](rescode.html#corrupt) return code without overflowing
buffers, dereferencing NULL pointers, or performing other
unwholesome actions.


The [dbsqlfuzz](testing.html#dbsqlfuzz) fuzzer also does an excellent job of verifying
that SQLite responds sanely to malformed database files.


