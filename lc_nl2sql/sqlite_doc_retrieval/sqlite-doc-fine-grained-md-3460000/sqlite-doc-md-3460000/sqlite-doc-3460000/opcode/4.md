## 2\.2\. Instruction Format


A bytecoded program in SQLite consists of one or more instructions.
Each instruction has an opcode and
five operands named P1, P2 P3, P4, and P5\. The P1, P2, and P3
operands are 32\-bit signed integers. These operands often refer to
registers. For instructions that operate on b\-tree cursors,
the P1 operand is usually the cursor number.
For jump instructions, P2 is usually the jump destination.
P4 may be a 32\-bit signed integer, a 64\-bit signed integer, a
64\-bit floating point value, a string literal, a Blob literal,
a pointer to a collating sequence comparison function, or a
pointer to the implementation of an application\-defined SQL
function, or various other things. P5 is a 16\-bit unsigned integer
normally used to hold flags. Bits of the P5 flag can sometimes affect
the opcode in subtle ways. For example, if the
SQLITE\_NULLEQ (0x0080\) bit of the P5 operand
is set on the [Eq](opcode.html#Eq) opcode, then the NULL values compare
equal to one another. Otherwise NULL values compare different
from one another.


Some opcodes use all five operands. Some opcodes use
one or two. Some opcodes use none of the operands.


The bytecode engine begins execution on instruction number 0\.
Execution continues until a [Halt](opcode.html#Halt) instruction is seen, or until
the program counter becomes greater than the address of
last instruction, or until there is an error.
When the bytecode engine halts, all memory
that it allocated is released and all database cursors it may
have had open are closed. If the execution stopped due to an
error, any pending transactions are terminated and changes made
to the database are rolled back.


The [ResultRow](opcode.html#ResultRow) opcode causes the
bytecode engine to pause and the corresponding [sqlite3\_step()](c3ref/step.html)
call to return [SQLITE\_ROW](rescode.html#row). Before invoking
[ResultRow](opcode.html#ResultRow), the bytecoded program will
have loaded the results for a single row of a query into a series
of registers. C\-language APIs such as [sqlite3\_column\_int()](c3ref/column_blob.html)
or [sqlite3\_column\_text()](c3ref/column_blob.html) extract the query results from those
registers. The bytecode engine resumes with the next instruction
after the [ResultRow](opcode.html#ResultRow) on the next call
to [sqlite3\_step()](c3ref/step.html).




