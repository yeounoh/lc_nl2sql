## 4\.3\. Rigid type enforcement prevents data pollution


 Some people contend that if you have rigorous constraints on the
schema, and especially strict enforcement of column datatypes, this
will help prevent incorrect data from being added to the database.
This is not true. It is true that type enforcement might help prevent
*egregiously* incorrect data from getting into the system.
But type enforcement is no help in prevent subtly incorrect data
from being recorded.



 So, for example, rigid type enforcement can successfully prevent
the customer name (text) from being inserted into the integer
Customer.creditScore column. On the other hand, if that mistake occurs,
it is very easy to spot the problem and find all affected rows.
But type enforcement is no help in preventing a bug where the customer
family name and given name are reversed, since both are text fields.



 (Aside: Decades ago, I worked on a team where there was a woman
named "Merritt Tracy". "Merritt" was her given name and "Tracy" was
her family name. She reported that she spent an inordinate amount of
time and energy trying to correct databases that had "Tracy" as her
given name and "Merritt" as her family name.)



 By suppressing easy\-to\-detect errors and passing through only the
hard\-to\-detect errors, rigid type enforcement can actually make it more
difficult to find and fix bugs. Data errors tend to cluster. If you have
20 different data sources, most of the data errors will usually come
from just 2 or 3 of those sources. The presence of egregious
errors (such as text in an integer column) is a convenient early warning
signal that something is amiss. The source of the problem can be
tracked quickly and extra scrutiny applied to the source of the
egregious errors, thus hopefully also fixing the subtle errors too.
When egregious errors are suppressed, you lose an important signal
that helps you to detect and fix the subtle errors.



 Data errors are inevitable. They will happen regardless of how
much type checking is done. Rigid type enforcement can catch only
a small subset of those cases \- the most obvious cases. It does
nothing to help find and fix the more subtle cases. And, by suppressing
the signal of which data sources are problematic, it can sometimes
make the subtle errors more difficult to locate.



