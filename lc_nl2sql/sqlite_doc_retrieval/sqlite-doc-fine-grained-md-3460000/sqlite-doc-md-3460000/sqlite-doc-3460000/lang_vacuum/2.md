# 2\. Description



 The VACUUM command rebuilds the database file, repacking it into a minimal
 amount of disk space. There are several
 reasons an application might do this:



* Unless SQLite is running in "auto\_vacuum\=FULL" mode, when a large
 amount of data is deleted from the database file it leaves behind empty
 space, or "free" database pages. This means the database file might
 be larger than strictly necessary. Running VACUUM to rebuild the
 database reclaims this space and reduces the size of the database file.
* Frequent inserts, updates, and deletes can cause the database file
 to become fragmented \- where data for a single table or index is scattered
 around the database file. Running VACUUM ensures that each table and
 index is largely stored contiguously within the database file. In some
 cases, VACUUM may also reduce the number of partially filled pages in
 the database, reducing the size of the database file further.
* When content is deleted from an SQLite database, the content is not
 usually erased but rather the space used to hold the content is marked as
 being available for reuse. This can allow deleted content to be recovered
 by a hacker or by forensic analysis. Running VACUUM will clean the database
 of all traces of deleted content, thus preventing an adversary from recovering
 deleted content. Using VACUUM in this way is an alternative to setting
 [PRAGMA secure\_delete\=ON](pragma.html#pragma_secure_delete).
* Normally, the database [page\_size](pragma.html#pragma_page_size) and whether or not the database
 supports [auto\_vacuum](pragma.html#pragma_auto_vacuum) must be configured before the database file is
 actually created. However, when not in [write\-ahead log](wal.html) mode, the
 [page\_size](pragma.html#pragma_page_size) and/or [auto\_vacuum](pragma.html#pragma_auto_vacuum) properties of an existing database may be
 changed by using the [page\_size](pragma.html#pragma_page_size) and/or
 [pragma auto\_vacuum](pragma.html#pragma_auto_vacuum) pragmas and then immediately VACUUMing
 the database. When in [write\-ahead log](wal.html) mode, only the [auto\_vacuum](pragma.html#pragma_auto_vacuum)
 support property can be changed using VACUUM.


By default, VACUUM operates on the main database.
[Attached databases](lang_attach.html) can be vacuumed by appending the appropriate
schema\-name to the VACUUM statement.



**Compatibility Warning:** The ability to vacuum attached databases was
added in [version 3\.15\.0](releaselog/3_15_0.html) (2016\-10\-14\). Prior to that, a
schema\-name added to the
VACUUM statement would be silently ignored and the "main" schema would be
vacuumed.



