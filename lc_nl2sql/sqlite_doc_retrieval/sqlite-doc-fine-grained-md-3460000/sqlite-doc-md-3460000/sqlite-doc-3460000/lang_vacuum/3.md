## 2\.1\. VACUUM with an INTO clause


If the INTO clause is included, then the original database file is
unchanged and a new database is created in a file named by the
argument to the INTO clause.
The argument is a scalar [expression](lang_expr.html), such as a text literal.
The new database will contain the same
logical content as the original database, fully vacuumed.




The VACUUM command with an INTO clause is an alternative to the
[backup API](backup.html) for generating backup copies of a live database.
The advantage of using VACUUM INTO is that the resulting backup
database is minimal in size and hence the amount of filesystem
I/O may be reduced. Also, all deleted content is purged from the
backup, leaving behind no forensic traces. On the other hand,
the [backup API](backup.html) uses fewer CPU cycles and can be executed
incrementally.




The filename in the INTO clause can be an arbitrary SQL expression
that evaluates to a string.
The file named by the INTO clause must not previously exist, or
else it must be an empty file, or the VACUUM INTO command will
fail with an error.




The argument to INTO can be a [URI filename](uri.html) if URI filenames
are enabled.
URL filenames are enabled if any of the following are true:


* The SQLite library was compiled with [\-DSQLITE\_USE\_URI\=1](compile.html#use_uri).
* The [sqlite3\_config](c3ref/config.html)([SQLITE\_CONFIG\_URI](c3ref/c_config_covering_index_scan.html#sqliteconfiguri),1\) interfaces was
 invoked at start\-time.
* The [database connection](c3ref/sqlite3.html) that is running the VACUUM INTO
 statement was originally opened using the
 [SQLITE\_OPEN\_URI](c3ref/c_open_autoproxy.html) flag.



The VACUUM INTO command is transactional in the sense that
the generated output database is a consistent snapshot of the
original database. However, if the VACUUM INTO command is
interrupted by an unplanned shutdown or power loss, then
the generated output database might be incomplete and corrupt.
Also, SQLite does not invoke fsync() or FlushFileBuffers()
on the generated database to ensure that it has reached
non\-volatile storage before completing.





