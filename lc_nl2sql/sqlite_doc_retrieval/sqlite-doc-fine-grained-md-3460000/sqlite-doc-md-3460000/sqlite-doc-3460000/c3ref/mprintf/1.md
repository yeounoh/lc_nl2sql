## Formatted String Printing Functions




> ```
> 
> char *sqlite3_mprintf(const char*,...);
> char *sqlite3_vmprintf(const char*, va_list);
> char *sqlite3_snprintf(int,char*,const char*, ...);
> char *sqlite3_vsnprintf(int,char*,const char*, va_list);
> 
> ```



These routines are work\-alikes of the "printf()" family of functions
from the standard C library.
These routines understand most of the common formatting options from
the standard library printf()
plus some additional non\-standard formats ([%q](../printf.html#percentq), [%Q](../printf.html#percentq), [%w](../printf.html#percentw), and [%z](../printf.html#percentz)).
See the [built\-in printf()](../printf.html) documentation for details.


The sqlite3\_mprintf() and sqlite3\_vmprintf() routines write their
results into memory obtained from [sqlite3\_malloc64()](../c3ref/free.html).
The strings returned by these two routines should be
released by [sqlite3\_free()](../c3ref/free.html). Both routines return a
NULL pointer if [sqlite3\_malloc64()](../c3ref/free.html) is unable to allocate enough
memory to hold the resulting string.


The sqlite3\_snprintf() routine is similar to "snprintf()" from
the standard C library. The result is written into the
buffer supplied as the second parameter whose size is given by
the first parameter. Note that the order of the
first two parameters is reversed from snprintf(). This is an
historical accident that cannot be fixed without breaking
backwards compatibility. Note also that sqlite3\_snprintf()
returns a pointer to its buffer instead of the number of
characters actually written into the buffer. We admit that
the number of characters written would be a more useful return
value but we cannot change the implementation of sqlite3\_snprintf()
now without breaking compatibility.


As long as the buffer size is greater than zero, sqlite3\_snprintf()
guarantees that the buffer is always zero\-terminated. The first
parameter "n" is the total size of the buffer, including space for
the zero terminator. So the longest string that can be completely
written will be n\-1 characters.


The sqlite3\_vsnprintf() routine is a varargs version of sqlite3\_snprintf().


See also: [built\-in printf()](../printf.html), [printf() SQL function](../lang_corefunc.html#printf)


See also lists of
 [Objects](../c3ref/objlist.html),
 [Constants](../c3ref/constlist.html), and
 [Functions](../c3ref/funclist.html).


