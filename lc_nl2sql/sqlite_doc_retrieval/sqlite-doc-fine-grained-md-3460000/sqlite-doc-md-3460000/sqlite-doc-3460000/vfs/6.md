## 3\.3\. Specifying Which VFS To Use



There is always one VFS which is the default VFS. On unix systems,
the "unix" VFS comes up as the default and on windows it is "win32".
If no other actions are taken, new database connections will make use
of the default VFS.




The default VFS can be changed by registering or re\-registering the
VFS using the [sqlite3\_vfs\_register()](c3ref/vfs_find.html) interface with a second parameter
of 1\. Hence, if a (unix) process wants to always use the "unix\-nolock" VFS 
in place of "unix", the following code would work:




> ```
> 
> sqlite3_vfs_register(sqlite3_vfs_find("unix-nolock"), 1);
> 
> ```



An alternate VFS can also be specified as the 4th parameter to the
[sqlite3\_open\_v2()](c3ref/open.html) function. For example:




> ```
> 
> int rc = sqlite3_open_v2("demo.db", &db, SQLITE_OPEN_READWRITE, "unix-nolock");
> 
> ```



Finally, if [URI filenames](uri.html) have been enabled, then the alternative
VFS can be specified using the "vfs\=" parameter on the URI. This technique
works with [sqlite3\_open()](c3ref/open.html), [sqlite3\_open16()](c3ref/open.html), [sqlite3\_open\_v2()](c3ref/open.html), and
when a new database is [ATTACH](lang_attach.html)\-ed to an existing database connection.
For example:




> ```
> 
> ATTACH 'file:demo2.db?vfs=unix-none' AS demo2;
> 
> ```



The VFS specified by a URI has the highest priority. After that comes
a VFS specified as the fourth argument to [sqlite3\_open\_v2()](c3ref/open.html). The
default VFS is used if no VFS is specified otherwise.




