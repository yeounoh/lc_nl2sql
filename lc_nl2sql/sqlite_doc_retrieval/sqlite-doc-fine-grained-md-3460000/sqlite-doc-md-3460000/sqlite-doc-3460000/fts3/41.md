## 9\.4\. Doclist Format



 A doclist consists of an array of 64\-bit signed integers, serialized using
 the FTS varint format. Each doclist entry is made up of a series of two
 or more integers, as follows:



1. The docid value. The first entry in a doclist contains the literal docid
 value. The first field of each subsequent doclist entry contains the
 difference between the new docid and the previous one (always a positive
 number).
2. Zero or more term\-offset lists. A term\-offset list is present for each
 column of the FTS virtual table that contains the term. A term\-offset
 list consists of the following:
	1. Constant value 1\. This field is omitted for any term\-offset list
	 associated with column 0\.
	2. The column number (1 for the second leftmost column, etc.). This
	 field is omitted for any term\-offset list associated with column 0\.
	3. A list of term\-offsets, sorted from smallest to largest. Instead
	 of storing the term\-offset value literally, each integer stored
	 is the difference between the current term\-offset and the previous
	 one (or zero if the current term\-offset is the first), plus 2\.
3. Constant value 0\.



![](images/fts3_doclist2.png)
 FTS3 Doclist Format




![](images/fts3_doclist.png)
 FTS Doclist Entry Format




 For doclists for which the term appears in more than one column of the FTS
 virtual table, term\-offset lists within the doclist are stored in column
 number order. This ensures that the term\-offset list associated with
 column 0 (if any) is always first, allowing the first two fields of the
 term\-offset list to be omitted in this case.




