## 7\.1\. The "optimize" command



 The "optimize" command causes FTS3/4 to merge together all of its
 inverted index b\-trees into one large and complete b\-tree. Doing
 an optimize will make subsequent queries run faster since there are
 fewer b\-trees to search, and it may reduce disk usage by coalescing
 redundant entries. However, for a large FTS table, running optimize
 can be as expensive as running [VACUUM](lang_vacuum.html). The optimize command
 essentially has to read and write the entire FTS table, resulting
 in a large transaction.




 In batch\-mode operation, where an FTS table is initially built up
 using a large number of INSERT operations, then queried repeatedly
 without further changes, it is often a good idea
 to run "optimize" after the last INSERT and before the first query.




