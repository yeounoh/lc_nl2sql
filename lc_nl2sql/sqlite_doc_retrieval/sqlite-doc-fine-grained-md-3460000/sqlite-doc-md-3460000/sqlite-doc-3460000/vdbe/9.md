## CREATE and DROP


Using CREATE or DROP to create or destroy a table or index is
really the same as doing an INSERT or DELETE from the special
"sqlite\_master" table, at least from the point of view of the VDBE.
The sqlite\_master table is a special table that is automatically
created for every SQLite database. It looks like this:



> ```
> 
> CREATE TABLE sqlite_master (
>   type      TEXT,    -- either "table" or "index"
>   name      TEXT,    -- name of this table or index
>   tbl_name  TEXT,    -- for indices: name of associated table
>   sql       TEXT     -- SQL text of the original CREATE statement
> )
> 
> ```


Every table (except the "sqlite\_master" table itself)
and every named index in an SQLite database has an entry
in the sqlite\_master table. You can query this table using
a SELECT statement just like any other table. But you are
not allowed to directly change the table using UPDATE, INSERT,
or DELETE. Changes to sqlite\_master have to occur using
the CREATE and DROP commands because SQLite also has to update
some of its internal data structures when tables and indices
are added or destroyed.


But from the point of view of the VDBE, a CREATE works
pretty much like an INSERT and a DROP works like a DELETE.
When the SQLite library opens to an existing database,
the first thing it does is a SELECT to read the "sql"
columns from all entries of the sqlite\_master table.
The "sql" column contains the complete SQL text of the
CREATE statement that originally generated the index or
table. This text is fed back into the SQLite parser
and used to reconstruct the
internal data structures describing the index or table.


