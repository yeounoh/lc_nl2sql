## Adjusting SQLite To Use 8\+3 Filenames



Some devices are compelled to use an older filesystem with 8\+3
filename restrictions for backwards compatibility, or due
to other non\-technical factors. In such situations, SQLite can be
coerced into using auxiliary files that fit the 8\+3 pattern as follows:



1. Compile the SQLite library with the either the compile\-time
 options [SQLITE\_ENABLE\_8\_3\_NAMES\=1](compile.html#enable_8_3_names) or
 [SQLITE\_ENABLE\_8\_3\_NAMES\=2](compile.html#enable_8_3_names).
 Support for 8\+3 filenames is not included in SQLite by default
 because it does introduce some overhead. The overhead is tiny,
 but even so, we do not want to burden the billions of SQLite
 applications that do not need 8\+3 filename support.

- If the [SQLITE\_ENABLE\_8\_3\_NAMES\=1](compile.html#enable_8_3_names) option
 is used, then SQLite is capable of using 8\+3 filenames but that
 capabilities is disabled and must be enabled separately for each
 database connection by using
 using [URI filenames](uri.html) when [opening](c3ref/open.html) or
 [ATTACH\-ing](lang_attach.html) the database files and include the
 "8\_3\_names\=1" query parameter in the URI. If SQLite
 is compiled with
 [SQLITE\_ENABLE\_8\_3\_NAMES\=2](compile.html#enable_8_3_names) then
 8\+3 filenames are enabled by default and this step can be
 skipped.

- Make sure that database filenames follow the 8\+3 filename
 format and that they do not have an empty name or extension.
 In other words, the database filename must contain between
 1 and 8 characters in the base name and between 1 and 3 characters
 in the extension. Blank extensions are not allowed.



When the steps above are used, SQLite will shorten filename extensions
by only using the last 3 characters of
the extension. Thus, for example, a file that would normally be called
"app.db\-journal" is shortened to just "app.nal".
Similarly, "app.db\-wal" will become "app.wal" and
"app.db\-shm" becomes "app.shm".




Note that it is very important that the database filename have some kind
of extension. If there is no extension, then SQLite creates auxiliary
filenames by appending to the base name of the file. Thus, a database
named "db01" would have a [rollback journal](lockingv3.html#rollback) file named
"db01\-journal". And as this filename has no extension to shorten
to 3 characters, it will be used as\-is, and will violate 8\+3 naming rules.




