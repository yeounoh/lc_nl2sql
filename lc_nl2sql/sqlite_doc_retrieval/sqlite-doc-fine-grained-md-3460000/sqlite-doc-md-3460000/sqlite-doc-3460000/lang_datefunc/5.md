# 5\. Caveats And Bugs


The computation of local time depends heavily on the whim 
of politicians and is thus difficult to get correct for 
all locales. In this implementation, the standard C library 
function localtime\_r() is used to assist in the calculation of 
local time. The 
localtime\_r() C function normally only works for years
between 1970 and 2037\. For dates outside this range, SQLite 
attempts to map the year into an equivalent year within 
this range, do the calculation, then map the year back.


These functions only work for dates between 0000\-01\-01 00:00:00
and 9999\-12\-31 23:59:59 (julian day numbers 1721059\.5 through 5373484\.5\).
For dates outside that range, the results of these
functions are undefined.


Non\-Vista Windows platforms only support one set of DST rules. 
Vista only supports two. Therefore, on these platforms, 
historical DST calculations will be incorrect. 
For example, in the US, in 2007 the DST rules changed. 
Non\-Vista Windows platforms apply the new 2007 DST rules 
to all previous years as well. Vista does somewhat better
getting results correct back to 1986, when the rules were also changed.


All internal computations assume the 
[Gregorian calendar](http://en.wikipedia.org/wiki/Gregorian_calendar)
system. They also assume that every
day is exactly 86400 seconds in duration; no leap seconds are incorporated.


*This page last modified on [2024\-04\-16 16:29:07](https://sqlite.org/docsrc/honeypot) UTC* 


