# 2\. Loading An Extension


An SQLite extension is a shared library or DLL. To load it, you
need to supply SQLite with the name of the file containing the
shared library or DLL and an entry point to initialize the extension.
In C code, this information is supplied using the
[sqlite3\_load\_extension()](c3ref/load_extension.html) API. See the documentation on that
routine for additional information.


Note that different operating systems use different filename
suffixes for their shared libraries. Windows uses ".dll", Mac uses
".dylib", and most unixes other than mac use ".so". If you want to
make your code portable, you can omit the suffix from the shared
library filename and the appropriate suffix will be added automatically
by the [sqlite3\_load\_extension()](c3ref/load_extension.html) interface.


There is also an SQL function that can be used to load extensions:
[load\_extension(X,Y)](lang_corefunc.html#load_extension). It works just like the [sqlite3\_load\_extension()](c3ref/load_extension.html)
C interface.


Both methods for loading an extension allow you to specify
the name of an entry point for the extension.
You can leave this argument blank \- passing in
a NULL pointer for the [sqlite3\_load\_extension()](c3ref/load_extension.html) C\-language interface
or omitting the second argument for the [load\_extension()](lang_corefunc.html#load_extension) SQL interface \-
and the extension loader logic will attempt to figure out the entry point
on its own. It will first try the generic extension name
"sqlite3\_extension\_init". If that does not work, it constructs a
entry point using the template "sqlite3\_X\_init" where the X is replaced
by the lowercase equivalent of every ASCII character in the filename
after the last "/" and before the first following "." omitting the
first three characters if they happen to be "lib". So, for example,
if the filename is "/usr/lib/libmathfunc\-4\.8\.so" the entry point name
would be "sqlite3\_mathfunc\_init". Or if the filename is
"./SpellFixExt.dll" then the entry point would be called
"sqlite3\_spellfixext\_init".



For security reasons, extension loading is turned off by default.
In order to use either the C\-language or SQL extension loading functions,
one must first enable extension loading using the
[sqlite3\_db\_config](c3ref/db_config.html)(db,[SQLITE\_DBCONFIG\_ENABLE\_LOAD\_EXTENSION](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableloadextension),1,NULL)
C\-language API in your application.


From the [command\-line shell](cli.html), extensions can be loaded using the
".load" dot\-command. For example:




> ```
> 
> .load ./YourCode
> 
> ```


Note that the command\-line shell program has already enabled
extension loading for you (by calling the [sqlite3\_enable\_load\_extension()](c3ref/enable_load_extension.html)
interface as part of its setup) so the command above works without
any special switches, setup, or other complications.


The ".load" command with one argument invokes sqlite3\_load\_extension()
with the zProc parameter set to NULL, causing SQLite to first look for
an entry point named "sqlite3\_extension\_init" and then "sqlite3\_X\_init"
where "X" is derived from the filename. If your extension has an entry
point with a different name, simply supply that name as the second
argument. For example:



> ```
> 
> .load ./YourCode nonstandard_entry_point
> 
> ```



