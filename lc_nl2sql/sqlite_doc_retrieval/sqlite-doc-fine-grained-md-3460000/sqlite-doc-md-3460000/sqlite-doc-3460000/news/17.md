### 2022\-12\-28 \- [Version 3\.40\.1](releaselog/3_40_1.html)


> Version 3\.40\.1 is a patch release that fixes some obscure problems
> in version 3\.40\.0\. The problems fixed have no impact on most applications.
> Upgrading is only necessary if you encounter problems.
> 
> The two most important fixes are these:
> * Fix the [safe command\-line option](cli.html#safemode) on the [CLI](cli.html) so that it
> correctly disallows functions with side\-effects. This is a bug
> in the CLI — *not* a bug in the
> SQLite library — and it only affects the \-\-safe command\-line
> option, making that option less than fully "safe". As the number
> of systems that use the \-\-safe command\-line option in the CLI is
> approximately zero, this is not considered an important bug. However,
> a third\-party wrote a CVE against it which caused considerable angst
> among maintainers, so it seems good to get the fix into circulation
> sooner rather than wait on the next major release.
> * The optional [memsys5](malloc.html#memsys5) memory allocator picked up a bug that might
> put it into an infinite loop for very large (500MiB) allocations.
> Almost all systems use their native memory allocator, not memsys5\.
> Memsys5 is only used if SQLite is compiled using SQLITE\_ENABLE\_MEMSYS5
> and then initialized using [sqlite3\_config](c3ref/config.html)([SQLITE\_CONFIG\_HEAP](c3ref/c_config_covering_index_scan.html#sqliteconfigheap)).
> Very, very few systems do this, and so the problem is not considered
> to be serious.
> 
> 
> 
> See the [branch\-3\.40 timeline](https://sqlite.org/src/timeline?r=branch-3.40)
> for a complete listing of changes that have gone into this patch release.



---

