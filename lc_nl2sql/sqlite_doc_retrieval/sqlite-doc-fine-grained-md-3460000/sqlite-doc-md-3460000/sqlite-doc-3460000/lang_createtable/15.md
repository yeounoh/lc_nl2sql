# 5\. ROWIDs and the INTEGER PRIMARY KEY


Except for [WITHOUT ROWID](withoutrowid.html) tables, all rows within SQLite tables
have a 64\-bit signed integer key that uniquely identifies the row within its table.
This integer is usually
called the "rowid". The rowid value can be accessed using one of the special
case\-independent names "rowid", "oid", or "\_rowid\_" in place of a column name.
If a table contains a user defined column named "rowid", "oid" or "\_rowid\_",
then that name always refers the explicitly declared column and cannot be used
to retrieve the integer rowid value.



The rowid (and "oid" and "\_rowid\_") is omitted in [WITHOUT ROWID](withoutrowid.html) tables.
WITHOUT ROWID tables are only available in SQLite [version 3\.8\.2](releaselog/3_8_2.html)
(2013\-12\-06\) and later.
A table that lacks the WITHOUT ROWID clause is called a "rowid table".



The data for rowid tables is stored as a B\-Tree structure containing
one entry for each table row, using the rowid value as the key. This means that
retrieving or sorting records by rowid is fast. Searching for a record with a
specific rowid, or for all records with rowids within a specified range is
around twice as fast as a similar search made by specifying any other PRIMARY
KEY or indexed value.



 With one exception noted below, if a rowid table has a primary key that consists
of a single column and the declared type of that column is "INTEGER" in any mixture of
upper and lower case, then the column becomes an alias for the rowid. Such a
column is usually referred to as an "integer primary key". A PRIMARY KEY column
only becomes an integer primary key if the declared type name is exactly
"INTEGER". Other integer type names like "INT" or "BIGINT" or "SHORT INTEGER"
or "UNSIGNED INTEGER" causes the primary key column to behave as an ordinary
table column with integer [affinity](datatype3.html#affinity) and a unique index, not as an alias for
the rowid.



 The exception mentioned above is that if the declaration of a column with
declared type "INTEGER" includes an "PRIMARY KEY DESC" clause, it does not
become an alias for the rowid and is not classified as an integer primary key.
This quirk is not by design. It is due to a bug in early versions of SQLite.
But fixing the bug could result in backwards incompatibilities.
Hence, the original behavior has been retained (and documented) because odd
behavior in a corner case is far better than a compatibility break. This means
that the following three table declarations all cause the column "x" to be an
alias for the rowid (an integer primary key):



* CREATE TABLE t(x INTEGER PRIMARY KEY ASC, y, z);
* CREATE TABLE t(x INTEGER, y, z, PRIMARY KEY(x ASC));
* CREATE TABLE t(x INTEGER, y, z, PRIMARY KEY(x DESC));


But the following declaration does not result in "x" being an alias for
the rowid:


* CREATE TABLE t(x INTEGER PRIMARY KEY DESC, y, z);


Rowid values may be modified using an UPDATE statement in the same
way as any other column value can, either using one of the built\-in aliases
("rowid", "oid" or "\_rowid\_") or by using an alias created by an integer
primary key. Similarly, an INSERT statement may provide a value to use as the
rowid for each row inserted. Unlike normal SQLite columns, an integer primary
key or rowid column must contain integer values. Integer primary key or rowid
columns are not able to hold floating point values, strings, BLOBs, or NULLs.



If an UPDATE statement attempts to set an integer primary key or rowid column
to a NULL or blob value, or to a string or real value that cannot be losslessly
converted to an integer, a "datatype mismatch" error occurs and the statement
is aborted. If an INSERT statement attempts to insert a blob value, or a string
or real value that cannot be losslessly converted to an integer into an
integer primary key or rowid column, a "datatype mismatch" error occurs and the
statement is aborted.



If an INSERT statement attempts to insert a NULL value into a rowid or
integer primary key column, the system chooses an integer value to use as the
rowid automatically. A detailed description of how this is done is provided
[separately](autoinc.html).


The [parent key](foreignkeys.html#parentchild) of a [foreign key constraint](foreignkeys.html) is not allowed to
use the rowid. The parent key must used named columns only.


