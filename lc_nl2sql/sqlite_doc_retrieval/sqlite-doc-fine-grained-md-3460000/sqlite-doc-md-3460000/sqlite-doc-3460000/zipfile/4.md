## 3\.1\. Table\-Valued Function (read\-only access)


For reading existing zip archives, the Zipfile module provides a
[table\-valued function](vtab.html#tabfunc2) that accepts a single argument. If the argument
is a text value, then it is a path to a zip archive to read from the
file\-system. Or, if the argument is an SQL blob, then it is the zip
archive data itself.



For example, to inspect the contents of zip archive "test.zip" from 
the current directory:




```
SELECT * FROM zipfile('test.zip');

```

Or, from the SQLite shell tool (the [readfile()](cli.html#fileio) 
function reads the contents of a file from the file\-system and returns it as a
blob):




```
SELECT * FROM zipfile( readfile('test.zip') );

```

The table\-valued function returns one row for each record (file, 
directory or symbolic link) in the zip archive. Each row has the 
following columns:





| ColumnÂ Name | Contents |
| --- | --- |
| name | File name/path for the zip file record. |
| mode | UNIX mode, as returned by stat(2\) for the zip file record (an  integer). This identifies the type of record (file, directory  or symbolic link), and the associated user/group/all   permissions. |
| mtime | UTC timestamp, in seconds since the UNIX epoch (an integer). |
| sz | Size of associated data in bytes after it has been   uncompressed (an integer). |
| rawdata | Raw (possibly compressed) data associated with zip file  entry (a blob). |
| data | If the compression method for the record is either 0 or 8  (see below), then the uncompressed data associated with the  zip file entry. Or, if the compression method is not 0 or 8,   this column contains a NULL value. |
| method | The compression method used to compress the data (an  integer). The value 0 indicates that the data is stored  in the zip archive without compression. 8 means the  raw deflate algorithm. |


