#### 2\.3\.2\.2\. ORDER BY and orderByConsumed


If the virtual table will output rows in the order specified by 
the ORDER BY clause, then the orderByConsumed flag may be set to 
true. If the output is not automatically in the correct order 
then orderByConsumed must be left in its default false setting. 
This will indicate to the SQLite core that it will need to do a 
separate sorting pass over the data after it comes out of the virtual table.
Setting orderByConsumed is an optimization. A query will always
get the correct answer if orderByConsumed is left at its default
value (0\). Unnecessary sort operations might be avoided resulting
in a faster query if orderByConsumed is set, but setting
orderByConsumed incorrectly can result in an incorrect answer.
It is suggested that new virtual table implementations leave
the orderByConsumed value unset initially, and then after everything
else is known to be working correctly, go back and attempt to
optimize by setting orderByConsumed where appropriate.



Sometimes the orderByConsumed flag can be safely set even if
the outputs from the virtual table are not strictly in the order
specified by nOrderBy and aOrderBy. If the
[sqlite3\_vtab\_distinct()](c3ref/vtab_distinct.html) interface returns 1 or 2, that indicates
that the ordering can be relaxed. See the documentation on
[sqlite3\_vtab\_distinct()](c3ref/vtab_distinct.html) for further information.




