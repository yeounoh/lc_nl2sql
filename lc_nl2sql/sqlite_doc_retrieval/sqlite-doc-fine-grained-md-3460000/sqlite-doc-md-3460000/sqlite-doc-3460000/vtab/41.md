### 2\.3\.3\. Return Value


The xBestIndex method should return SQLITE\_OK on success. If any
kind of fatal error occurs, an appropriate error code (ex: [SQLITE\_NOMEM](rescode.html#nomem))
should be returned instead.



If xBestIndex returns [SQLITE\_CONSTRAINT](rescode.html#constraint), that does not indicate an
error. Rather, SQLITE\_CONSTRAINT indicates that the particular combination
of input parameters specified is insufficient for the virtual table
to do its job.
This is logically the same as setting the estimatedCost to infinity.
If every call to xBestIndex for a particular query plan returns
SQLITE\_CONSTRAINT, that means there is no way for the virtual table
to be safely used, and the [sqlite3\_prepare()](c3ref/prepare.html) call will fail with
a "no query solution" error.



