## 1\.4\. Creating New Virtual Table Implementations


Follow these steps to create your own virtual table:






1. Write all necessary methods.
2. Create an instance of the [sqlite3\_module](c3ref/module.html) structure containing pointers
 to all the methods from step 1\.
3. Register your [sqlite3\_module](c3ref/module.html) structure using one of the
 [sqlite3\_create\_module()](c3ref/create_module.html) or [sqlite3\_create\_module\_v2()](c3ref/create_module.html) interfaces.
4. Run a [CREATE VIRTUAL TABLE](lang_createvtab.html) command that specifies the new module in 
 the USING clause.


The only really hard part is step 1\. You might want to start with an 
existing virtual table implementation and modify it to suit your needs.
The [SQLite source tree](https://sqlite.org/src/dir?ci=trunk&type=tree)
contains many virtual table implementations that are suitable for copying,
including:






* **[templatevtab.c](https://sqlite.org/src/file/ext/misc/templatevtab.c)**
→ A virtual table created specifically to serve as a template for
other custom virtual tables.
* **[series.c](https://sqlite.org/src/file/ext/misc/series.c)**
→ Implementation of the generate\_series() table\-valued function.
* **[json.c](https://sqlite.org/src/file/src/json.c)** →
Contains the sources for the [json\_each()](json1.html#jeach) and [json\_tree()](json1.html#jtree) table\-valued
functions.
* **[csv.c](https://sqlite.org/src/file/ext/misc/csv.c)** →
A virtual table that reads CSV files.


There are [many other virtual table implementations](vtablist.html)
in the SQLite source tree that can be used as examples. Locate 
these other virtual table implementations by searching 
for "sqlite3\_create\_module".



You might also want to implement your new virtual table as a 
[loadable extension](loadext.html).



