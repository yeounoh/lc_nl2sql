## 2\.19\. The xRename Method



```
int (*xRename)(sqlite3_vtab *pVtab, const char *zNew);

```

This method provides notification that the virtual table implementation
that the virtual table will be given a new name. 
If this method returns [SQLITE\_OK](rescode.html#ok) then SQLite renames the table.
If this method returns an [error code](rescode.html) then the renaming is prevented.



The xRename method is optional. If omitted, then the virtual
table may not be renamed using the ALTER TABLE RENAME command.



The [PRAGMA legacy\_alter\_table](pragma.html#pragma_legacy_alter_table) setting is enabled prior to invoking this
method, and the value for legacy\_alter\_table is restored after this
method finishes. This is necessary for the correct operation of virtual
tables that make use of [shadow tables](vtab.html#xshadowname) where the shadow tables must be
renamed to match the new virtual table name. If the legacy\_alter\_format is
off, then the xConnect method will be invoked for the virtual table every
time the xRename method tries to change the name of the shadow table.




