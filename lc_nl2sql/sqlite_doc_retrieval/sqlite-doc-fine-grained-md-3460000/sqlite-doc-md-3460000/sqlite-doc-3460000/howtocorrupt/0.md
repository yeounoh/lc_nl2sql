




How To Corrupt An SQLite Database File




[![SQLite](images/sqlite370_banner.gif)](index.html)


Small. Fast. Reliable.  
Choose any three.


* [Home](index.html)* [Menu](javascript:void(0))* [About](about.html)* [Documentation](docs.html)* [Download](download.html)* [License](copyright.html)* [Support](support.html)* [Purchase](prosupport.html)* [Search](javascript:void(0))




* [About](about.html)* [Documentation](docs.html)* [Download](download.html)* [Support](support.html)* [Purchase](prosupport.html)






Search Documentation
Search Changelog










How To Corrupt An SQLite Database File


â–º
Table Of Contents
[1\. File overwrite by a rogue thread or process](#_file_overwrite_by_a_rogue_thread_or_process)
[1\.1\. Continuing to use a file descriptor after it has been closed](#_continuing_to_use_a_file_descriptor_after_it_has_been_closed)
[1\.2\. Backup or restore while a transaction is active](#_backup_or_restore_while_a_transaction_is_active)
[1\.3\. Deleting a hot journal](#_deleting_a_hot_journal)
[1\.4\. Mispairing database files and hot journals](#_mispairing_database_files_and_hot_journals_) 
[2\. File locking problems](#_file_locking_problems)
[2\.1\. Filesystems with broken or missing lock implementations](#_filesystems_with_broken_or_missing_lock_implementations)
[2\.2\. Posix advisory locks canceled by a separate thread doing close()](#_posix_advisory_locks_canceled_by_a_separate_thread_doing_close_)
[2\.2\.1\. Multiple copies of SQLite linked into the same application](#multiple_copies_of_sqlite_linked_into_the_same_application)
[2\.3\. Two processes using different locking protocols](#_two_processes_using_different_locking_protocols)
[2\.4\. Unlinking or renaming a database file while in use](#_unlinking_or_renaming_a_database_file_while_in_use)
[2\.5\. Multiple links to the same file](#_multiple_links_to_the_same_file)
[2\.6\. Carrying an open database connection across a fork()](#_carrying_an_open_database_connection_across_a_fork_) 
[3\. Failure to sync](#_failure_to_sync)
[3\.1\. Disk drives that do not honor sync requests](#_disk_drives_that_do_not_honor_sync_requests)
[3\.2\. Disabling sync using PRAGMAs](#_disabling_sync_using_pragmas)
[4\. Disk Drive and Flash Memory Failures](#_disk_drive_and_flash_memory_failures)
[4\.1\. Non\-powersafe flash memory controllers](#_non_powersafe_flash_memory_controllers)
[4\.2\. Fake capacity USB sticks](#_fake_capacity_usb_sticks)
[5\. Memory corruption](#_memory_corruption)
[6\. Other operating system problems](#_other_operating_system_problems)
[6\.1\. Linux Threads](#_linux_threads)
[6\.2\. Failures of mmap() on QNX](#_failures_of_mmap_on_qnx)
[6\.3\. Filesystem Corruption](#_filesystem_corruption)
[7\. SQLite Configuration Errors](#sqlite_configuration_errors)
[8\. Bugs in SQLite](#_bugs_in_sqlite)
[8\.1\. False corruption reports due to database shrinkage](#_false_corruption_reports_due_to_database_shrinkage)
[8\.2\. Corruption following switches between rollback and WAL modes](#_corruption_following_switches_between_rollback_and_wal_modes)
[8\.3\. I/O error while obtaining a lock leads to corruption](#_i_o_error_while_obtaining_a_lock_leads_to_corruption)
[8\.4\. Database pages leak from the free page list](#_database_pages_leak_from_the_free_page_list)
[8\.5\. Corruption following alternating writes from 3\.6 and 3\.7](#_corruption_following_alternating_writes_from_3_6_and_3_7)
[8\.6\. Race condition in recovery on Windows systems](#_race_condition_in_recovery_on_windows_systems)
[8\.7\. Boundary value error in the secondary journals used by nested transactions](#_boundary_value_error_in_the_secondary_journals_used_by_nested_transactions)




