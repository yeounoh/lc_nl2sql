## 2\.4\.  Unlinking or renaming a database file while in use


If two processes have open connections to the same database file and
one process closes its connection, unlinks the file, then creates a new
database file in its place with the same name and reopens the new file,
then the two processes will be talking to different database files with 
the same name. (Note that this is only possible on Posix and Posix\-like
systems that permit a file to be unlinked while it is still open for
reading and writing. Windows does not allow this to occur.)
Since rollback journals and WAL files are based on the name of the database
file, the two different database files will share the same rollback
journal or WAL file. A rollback or recovery for one of the databases
might use content from the other database, resulting in corruption.
A similar problem occurs if a database file is renamed while it is
opened and a new file is created with the old name.


In other words, unlinking or renaming an open database file 
results in behavior that is undefined and probably undesirable.


Beginning with SQLite [version 3\.7\.17](releaselog/3_7_17.html) (2013\-05\-20\),
the unix OS interface will
send SQLITE\_WARNING messages to the [error log](errlog.html) if a database file is unlinked
while it is still in use.



