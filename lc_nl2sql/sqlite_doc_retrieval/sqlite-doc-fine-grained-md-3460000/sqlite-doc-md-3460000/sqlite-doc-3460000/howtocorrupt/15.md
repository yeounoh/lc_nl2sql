# 3\.  Failure to sync


In order to guarantee that database files are always consistent, SQLite
will occasionally ask the operating system to flush all pending writes to
persistent storage then wait for that flush to complete. This is 
accomplished using the fsync() system call under unix and
FlushFileBuffers() under Windows. We call this flush of
pending writes a "sync".


Actually, if one is only concerned with atomic and consistent writes and
is willing to forego durable writes, the sync operation does not need
to wait until the content is completely stored on persistent media. Instead,
the sync operation can be thought of as an I/O barrier. As long as all
writes that occur before the sync are completed before any write that happens
after the sync, no database corruption will occur. If sync is operating as
an I/O barrier and not as a true sync, then a power failure or system crash
might cause one or more previously committed transactions to roll back
(in violation of the "durable" property of "ACID") but the database will at
least continue to be consistent, and that is what most people care about.


