## 6\.2\.  Failures of mmap() on QNX


There exists some subtle problem with mmap() on QNX such that making
a second mmap() call against a single file descriptor can cause
the memory obtained from the first mmap() call to be zeroed. SQLite on
unix uses mmap() to create a shared memory region for transaction 
coordination in [WAL mode](wal.html), and it will call mmap() multiple times
for large transactions. The QNX mmap() has been demonstrated to corrupt
database file under that scenario. QNX engineers are aware of this problem
and are working on a solution; the problem may have already been fixed by
the time you read this.


When running on QNX, it is recommended that [memory\-mapped I/O](mmap.html) never
be used. Furthermore, to use [WAL mode](wal.html), it is recommended that applications
employ the [exclusive locking mode](pragma.html#pragma_locking_mode) in order to 
use [WAL without shared memory](wal.html#noshm).





