## 8\.2\.  Corruption following switches between rollback and WAL modes


Repeatedly switching an SQLite database in and out of [WAL mode](wal.html)
and running the [VACUUM](lang_vacuum.html) command in between switches, in one process or
thread, can cause another process or thread that has the database file
open to miss the fact that the database has changed. That second process
or thread might then try to modify the database using a stale cache and
cause database corruption.


This problem was discovered during internal testing and has never been
observed in the wild. The problem was fixed on 2011\-01\-27 and in version
3\.7\.5\.


