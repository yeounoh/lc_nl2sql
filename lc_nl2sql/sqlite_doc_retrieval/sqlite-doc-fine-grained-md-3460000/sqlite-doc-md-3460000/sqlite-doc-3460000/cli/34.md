## 15\.7\.  SQL Used To Implement SQLite Archive Operations


The various SQLite Archive Archive commands are implemented using SQL statements.
Application developers can easily add SQLite Archive Archive reading and writing
support to their own projects by running the appropriate SQL.



To see what SQL statements are used to implement an SQLite Archive
operation, add the \-\-dryrun or \-n option. This causes the SQL to be
displayed but inhibits the execution of the SQL.



The SQL statements used to implement SQLite Archive operations make use of
various [loadable extensions](loadext.html). These extensions are all available in
the [SQLite source tree](https://sqlite.org/src) in the
[ext/misc/ subfolder](https://sqlite.org/src/file/ext/misc).
The extensions needed for full SQLite Archive support include:



1. [fileio.c](https://sqlite.org/src/file/ext/misc/fileio.c) —
This extension adds SQL functions readfile() and writefile() for
reading and writing content from files on disk. The fileio.c
extension also includes fsdir() table\-valued function for listing
the contents of a directory and the lsmode() function for converting
numeric st\_mode integers from the stat() system call into human\-readable
strings after the fashion of the "ls \-l" command.
2. [sqlar.c](https://sqlite.org/src/file/ext/misc/sqlar.c) —
This extension adds the sqlar\_compress() and sqlar\_uncompress()
functions that are needed to compress and uncompress file content
as it is inserted and extracted from an SQLite Archive.
3. [zipfile.c](zipfile.html) —
This extension implements the "zipfile(FILE)" table\-valued function
which is used to read ZIP archives. This extension is only needed
when reading ZIP archives instead of SQLite archives.
4. [appendvfs.c](https://sqlite.org/src/file/ext/misc/appendvfs.c) —
This extension implements a new [VFS](vfs.html) that allows an SQLite database
to be appended to some other file, such as an executable. This
extension is only needed if the \-\-append option to the .archive
command is used.



