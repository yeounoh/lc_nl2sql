# 15\. SQLite Archive Support


The ".archive" dot\-command and the "\-A" command\-line option
provide built\-in support for the
[SQLite Archive format](sqlar.html). The interface is similar to
that of the "tar" command on unix systems. Each invocation of the ".ar"
command must specify a single command option. The following commands
are available for ".archive":





| Option | Long Option | Purpose |
| --- | --- | --- |
| \-c | \-\-create | Create a new archive containing specified files. |
| \-x | \-\-extract | Extract specified files from archive. |
| \-i | \-\-insert | Add files to existing archive. |
| \-r | \-\-remove | Remove files from the archive. |
| \-t | \-\-list | List the files in the archive. |
| \-u | \-\-update | Add files to existing archive *if* they have changed. |


As well as the command option, each invocation of ".ar" may specify
one or more modifier options. Some modifier options require an argument,
some do not. The following modifier options are available:





| Option | Long Option | Purpose |
| --- | --- | --- |
| \-v | \-\-verbose | List each file as it is processed. |
| \-f FILE | \-\-file FILE | If specified, use file FILE as the  archive. Otherwise, assume that the current "main" database is the  archive to be operated on. |
| \-a FILE | \-\-append FILE | Like \-\-file, use file FILE as the  archive, but open the file using the  [apndvfs VFS](https://sqlite.org/src/file/ext/misc/appendvfs.c) so that  the archive will be appended to the end of FILE if FILE already exists. |
| \-C DIR | \-\-directory DIR | If specified, interpret all relative  paths as relative to DIR, instead of the current working directory. |
| \-g | \-\-glob | Use [glob(*Y*,*X*)](lang_corefunc.html#glob) to match arguments  against names in the archive. |
| \-n | \-\-dryrun | Show the SQL that would be run to carry out the  archive operation, but do not actually change anything. |
| \-\- | \-\- | All subsequent command line words are command arguments,  not options. |



For command\-line usage, add the short style command\-line options immediately
following the "\-A", without an intervening space. All subsequent arguments
are considered to be part of the .archive command. For example, the following
commands are equivalent:




```
sqlite3 new_archive.db -Acv file1 file2 file3
sqlite3 new_archive.db ".ar -cv file1 file2 file3"

```


Long and short style options may be mixed. For example, the following are
equivalent:




```
-- Two ways to create a new archive named "new_archive.db" containing
-- files "file1", "file2" and "file3".
.ar -c --file new_archive.db file1 file2 file3
.ar -f new_archive.db --create file1 file2 file3

```

Alternatively, the first argument following to ".ar" may be the concatenation
of the short form of all required options (without the "\-" characters). In
this case arguments for options requiring them are read from the command line
next, and any remaining words are considered command arguments. For example:




```
-- Create a new archive "new_archive.db" containing files "file1" and
-- "file2" from directory "dir1".
.ar cCf dir1 new_archive.db file1 file2 file3

```

