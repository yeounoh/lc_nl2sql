### 2012\-12\-12 \- Release 3\.7\.15


> SQLite [version 3\.7\.15](releaselog/3_7_15.html) is a regularly schedule release of SQLite. This
>  release contains several improvements to the query planner and optimizer
>  and one important bug fix. This is the first release to officially
>  support Windows 8 Phone.
>  The important bug fix is a problem that can lead to segfaults when using
>  [shared cache mode](sharedcache.html) on a schema that contains a [COLLATE operator](lang_expr.html#collateop) within
>  a [CHECK constraint](lang_createtable.html#ckconst) or within a [view](lang_createview.html). Collating functions are associated
>  with individual database connections. But a pointer to the collating function
>  was also being cached within expressions. If an expression was part of the
>  schema and contained a cached collating function, it would point to the
>  collating function in the database connection that originally parsed the
>  schema. If that database connection closed while other database
>  connections using the same shared cache continued to operate, they other
>  database connections would try to use the deallocated collating function
>  in the database connection that closed. The fix in version 3\.7\.15 was to
>  not cache collating function pointers in the expression structure but
>  instead look them up each time a new statement is prepared.
> 
> 
>  This release also contains some important enhancements to the query planner
>  which should (we hope) make some queries run faster. The enhancements
>  include:
> 
> 
>  1. When doing a full\-table scan, try to use an index instead of
>  the original table, under the theory that indices contain less information
>  and are thus smaller and hence require less disk I/O to scan.
> 
> 
> 
>  - Enhance the [IN operator](lang_expr.html#in_op) to allow it to make use of
>  indices that have [numeric affinity](datatype3.html#affinity).
> 
> 
> 
>  - Do a better job of recognizing when an ORDER BY clause can be
>  implemented using indices \- especially in cases where the ORDER BY clause
>  contains terms from two or more tables in a join.



---

