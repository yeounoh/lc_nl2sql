# 2\.  Sorting



SQLite (like all other SQL database engines) can also use indices to
satisfy the ORDER BY clauses in a query, in addition to expediting
lookup. In other words, indices can be used to speed up sorting as
well as searching.




When no appropriate indices are available, a query with an ORDER BY
clause must be sorted as a separate step. Consider this query:





| ```  SELECT * FROM fruitsforsale ORDER BY fruit;  ``` |
| --- |



SQLite processes this by gathering all the output of query and then
running that output through a sorter.





![figure 16](images/qp/obfruitnoidx.gif)  

Figure 16: Sorting Without An Index




If the number of output rows is K, then the time needed to sort is
proportional to KlogK. If K is small, the sorting time is usually
not a factor, but in a query such as the above where K\=\=N, the time
needed to sort can be much greater than the time needed to do a
full table scan. Furthermore, the entire output is accumulated in
temporary storage (which might be either in main memory or on disk,
depending on various compile\-time and run\-time settings)
which can mean that a lot of temporary storage is required to complete
the query.



