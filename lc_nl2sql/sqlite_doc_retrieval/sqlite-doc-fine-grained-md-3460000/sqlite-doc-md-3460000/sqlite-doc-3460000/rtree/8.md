## 3\.4\. Roundoff Error



By default, coordinates are stored in an R\*Tree using 32\-bit floating
point values. When a coordinate cannot be exactly represented by a
32\-bit floating point number, the lower\-bound coordinates are rounded down
and the upper\-bound coordinates are rounded up. Thus, bounding boxes might
be slightly larger than specified, but will never be any smaller. This
is exactly what is desired for doing the more common "overlapping" queries
where the application wants to find every entry in the R\*Tree that overlaps
a query bounding box. Rounding the entry bounding boxes outward might cause a
few extra entries to appears in an overlapping query if the edge of the
entry bounding box corresponds to an edge of the query bounding box. But
the overlapping query will never miss a valid table entry.



However, for a "contained\-within" style query, rounding the bounding
boxes outward might cause some entries to be excluded from the result set
if the edge of the entry bounding box corresponds to the edge of the query
bounding box. To guard against this, applications should expand their
contained\-within query boxes slightly (by 0\.000012%) by rounding down the
lower coordinates and rounding up the top coordinates, in each dimension.




