# 2\. 
 Enabling Foreign Key Support



 In order to use foreign key constraints in SQLite, the library must
 be compiled with neither [SQLITE\_OMIT\_FOREIGN\_KEY](compile.html#omit_foreign_key) nor 
 [SQLITE\_OMIT\_TRIGGER](compile.html#omit_trigger) defined. If SQLITE\_OMIT\_TRIGGER is defined 
 but SQLITE\_OMIT\_FOREIGN\_KEY is not, then SQLite behaves as it did prior 
 to [version 3\.6\.19](releaselog/3_6_19.html) (2009\-10\-14\)
 \- foreign key definitions are parsed and may be 
 queried using [PRAGMA foreign\_key\_list](pragma.html#pragma_foreign_key_list), but foreign key constraints 
 are not enforced. The [PRAGMA foreign\_keys](pragma.html#pragma_foreign_keys) command is a no\-op in this 
 configuration. If OMIT\_FOREIGN\_KEY is defined, then foreign key 
 definitions cannot even be parsed (attempting to specify a foreign
 key definition is a syntax error).

 


 Assuming the library is compiled with foreign key constraints enabled,
 it must still be enabled by the application at runtime, using the
 [PRAGMA foreign\_keys](pragma.html#pragma_foreign_keys) command. For example:




```
sqlite> PRAGMA foreign_keys = ON;

```


 Foreign key constraints are disabled by default 
 (for backwards compatibility),
 so must be enabled separately for each [database connection](c3ref/sqlite3.html).
 (Note, however, that future releases of SQLite might change
 so that foreign key constraints enabled by default. Careful
 developers will not
 make any assumptions about whether or not foreign keys are enabled by
 default but will instead enable or disable them as necessary.)
 The application can also use a [PRAGMA foreign\_keys](pragma.html#pragma_foreign_keys) statement to
 determine if foreign keys are currently enabled. The following 
 command\-line session demonstrates this:



```
sqlite> PRAGMA foreign_keys;
0
sqlite> PRAGMA foreign_keys = ON;
sqlite> PRAGMA foreign_keys;
1
sqlite> PRAGMA foreign_keys = OFF;
sqlite> PRAGMA foreign_keys;
0

```

Tip: If the command "PRAGMA foreign\_keys" returns no data instead of a
 single row containing "0" or "1", then the version of SQLite you are
 using does not support foreign keys (either because it is older than
 3\.6\.19 or because it was compiled with [SQLITE\_OMIT\_FOREIGN\_KEY](compile.html#omit_foreign_key) or 
 [SQLITE\_OMIT\_TRIGGER](compile.html#omit_trigger) defined).

 


 It is not possible to enable or disable foreign key constraints
 in the middle of a [multi\-statement transaction](lang_transaction.html) (when SQLite
 is not in [autocommit mode](c3ref/get_autocommit.html)). Attempting to do so does not return
 an error; it simply has no effect.



