## 1\.2\. Different Behaviors According To Build Type


Three separate builds are used to validate the SQLite software.


1. A functionality testing build is used to validate the source code.
2. A coverage testing build is used to validate the test suite, to confirm
 that the test suite provides 100% MC/DC.
3. The release build is used to validate the generated machine code.


All tests must give the same answer in all three
builds. See the ["How SQLite Is Tested"](testing.html) document for more detail.



The various assert()\-like
macros behave differently according to how SQLite is built.





|  | Functionality Testing | Coverage Testing | Release |
| --- | --- | --- | --- |
| assert(X) | abort() if X is false | no\-op | no\-op |
| ALWAYS(X) | abort() if X is false | always true | pass through the value X |
| NEVER(X) | abort() if X is true | always false | pass through the value X |
| testcase(X) | no\-op | do some harmless work if X is true | no\-op |


The default behavior of assert(X) in standard C is that it is enabled
for release builds. This is a reasonable default. However, the
SQLite code base has many assert() statements in performance\-sensitive
areas of the code. Leaving assert(X) turned on causes SQLite to run about
three times slower. Also, SQLite strives to provide 100% MC/DC in an
as\-delivered configuration, which is obviously impossible if assert(X)
statements are enabled. For these reasons, assert(X) is a no\-op for
release builds in SQLite.



The ALWAYS(X) and NEVER(X) macros behave like assert(X) during
functionality testing, because the developers want to be immediately
alerted to the issue if the value of X is different from what is expected.
But for delivery, ALWAYS(X) and NEVER(X) are simple pass\-through macros,
which provide defense\-in\-depth. For coverage testing ALWAYS(X) and NEVER(X)
are hard\-coded boolean values so that they do not cause unreachable
machine code to be generated.



The testcase(X) macro is normally a no\-op, but for a coverage test
build it does generate a small amount of extra code that includes at least
one branch, in order to verify that test cases exist for which X is both
true and false.



