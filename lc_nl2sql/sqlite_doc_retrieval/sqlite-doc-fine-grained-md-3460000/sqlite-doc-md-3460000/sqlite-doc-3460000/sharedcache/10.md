# 5\. Enabling Shared\-Cache Mode


Shared\-cache mode is enabled on a per\-process basis. Using the C
interface, the following API can be used to globally enable or disable
shared\-cache mode:




> ```
> 
> int sqlite3_enable_shared_cache(int);
> 
> ```


Each call to [sqlite3\_enable\_shared\_cache()](c3ref/enable_shared_cache.html) affects subsequent database
connections created using [sqlite3\_open()](c3ref/open.html), [sqlite3\_open16()](c3ref/open.html), or
[sqlite3\_open\_v2()](c3ref/open.html). Database connections that already exist are
unaffected. Each call to [sqlite3\_enable\_shared\_cache()](c3ref/enable_shared_cache.html) overrides
all previous calls within the same process.



Individual database connections created using [sqlite3\_open\_v2()](c3ref/open.html) can
choose to participate or not participate in shared cache mode by using
the [SQLITE\_OPEN\_SHAREDCACHE](c3ref/c_open_autoproxy.html) or [SQLITE\_OPEN\_PRIVATECACHE](c3ref/c_open_autoproxy.html) flags the
third parameter. The use of either of these flags overrides the
global shared cache mode setting established by [sqlite3\_enable\_shared\_cache()](c3ref/enable_shared_cache.html).
No more than one of the flags should be used; if both SQLITE\_OPEN\_SHAREDCACHE
and SQLITE\_OPEN\_PRIVATECACHE flags are used in the third argument to
[sqlite3\_open\_v2()](c3ref/open.html) then the behavior is undefined.


When [URI filenames](uri.html) are used, the "cache" query parameter can be used
to specify whether or not the database will use shared cache. Use
"cache\=shared" to enable shared cache and "cache\=private" to disable
shared cache. The ability to use URI query parameters to specify the
cache sharing behavior of a database connection allows cache sharing to
be controlled in [ATTACH](lang_attach.html) statements. For example:



> ```
> 
> ATTACH 'file:aux.db?cache=shared' AS aux;
> 
> ```



