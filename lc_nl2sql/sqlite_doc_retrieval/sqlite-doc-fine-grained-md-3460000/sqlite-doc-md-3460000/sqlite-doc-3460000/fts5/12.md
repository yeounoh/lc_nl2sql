## 3\.7\. FTS5 Boolean Operators



Phrases and NEAR groups may be arranged into expressions using **boolean
operators**. In order of precedence, from highest (tightest grouping) to
lowest (loosest grouping), the operators are:





| Operator | Function |
| --- | --- |
| `<query1> NOT <query2>` | Matches if query1 matches and query2 does not match. |
| `<query1> AND <query2>` | Matches if both query1 and query2 match. |
| `<query1> OR <query2>` | Matches if either query1 or query2 match. |



Parenthesis may be used to group expressions in order to modify operator
precedence in the usual ways. For example:




```
-- Because NOT groups more tightly than OR, either of the following may
-- be used to match all documents that contain the token "two" but not
-- "three", or contain the token "one".  
... MATCH 'one OR two NOT three'
... MATCH 'one OR (two NOT three)'

-- Matches documents that contain at least one instance of either "one"
-- or "two", but do not contain any instances of token "three".
... MATCH '(one OR two) NOT three'

```


Phrases and NEAR groups may also be connected by **implicit AND operators**.
For simplicity, these are not shown in the BNF grammar above. Essentially, any
sequence of phrases or NEAR groups (including those restricted to matching
specified columns) separated only by whitespace are handled as if there were an
implicit AND operator between each pair of phrases or NEAR groups. Implicit
AND operators are never inserted after or before an expression enclosed in
parenthesis. Implicit AND operators group more tightly than all other
operators, including NOT. For example:




```
... MATCH 'one two three'         -- 'one AND two AND three'
... MATCH 'three "one two"'       -- 'three AND "one two"'
... MATCH 'NEAR(one two) three'   -- 'NEAR(one two) AND three'
... MATCH 'one OR two three'      -- 'one OR two AND three'
... MATCH 'one NOT two three'     -- 'one NOT (two AND three)'

... MATCH '(one OR two) three'    -- Syntax error!
... MATCH 'func(one two)'         -- Syntax error!

```


