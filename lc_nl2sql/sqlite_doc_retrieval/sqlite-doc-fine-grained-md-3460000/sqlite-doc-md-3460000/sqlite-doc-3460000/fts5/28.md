## 4\.7\. The Tokendata Option


This option is only useful to applications that implement 
[custom tokenizers](#custom_tokenizers). Usually, tokenizers may
return tokens that consist of any sequence of bytes, including 0x00 bytes.
However, if the table specifies the tokendata\=1 option, then fts5 ignores
the first 0x00 byte and any trailing data in the token for the purposes
of matching. It still stores the entire token as returned by the tokenizer,
but it is ignored by the fts5 core.



The full version of the token, including any 0x00 byte and trailing data,
is available to [custom auxiliary 
functions](#custom_auxiliary_functions) via the [xQueryToken](#xQueryToken) and 
[xInstToken](#xInstToken) APIs. 



This may be useful for ranking functions. A custom tokenizer may
add extra data to some document tokens allowing a ranking function to give
more weight to hits of some tokens (e.g. those in document headings).



Alternatively, the combination of a custom tokenizer and a custom auxiliary
function may be used to implement 
[asymmetric search](https://www.unicode.org/reports/tr10/tr10-41.html#Asymmetric_Search). The tokenizer could (say) for each document token return
the case\-normalized and unmarked version of the token, followed by an 0x00
byte, followed by the full text of the token from the document. When queried,
fts5 would provide results as if all characters in the query were
case\-normalized and unmarked. The custom auxiliary function could then be used
in the WHERE clause of the query to filter out any rows that do not match based
on secondary or tertiary markings in the document or query terms.




