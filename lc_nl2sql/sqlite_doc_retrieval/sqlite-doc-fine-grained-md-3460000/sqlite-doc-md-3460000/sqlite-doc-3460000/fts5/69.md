#### 9\.2\.4\.2\. Pagination


If it is small enough (by default this means smaller than 4000 bytes), the
entire contents of a segment b\-tree may be stored in the key/doclist format
described in the previous section as a single blob within the %\_data table.
Otherwise, the key/doclist is split into pages (by default, of approximately
4000 bytes each) and stored in a contiguous set of entries in the %\_data table
([see above](#data_structure) for details).



When a key/doclist is divided into pages, the following modifications are
made to the format:



* A single varint or key data field never spans two pages.
* The first key on each page is not prefix\-compressed. It is stored in
 the format described above for the first key of a doclist \- its size as
 a varint followed by the key data.
* If there are one or more rowids on a page before the first key, then
 the first of them is not delta compressed. It is stored as is, just as
 if it were the first rowid of its doclist (which it may or may not be).


Each page also has fixed\-size 4\-byte header and a variably\-sized footer.
The header is divided into 2 16\-bit big\-endian integer fields. They
contain:



* The byte offset of the first rowid value on the page, if it occurs
 before the first key, or 0 otherwise.
* The byte offset of the page footer.


The page footer consists of a series of varints containing the byte offset
of each key that appears on the page. The page footer is zero bytes in size
if there are no keys on the page.





hdr

modified key/doclist data

footer
4 bytes
variable size






*Figure 4 \- Page Format*


