## 6\.6\. The 'integrity\-check' Command


 This command is used to verify that the full\-text index is internally
consistent, and, optionally, that it is consistent with any
[external content](fts5.html#external_content_tables) table.



The integrity\-check command is invoked by inserting the text value
'integrity\-check' into the special column with the same name as the FTS5
table. If a value is supplied for the "rank" column, it must be either
0 or 1\. For example:




```
INSERT INTO ft(ft) VALUES('integrity-check');
INSERT INTO ft(ft, rank) VALUES('integrity-check', 0);
INSERT INTO ft(ft, rank) VALUES('integrity-check', 1);

```

The three forms above are equivalent for all FTS tables that are
not external content tables. They check that the index data structures are
not corrupt, and, if the FTS table is not contentless, that the contents of
the index match the contents of the table itself.



For an external content table, the contents of the index are only
compared to the contents of the external content table if the value
specified for the rank column is 1\.



In all cases, if any discrepancies are found, the command fails
with an [SQLITE\_CORRUPT\_VTAB](rescode.html#corrupt_vtab) error.




