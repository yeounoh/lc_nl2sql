### 9\.2\.2\. Structure Record Format


The structure record identifies the set of segment b\-trees that make up the
current FTS index, along with details of any ongoing incremental merge
operations. It is stored in the %\_data table with id\=10\.

A structure record begins with a single 32\-bit unsigned value \- the cookie
value. This value is incremented each time the structure is modified.
Following the cookie value are three varint values, as follows:



* The number of levels in the index (i.e. the maximum level associated
 with any segment b\-tree plus one).
* The total number of segment b\-trees in the index.
* The total number of segment b\-tree leaves written to level 0 trees
 since the FTS5 table was created.


Then, for each level from 0 to nLevel:



* The number of input segments from the previous level being used as
 inputs for the current incremental merge, or zero if there is no
 ongoing incremental merge to create a new segment b\-tree for this level.
* The total number of segment b\-trees on the level.
* Then, for each segment b\-tree, from oldest to newest:
	+ The segment id.
	+ Page number of first leaf (often 1, always \>0\).
	+ Page number of last leaf (always \>0\).


