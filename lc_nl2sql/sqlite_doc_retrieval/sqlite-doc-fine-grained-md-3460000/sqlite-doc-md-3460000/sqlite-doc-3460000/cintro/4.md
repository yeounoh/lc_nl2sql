# 4\. Typical Usage Of Core Routines And Objects



 An application will typically use
 [sqlite3\_open()](c3ref/open.html) to create a single [database connection](c3ref/sqlite3.html)
 during initialization.
 Note that [sqlite3\_open()](c3ref/open.html) can be used to either open existing database
 files or to create and open new database files.
 While many applications use only a single [database connection](c3ref/sqlite3.html), there is
 no reason why an application cannot call [sqlite3\_open()](c3ref/open.html) multiple times
 in order to open multiple [database connections](c3ref/sqlite3.html) \- either to the same
 database or to different databases. Sometimes a multi\-threaded application
 will create separate [database connections](c3ref/sqlite3.html) for each thread.
 Note that a single [database connection](c3ref/sqlite3.html) can access two or more
 databases using the [ATTACH](lang_attach.html) SQL command, so it is not necessary to
 have a separate database connection for each database file.




 Many applications destroy their [database connections](c3ref/sqlite3.html) using calls to
 [sqlite3\_close()](c3ref/close.html) at shutdown. Or, for example, an application that
 uses SQLite as its [application file format](appfileformat.html) might
 open [database connections](c3ref/sqlite3.html) in response to a File/Open menu action
 and then destroy the corresponding [database connection](c3ref/sqlite3.html) in response
 to the File/Close menu.




 To run an SQL statement, the application follows these steps:



1. Create a [prepared statement](c3ref/stmt.html) using [sqlite3\_prepare()](c3ref/prepare.html).
2. Evaluate the [prepared statement](c3ref/stmt.html) by calling [sqlite3\_step()](c3ref/step.html) one
 or more times.
3. For queries, extract results by calling
 [sqlite3\_column()](c3ref/column_blob.html) in between
 two calls to [sqlite3\_step()](c3ref/step.html).
4. Destroy the [prepared statement](c3ref/stmt.html) using [sqlite3\_finalize()](c3ref/finalize.html).



 The foregoing is all one really needs to know in order to use SQLite
 effectively. All the rest is optimization and detail.



