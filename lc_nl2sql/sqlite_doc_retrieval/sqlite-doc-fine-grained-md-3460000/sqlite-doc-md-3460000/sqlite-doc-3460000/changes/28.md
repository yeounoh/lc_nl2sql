### 2022\-03\-12 (3\.38\.1\)

1. Fix problems with the new Bloom filter optimization that might cause
 some obscure queries to get an incorrect answer.
- Fix the [localtime modifier](lang_datefunc.html#localtime) of the [date and time functions](lang_datefunc.html) so that
 it preserves fractional seconds.
- Fix the [sqlite\_offset SQL function](lang_corefunc.html#sqlite_offset) so that it works correctly even
 in corner cases such as when the argument is a virtual column or the
 column of a view.
- Fix [row value IN operator](rowvalue.html#rvinop) constraints on [virtual tables](vtab.html) so that they
 work correctly even if the virtual table implementation relies on bytecode
 to filter rows that do not satisfy the constraint.
- Other minor fixes to assert() statements, test cases, and documentation.
 See the [source code timeline](https://sqlite.org/src/timeline?p=version-3.38.1&bt=version-3.38.0)
 for details.

**Hashes:**
- SQLITE\_SOURCE\_ID: 2022\-03\-12 13:37:29 38c210fdd258658321c85ec9c01a072fda3ada94540e3239d29b34dc547a8cbc
- SHA3\-256 for sqlite3\.c: 262ba071e960a8a0a6ce39307ae30244a2b0dc9fe1c4c09d0e1070d4353cd92c




