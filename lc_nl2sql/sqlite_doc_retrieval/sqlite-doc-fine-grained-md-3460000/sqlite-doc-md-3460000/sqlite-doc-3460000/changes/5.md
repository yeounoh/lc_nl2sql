### 2024\-01\-30 (3\.45\.1\)

1. Restore the [JSON BLOB input bug](json1.html#jblobbug), and promise to support the anomaly in
 subsequent releases, for backward compatibility.
- Fix the [PRAGMA integrity\_check](pragma.html#pragma_integrity_check) command so that it works on read\-only
 databases that contain FTS3 and FTS5 tables. This resolves an issue
 introduced in [version 3\.44\.0](#version_3_44_0) but was undiscovered until after the 3\.45\.0 release.
- Fix issues associated with processing corrupt [JSONB](json1.html#jsonbx) inputs:
	1. Prevent exponential runtime when converting a corrupt JSONB into text.
	 - Fix a possible read of one byte past the end of the JSONB blob when converting
	 a corrupt JSONB into text.
	 - Enhanced testing using [jfuzz](testing.html#dbsqlfuzz) to prevent any future JSONB problems such
	 as the above.- Fix a long\-standing bug in which a read of a few bytes past the end of a
 memory\-mapped segment might occur when accessing a craftily corrupted database
 using [memory\-mapped database](pragma.html#pragma_mmap_size).
- Fix a long\-standing bug in which a NULL pointer dereference might occur in
 the [bytecode engine](opcode.html) due to incorrect bytecode being generated for a class
 of SQL statements that are deliberately designed to stress the query planner
 but which are otherwise pointless.

**Hashes:**
- SQLITE\_SOURCE\_ID: 2024\-01\-30 16:01:20 e876e51a0ed5c5b3126f52e532044363a014bc594cfefa87ffb5b82257cc467a
- SHA3\-256 for sqlite3\.c: 0474604df9e1b69a5544295dd046aad954749279780d557da80f44b958100295




