### 2013\-05\-20 (3\.7\.17\)

1. Add support for [memory\-mapped I/O](mmap.html).
- Add the [sqlite3\_strglob()](c3ref/strglob.html) convenience interface.
- Assigned the integer at offset 68 in the [database header](fileformat2.html#database_header) as the
 [Application ID](fileformat2.html#appid) for when SQLite is used as an [application file\-format](appfileformat.html).
 Added the [PRAGMA application\_id](pragma.html#pragma_application_id) command to query and set the Application ID.
- Report rollback recovery in the [error log](errlog.html) as SQLITE\_NOTICE\_RECOVER\_ROLLBACK.
 Change the error log code for WAL recover from
 SQLITE\_OK to SQLITE\_NOTICE\_RECOVER\_WAL.
- Report the risky uses of [unlinked database files](howtocorrupt.html#unlink) and
 [database filename aliasing](howtocorrupt.html#alias) as SQLITE\_WARNING messages in the [error log](errlog.html).
- Added the [SQLITE\_TRACE\_SIZE\_LIMIT](compile.html#trace_size_limit) compile\-time option.
- Increase the default value of [SQLITE\_MAX\_SCHEMA\_RETRY](compile.html#max_schema_retry) to 50 and make sure
 that it is honored in every place that a schema change might force a statement
 retry.
- Add a new test harness called "mptester" used to verify correct operation
 when multiple processes are using the same database file at the same time.
- Enhance the [extension loading](loadext.html) mechanism to be more flexible (while
 still maintaining backwards compatibility) in two ways:
	1. If the default entry point "sqlite3\_extension\_init" is not present in
	 the loadable extension, also try an entry point "sqlite3\_X\_init" where
	 "X" is based on the shared library filename. This allows every extension
	 to have a different entry point, which allows them to be statically linked
	 with no code changes.
	 - The shared library filename passed to [sqlite3\_load\_extension()](c3ref/load_extension.html) may
	 omit the filename suffix, and an appropriate architecture\-dependent
	 suffix (".so", ".dylib", or ".dll") will be added automatically.- Added many new loadable extensions to the source tree, including
 amatch, closure, fuzzer, ieee754, nextchar, regexp, spellfix,
 and wholenumber. See header comments on each extension source file
 for further information about what that extension does.
- Enhance [FTS3](fts3.html) to avoid using excess stack space when there are a huge
 number of terms on the right\-hand side of the MATCH operator. A side\-effect
 of this change is that the MATCH operator can only accommodate 12 NEAR
 operators at a time.
- Enhance the [fts4aux](fts3.html#fts4aux) virtual table so that it can be a TEMP table.
- Added the [fts3tokenize virtual table](fts3.html#fts3tok) to the [full\-text search](fts3.html) logic.
- Query planner enhancement: Use the transitive property of constraints
 to move constraints into the outer loops of a join whenever possible,
 thereby reducing the amount of work that needs to occur in inner loops.
- Discontinue the use of posix\_fallocate() on unix, as it does not work on all
 filesystems.
- Improved tracing and debugging facilities in the Windows [VFS](vfs.html).
- Bug fix: Fix a potential **database corruption bug**
 in [shared cache mode](sharedcache.html) when one
 [database connection](c3ref/sqlite3.html) is closed while another is in the middle of a write
 transaction.
 Ticket [e636a050b7](https://www.sqlite.org/src/info/e636a050b7)- Bug fix:
 Only consider AS names from the result set as candidates for resolving
 identifiers in the WHERE clause if there are no other matches. In the
 ORDER BY clause, AS names take priority over any column names.
 Ticket [2500cdb9be05](https://www.sqlite.org/src/info/2500cdb9be05)- Bug fix: Do not allow a virtual table to cancel the ORDER BY clause unless
 all outer loops are guaranteed to return no more than one row result.
 Ticket [ba82a4a41eac1](https://www.sqlite.org/src/info/ba82a4a41eac1).
- Bug fix: Do not suppress the ORDER BY clause on a virtual table query if
 an IN constraint is used.
 Ticket [f69b96e3076e](https://www.sqlite.org/src/info/f69b96e3076e).
- Bug fix: The [command\-line shell](cli.html) gives an exit code of 0 when terminated
 using the ".quit" command.
- Bug fix: Make sure [PRAGMA](pragma.html#syntax) statements appear in [sqlite3\_trace()](c3ref/profile.html) output.
- Bug fix: When a [compound query](lang_select.html#compound) that uses an ORDER BY clause
 with a [COLLATE operator](lang_expr.html#collateop), make sure that the sorting occurs
 according to the specified collation and that the comparisons associate with
 the compound query use the native collation. Ticket
 [6709574d2a8d8](https://www.sqlite.org/src/info/6709574d2a8d8).
- Bug fix: Makes sure the [authorizer](c3ref/set_authorizer.html) callback gets
 a valid pointer to the string "ROWID" for the column\-name parameter when
 doing an [UPDATE](lang_update.html) that changes the rowid. Ticket
 [0eb70d77cb05bb2272](https://www.sqlite.org/src/info/0eb70d77cb05bb2272)- Bug fix: Do not move WHERE clause terms inside OR expressions that are
 contained within an ON clause of a LEFT JOIN. Ticket
 [f2369304e4](https://www.sqlite.org/src/info/f2369304e4)- Bug fix: Make sure an error is always reported when attempting to preform
 an operation that requires a [collating sequence](datatype3.html#collation) that is missing.
 Ticket [0fc59f908b](https://www.sqlite.org/src/info/0fc59f908b)- SQLITE\_SOURCE\_ID:
 "2013\-05\-20 00:56:22 118a3b35693b134d56ebd780123b7fd6f1497668"
- SHA1 for sqlite3\.c: 246987605d0503c700a08b9ee99a6b5d67454aab




