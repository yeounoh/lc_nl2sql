### 2023\-11\-01 (3\.44\.0\)

1. [Aggregate functions](lang_aggfunc.html) can now include an ORDER BY clause after their last
 parameter. The arguments to the function are processed in the order
 specified. This can be important for functions like
 [string\_agg()](lang_aggfunc.html#group_concat) and [json\_group\_array()](json1.html#jgrouparray).
- Add support for the [concat()](lang_corefunc.html#concat) and [concat\_ws()](lang_corefunc.html#concat_ws) scalar SQL functions,
 compatible with PostgreSQL, SQLServer, and MySQL.
- Add support for the [string\_agg()](lang_aggfunc.html#group_concat) aggregate SQL function, compatible
 with PostgreSQL and SQLServer.
- New conversion letters on the [strftime() SQL function](lang_datefunc.html#strftm): %e %F %I %k %l %p %P %R %T %u
- Add new C\-language APIs: [sqlite3\_get\_clientdata()](c3ref/get_clientdata.html) and [sqlite3\_set\_clientdata()](c3ref/get_clientdata.html).
- Many errors associated with CREATE TABLE are now raised when the CREATE TABLE statement
 itself is run, rather than being deferred until the first time the table is actually
 used.
- The [PRAGMA integrity\_check](pragma.html#pragma_integrity_check) command now verifies the consistency of the
 content in various built\-in [virtual tables](vtab.html) using the new [xIntegrity method](vtab.html#xintegrity).
 This works for the [FTS3](fts3.html), [FTS4](fts3.html#fts4), [FTS5](fts5.html), [RTREE](rtree.html), and [GEOPOLY](geopoly.html) extensions.
- The [SQLITE\_DBCONFIG\_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive) setting now prevents [PRAGMA writable\_schema](pragma.html#pragma_writable_schema)
 from being turned on. Previously writable\_schema could be turned on, but would
 not actually allow the schema to be writable. Now it simply cannot be turned on.
- Tag the built\-in [FTS3](fts3.html), [FTS4](fts3.html#fts4), [FTS5](fts5.html), [RTREE](rtree.html), and [GEOPOLY](geopoly.html) virtual tables as
 [SQLITE\_VTAB\_INNOCUOUS](c3ref/c_vtab_constraint_support.html#sqlitevtabinnocuous) so that they can be used inside of triggers in
 high\-security deployments.
- The [PRAGMA case\_sensitive\_like](pragma.html#pragma_case_sensitive_like) statement is deprecated, as its use when the
 schema contains LIKE operators can lead to reports of database corruption
 by [PRAGMA integrity\_check](pragma.html#pragma_integrity_check).
- [SQLITE\_USE\_SEH](compile.html#use_seh) (Structured Exception Handling) is now enabled by default whenever
 SQLite is built using the Microsoft C compiler. It can be disabled using
 \-DSQLITE\_USE\_SEH\=0
- Query planner optimizations:
	1. In partial index scans, if the WHERE clause implies a constant value for a table
	 column, replace occurrences of that table column with the constant. This
	 increases the likelihood of the partial index being a covering index.
	 - Disable the view\-scan optimization (added in [version 3\.42\.0](#version_3_42_0) \- item 1c) 
	 as it was causing multiple performance regressions. In its place, reduce
	 the estimated row count for DISTINCT subqueries by a factor of 8\.- SQLite now performs run\-time detection of whether or not the underlying hardware
 supports "long double" with precision greater than "double" and uses appropriate
 floating\-point routines depending on what it discovered.
- The [CLI](cli.html) for Windows now defaults to using UTF\-8 for both input
 and output on platforms that support it. The \-\-no\-utf8 option is available
 to disable UTF8 support.
**Hashes:**
- SQLITE\_SOURCE\_ID: 2023\-11\-01 11:23:50 17129ba1ff7f0daf37100ee82d507aef7827cf38de1866e2633096ae6ad8130
- SHA3\-256 for sqlite3\.c: d9e6530096136067644b1cb2057b3b0fa51070df99ec61971f73c9ba6aa9a36e




