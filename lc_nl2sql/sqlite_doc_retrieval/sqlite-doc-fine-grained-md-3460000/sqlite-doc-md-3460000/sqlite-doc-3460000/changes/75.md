### 2017\-02\-13 (3\.17\.0\)

1. Approximately 25% better performance from the [R\-Tree extension](rtree.html).
	1. Uses compiler built\-ins (ex: \_\_builtin\_bswap32() or \_byteswap\_ulong())
	 for byteswapping when available.
	 - Uses the [sqlite3\_blob](c3ref/blob.html) key/value access object instead of SQL
	 for pulling content out of R\-Tree nodes
	 - Other miscellaneous enhancements such as loop unrolling.- Add the [SQLITE\_DEFAULT\_LOOKASIDE](compile.html#default_lookaside) compile\-time option.
- Increase the default [lookaside](malloc.html#lookaside)
 size from 512,125 to 1200,100
 as this provides better performance while only adding 56KB
 of extra memory per connection. Memory\-sensitive
 applications can restore the old
 default at compile\-time, start\-time, or run\-time.
- Use compiler built\-ins \_\_builtin\_sub\_overflow(), \_\_builtin\_add\_overflow(),
 and \_\_builtin\_mul\_overflow() when available. (All compiler
 built\-ins can be omitted with the [SQLITE\_DISABLE\_INTRINSIC](compile.html#disable_intrinsic) compile\-time
 option.)
- Added the [SQLITE\_ENABLE\_NULL\_TRIM](compile.html#enable_null_trim) compile\-time option, which
 can result in significantly smaller database files for some
 applications, at the risk of being incompatible with older
 versions of SQLite.
- Change [SQLITE\_DEFAULT\_PCACHE\_INITSZ](compile.html#default_pcache_initsz) from 100 to 20, for
 improved performance.
- Added the SQLITE\_UINT64\_TYPE compile\-time option as an
 analog to SQLITE\_INT64\_TYPE.
- Perform some [UPDATE](lang_update.html) operations in a single pass instead of
 in two passes.
- Enhance the [session extension](sessionintro.html) to support [WITHOUT ROWID](withoutrowid.html)
 tables.
- Fixed performance problems and potential stack overflows
 when creating [views](lang_createview.html) from multi\-row VALUES clauses with
 hundreds of thousands of rows.
- Added the [sha1\.c](https://www.sqlite.org/src/file/ext/misc/sha1.c)
 extension.
- In the [command\-line shell](cli.html), enhance the ".mode" command so that it
 restores the default column and row separators for modes "line",
 "list", "column", and "tcl".
- Enhance the [SQLITE\_DIRECT\_OVERFLOW\_READ](compile.html#direct_overflow_read) option so that it works
 in [WAL mode](wal.html) as long as the pages being read are not in the WAL file.
- Enhance the
 [Lemon parser generator](lemon.html)
 so that it can store the parser object as a stack variable rather than
 allocating space from the heap and make use of that enhancement in
 the [amalgamation](amalgamation.html).
- Other performance improvements. Uses about [6\.5% fewer CPU cycles](cpu.html).
**Bug Fixes:**
- Throw an error if the ON clause of a LEFT JOIN references tables
 to the right of the ON clause. This is the same behavior as
 PostgreSQL. Formerly, SQLite silently converted the LEFT JOIN
 into an INNER JOIN. Fix for ticket
 [25e335f802dd](https://www.sqlite.org/src/info/25e335f802dd).
- Use the correct affinity for columns of automatic indexes. Ticket
 [7ffd1ca1d2ad4ec](https://www.sqlite.org/src/info/7ffd1ca1d2ad4ec).
- Ensure that the [sqlite3\_blob\_reopen()](c3ref/blob_reopen.html) interface can correctly
 handle short rows. Fix for ticket
 [e6e962d6b0f06f46e](https://www.sqlite.org/src/info/e6e962d6b0f06f46e).
**Hashes:**
- SQLITE\_SOURCE\_ID: "2017\-02\-13 16:02:40 ada05cfa86ad7f5645450ac7a2a21c9aa6e57d2c"
- SHA1 for sqlite3\.c: cc7d708bb073c44102a59ed63ce6142da1f174d1




