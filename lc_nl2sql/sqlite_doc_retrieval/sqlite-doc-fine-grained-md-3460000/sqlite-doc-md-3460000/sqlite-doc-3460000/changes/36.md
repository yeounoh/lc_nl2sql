### 2021\-03\-26 (3\.35\.3\)

1. Enhance the OP\_OpenDup opcode of the [bytecode engine](opcode.html) so that it works even if the
 cursor being duplicated itself came from OP\_OpenDup. Fix for
 [ticket bb8a9fd4a9b7fce5](https://www.sqlite.org/src/info/bb8a9fd4a9b7fce5).
 This problem only came to light due to the recent MATERIALIZED hint enhancement.
- When materializing correlated [common table expressions](lang_with.html), do so separately for each
 use case, as that is required for correctness. This fixes a problem that was
 introduced by the MATERIALIZED hint enhancement.
- Fix a problem in the filename normalizer of the unix [VFS](vfs.html).
- Fix the ["box" output mode](cli.html#dotmode) in the [CLI](cli.html) so that it works with statements that
 returns one or more rows of zero columns (such as [PRAGMA incremental\_vacuum](pragma.html#pragma_incremental_vacuum)).
 [Forum post afbbcb5b72](https://sqlite.org/forum/forumpost/afbbcb5b72).
- Improvements to error messages generated by faulty common table expressions.
 [Forum post aa5a0431c99e](https://sqlite.org/forum/forumpost/aa5a0431c99e631).
- Fix some incorrect assert() statements.
- Fix to the [SELECT statement syntax diagram](syntax/select-stmt.html) so that the FROM clause
 syntax is shown correctly.
 [Forum post 9ed02582fe](https://sqlite.org/forum/forumpost/9ed02582fe).
- Fix the EBCDIC character classifier so that it understands newlines as whitespace.
 [Forum post 58540ce22dcd](https://sqlite.org/forum/forumpost/58540ce22dcd5fdcd).
- Improvements the [xBestIndex](vtab.html#xbestindex) method in the implementation of the
 (unsupported) [wholenumber virtual table](https://sqlite.org/src/file/ext/misc/wholenumber.c)
 extension so that it does a better job of convincing the query planner to
 avoid trying to materialize a table with an infinite number of rows.
 [Forum post b52a020ce4](https://sqlite.org/forum/forumpost/b52a020ce4).
**Hashes:**
- SQLITE\_SOURCE\_ID: 2021\-03\-26 12:12:52 4c5e6c200adc8afe0814936c67a971efc516d1bd739cb620235592f18f40be2a
- SHA3\-256 for sqlite3\.c: 91ca6c0a30ebfdba4420bb35f4fd9149d13e45fc853d86ad7527db363e282683




