### 2002\-03\-11 (2\.4\.0\)

1. Change the name of the sanity\_check PRAGMA to **integrity\_check**
 and make it available in all compiles.
2. SELECT min() or max() of an indexed column with no WHERE or GROUP BY
 clause is handled as a special case which avoids a complete table scan.
3. Automatically generated ROWIDs are now sequential.
4. Do not allow dot\-commands of the command\-line shell to occur in the
 middle of a real SQL command.
5. Modifications to the [Lemon parser generator](lemon.html) so that the parser tables
 are 4 times smaller.
6. Added support for user\-defined functions implemented in C.
7. Added support for new functions: **coalesce()**, **lower()**,
 **upper()**, and **random()**- Added support for VIEWs.
- Added the subquery flattening optimizer.
- Modified the B\-Tree and Pager modules so that disk pages that do not
 contain real data (free pages) are not journaled and are not
 written from memory back to the disk when they change. This does not
 impact database integrity, since the
 pages contain no real data, but it does make large INSERT operations
 about 2\.5 times faster and large DELETEs about 5 times faster.
- Made the CACHE\_SIZE pragma persistent
- Added the SYNCHRONOUS pragma
- Fixed a bug that was causing updates to fail inside of transactions when
 the database contained a temporary table.




