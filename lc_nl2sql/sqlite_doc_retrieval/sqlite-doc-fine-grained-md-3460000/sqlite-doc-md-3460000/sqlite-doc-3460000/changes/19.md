### 2022\-09\-29 (3\.39\.4\)

1. Fix the build on Windows so that it works with \-DSQLITE\_OMIT\_AUTOINIT
- Fix a long\-standing problem in the btree balancer that might, in rare cases,
 cause database corruption if the application uses an
 [application\-defined page cache](c3ref/pcache_methods2.html).
- Enhance [SQLITE\_DBCONFIG\_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive) so that it disallows [CREATE TRIGGER](lang_createtrigger.html)
 statements if one or more of the statements in the body of the trigger write
 into [shadow tables](vtab.html#xshadowname).
- Fix a possible integer overflow in the size computation for a memory allocation
 in FTS3\.
- Fix a misuse of the [sqlite3\_set\_auxdata()](c3ref/get_auxdata.html) interface in the
 [ICU Extension](https://sqlite.org/src/dir/ext/icu).
**Hashes:**
- SQLITE\_SOURCE\_ID: 2022\-09\-29 15:55:41 a29f9949895322123f7c38fbe94c649a9d6e6c9cd0c3b41c96d694552f26b309
- SHA3\-256 for sqlite3\.c: f65082298127e2ddae6539beb94f5204b591df64ba2c7da83c7d0faffd6959d8




