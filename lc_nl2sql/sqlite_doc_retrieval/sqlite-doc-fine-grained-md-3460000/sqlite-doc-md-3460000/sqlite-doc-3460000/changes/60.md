### 2018\-09\-15 (3\.25\.0\)

1. Add support for [window functions](windowfunctions.html)- Enhancements the [ALTER TABLE](lang_altertable.html) command:
	1. Add support for renaming columns within a table using
	 ALTER TABLE *table* RENAME COLUMN *oldname* TO *newname*.
	 - Fix table rename feature so that it also updates references
	 to the renamed table in [triggers](lang_createtrigger.html) and [views](lang_createview.html).- Query optimizer improvements:
	1. Avoid unnecessary loads of columns in an aggregate query that
	 are not within an aggregate function and that are not part
	 of the GROUP BY clause.
	 - The IN\-early\-out optimization: When doing a look\-up on a
	 multi\-column index and an IN operator is used on a column
	 other than the left\-most column, then if no rows match against
	 the first IN value, check to make sure there exist rows that
	 match the columns to the right before continuing with the
	 next IN value.
	 - Use the transitive property to try to propagate constant
	 values within the WHERE clause. For example, convert
	 "a\=99 AND b\=a" into "a\=99 AND b\=99".- Use a separate mutex on every inode in the unix [VFS](vfs.html), rather than
 a single mutex shared among them all, for slightly better concurrency
 in multi\-threaded environments.
- Enhance the [PRAGMA integrity\_check](pragma.html#pragma_integrity_check) command for improved detection
 of problems on the page freelist.
- Output infinity as 1e999 in the ".dump" command of the
 [command\-line shell](cli.html).
- Added the [SQLITE\_FCNTL\_DATA\_VERSION](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntldataversion) file\-control.
- Added the [Geopoly module](geopoly.html)
**Bug fixes:**
- The ORDER BY LIMIT optimization might have caused an infinite loop
 in the byte code of the prepared statement under very obscure
 circumstances,
 due to a confluence of minor defects in the query optimizer.
 Fix for ticket
 [9936b2fa443fec03ff25](https://www.sqlite.org/src/info/9936b2fa443fec03ff25)- On an UPSERT when the order of constraint checks is rearranged,
 ensure that the affinity transformations on the inserted content
 occur before any of the constraint checks. Fix for ticket
 [79cad5e4b2e219dd197242e9e](https://www.sqlite.org/src/info/79cad5e4b2e219dd197242e9e).
- Avoid using a prepared statement for ".stats on" command of the
 [CLI](cli.html) after it has been closed by the ".eqp full" logicc. Fix for ticket
 [7be932dfa60a8a6b3b26bcf76](https://www.sqlite.org/src/info/7be932dfa60a8a6b3b26bcf76).
- The LIKE optimization was generating incorrect byte\-code and hence
 getting the wrong answer
 if the left\-hand operand has numeric affinity and the right\-hand\-side
 pattern is '/%' or if the pattern begins with the ESCAPE character.
 Fix for ticket
 [c94369cae9b561b1f996d0054b](https://www.sqlite.org/src/info/c94369cae9b561b1f996d0054b)
**Hashes:**
- SQLITE\_SOURCE\_ID: "2018\-09\-15 04:01:47 b63af6c3bd33152742648d5d2e8dc5d5fcbcdd27df409272b6aea00a6f761760"
- SHA3\-256 for sqlite3\.c: 989e3ff37f2b5eea8e42205f808ccf0ba86c6ea6aa928ad2c011f33a108ac45d




