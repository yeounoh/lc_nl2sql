### 2023\-05\-16 (3\.42\.0\)

1. Add the [FTS5 secure\-delete command](fts5.html#the_secure_delete_configuration_option). This option causes all forensic traces
 to be removed from the FTS5 inverted index when content is deleted.
- Enhance the [JSON SQL functions](json1.html) to support [JSON5 extensions](json1.html#json5).
- The [SQLITE\_CONFIG\_LOG](c3ref/c_config_covering_index_scan.html#sqliteconfiglog) and [SQLITE\_CONFIG\_PCACHE\_HDRSZ](c3ref/c_config_covering_index_scan.html#sqliteconfigpcachehdrsz) calls to [sqlite3\_config()](c3ref/config.html)
 are now allowed to occur *after* [sqlite3\_initialize()](c3ref/initialize.html).
- New [sqlite3\_db\_config()](c3ref/db_config.html) options: [SQLITE\_DBCONFIG\_STMT\_SCANSTATUS](c3ref/c_dbconfig_defensive.html#sqlitedbconfigstmtscanstatus) and
 [SQLITE\_DBCONFIG\_REVERSE\_SCANORDER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigreversescanorder).
- Query planner improvements:
	1. Enable the "count\-of\-view" optimization by default.
	 - Avoid computing unused columns in subqueries.
	 - Improvements to the [WHERE\-clause push\-down optimization](optoverview.html#pushdown).- Enhancements to the [CLI](cli.html):
	1. Add the \-\-unsafe\-testing command\-line option. Without this option, some
	 dot\-commands (ex: ".testctrl") are now disabled because those commands
	 that are intended for testing only and can cause malfunctions if misused.
	 - Allow commands ".log on" and ".log off", even in \-\-safe mode.
	 - "\-\-" as a command\-line argument means all subsequent arguments that
	 start with "\-" are interpreted as normal non\-option argument.
	 - Magic parameters ":inf" and ":nan" bind to floating point literals
	 Infinity and NaN, respectively.
	 - The \-\-utf8 command\-line option omits all translation to or from
	 MBCS on the Windows console for interactive sessions, and sets
	 the console code page for UTF\-8 I/O during such sessions.
	 The \-\-utf8 option is a no\-op on all other platforms.- Add the ability for [application\-defined SQL functions](appfunc.html) to have the same name
 as join keywords: CROSS, FULL, INNER, LEFT, NATURAL, OUTER, or RIGHT.
- Enhancements to [PRAGMA integrity\_check](pragma.html#pragma_integrity_check):
	1. Detect and raise an error when a NaN value is stored in a NOT NULL column.
	 - Improved error message output identifies the root page of a b\-tree when
	 an error is found within a b\-tree.- Allow the [session extension](sessionintro.html) to be configured to capture changes from
 tables that lack an explicit ROWID.
- Added the [subsecond modifier](lang_datefunc.html#subsec) to the [date and time functions](lang_datefunc.html).
- Negative values passed into [sqlite3\_sleep()](c3ref/sleep.html) are henceforth interpreted as 0\.
- The maximum recursion depth for JSON arrays and objects is lowered from 2000
 to 1000\.
- Extended the [built\-in printf()](printf.html) function so the [comma option](printf.html#comma) now works with
 floating\-point conversions in addition to integer conversions.
- Miscellaneous bug fixes and performance optimizations
**Hashes:**
- SQLITE\_SOURCE\_ID: 2023\-05\-16 12:36:15 831d0fb2836b71c9bc51067c49fee4b8f18047814f2ff22d817d25195cf350b0
- SHA3\-256 for sqlite3\.c: 6aa3fadf000000625353bbaa1e83af114c40c240a0aa5a2c1c2aabcfc28d4f92




