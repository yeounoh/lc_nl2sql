## 2\.1\. The PARTITION BY Clause


 For the purpose of computing window functions, the result set
of a query is divided into one or more "partitions". A partition consists
of all rows that have the same value for all terms of the PARTITION BY clause
in the window\-defn. If there is no PARTITION BY clause,
then the entire result set of the query is a single partition.
Window\-function processing is performed separately for each partition.



 For example:




```
-- The following SELECT statement returns:
-- 
--   c     | a | b | group_concat
---------------------------------
--   one   | 1 | A | A.D.G       
--   one   | 4 | D | D.G         
--   one   | 7 | G | G           
--   three | 3 | C | C.F         
--   three | 6 | F | F           
--   two   | 2 | B | B.E         
--   two   | 5 | E | E           
-- 
SELECT c, a, b, group_concat(b, '.') OVER (
  PARTITION BY c ORDER BY a RANGE BETWEEN CURRENT ROW AND UNBOUNDED FOLLOWING
) AS group_concat
FROM t1 ORDER BY c, a;

```

 In the query above, the "PARTITION BY c" clause breaks the
result set up into three partitions. The first partition has
three rows with c\=\='one'. The second partition has two rows with
c\=\='three' and the third partition has two rows with c\=\='two'.



 In the example above, all the rows for each partition are
grouped together in the final output. This is because the PARTITION BY
clause is a prefix of the ORDER BY clause on the overall query.
But that does not have
to be the case. A partition can be composed of rows scattered
about haphazardly within the result set. For example:




```
-- The following SELECT statement returns:
-- 
--   c     | a | b | group_concat
---------------------------------
--   one   | 1 | A | A.D.G       
--   two   | 2 | B | B.E         
--   three | 3 | C | C.F         
--   one   | 4 | D | D.G         
--   two   | 5 | E | E           
--   three | 6 | F | F           
--   one   | 7 | G | G           
-- 
SELECT c, a, b, group_concat(b, '.') OVER (
  PARTITION BY c ORDER BY a RANGE BETWEEN CURRENT ROW AND UNBOUNDED FOLLOWING
) AS group_concat
FROM t1 ORDER BY a;

```


