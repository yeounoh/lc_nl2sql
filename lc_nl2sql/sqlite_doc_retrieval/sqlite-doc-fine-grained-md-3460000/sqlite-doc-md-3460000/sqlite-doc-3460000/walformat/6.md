## 1\.5\. Variations


When [PRAGMA locking\_mode\=EXCLUSIVE](pragma.html#pragma_locking_mode) (exclusive locking mode) is set,
only a single client is allowed to have the database open at one time. Since
only a single client can use the database, the shm file is omitted.
The single client uses a buffer in heap memory as a substitute for the
memory\-mapped shm file.



If a read/write client invokes
[sqlite3\_file\_control](c3ref/file_control.html)([SQLITE\_FCNTL\_PERSIST\_WAL](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlpersistwal)) prior to shutdown,
then at shutdown a checkpoint is still run, but the shm file and wal
file are not deleted.
This allows subsequent read\-only clients to connect to and read the
database.




