# 2\. The WAL\-Index File Format



The WAL\-index or "shm" file is used to coordinate access to the database
by multiple clients, and as a cache to help clients quickly locate frames
within the wal file.




Because the shm file is not involved in recovery, the shm file does not
need to be machine byte\-order independent. Hence, numeric values in
the shm file are written in the native byte order of the host computer,
rather than being converted into a specific cross\-platform byte order as
is done with the main database file and the wal file.




The shm file consists of one or more hash tables, where each hash table
is 32768 bytes in size. Except, a 136\-byte header is carved out of the
front of the very first hash table, so the first hash table is only
32632 bytes in size. The total size of the shm file is always a multiple
of 32768\. In most cases, the total size of the shm file is exactly 32768
bytes. The shm file only needs to grow beyond a single hash table if
when the wal file grows very large (more than 4079 frames). Since the
default [automatic checkpoint threshold](c3ref/wal_autocheckpoint.html) is
1000, WAL files rare reach the 4079 threshold needed to make the shm file
grow.



