### 2\.1\.3\. WAL Locks


Eight bytes of space are set aside in the header to support
file locking using the xShmLock() method in the [sqlite3\_io\_methods](c3ref/io_methods.html)
object. These eight bytes are never read nor written by SQLite since
some VFSes (ex: Windows) might implement locks using mandatory file locks.



These are the eight locks supported:




*WAL\-Index Locks Controlled By xShmLock()*  



| Name | Offset | |
| --- | --- | --- |
| xShmLock | File |
| WAL\_WRITE\_LOCK | 0 | 120 |
| WAL\_CKPT\_LOCK | 1 | 121 |
| WAL\_RECOVER\_LOCK | 2 | 122 |
| WAL\_READ\_LOCK(0\) | 3 | 123 |
| WAL\_READ\_LOCK(1\) | 4 | 124 |
| WAL\_READ\_LOCK(2\) | 5 | 125 |
| WAL\_READ\_LOCK(3\) | 6 | 126 |
| WAL\_READ\_LOCK(4\) | 7 | 127 |



*TBD: More information about the header*


