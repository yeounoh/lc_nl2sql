# 4\. ALTER TABLE ADD COLUMN


 The ADD COLUMN syntax
is used to add a new column to an existing table.
The new column is always appended to the end of the list of existing columns.
The [column\-def](syntax/column-def.html) rule defines the characteristics of the new column.
The new column may take any of the forms permissible in a [CREATE TABLE](lang_createtable.html)
statement, with the following restrictions:


* The column may not have a PRIMARY KEY or UNIQUE constraint.
* The column may not have a default value of CURRENT\_TIME, CURRENT\_DATE, 
 CURRENT\_TIMESTAMP, or an expression in parentheses.
* If a NOT NULL constraint is specified, then the column must have a
 default value other than NULL.
* If [foreign key constraints](foreignkeys.html) are [enabled](pragma.html#pragma_foreign_keys) and
 a column with a [REFERENCES clause](syntax/foreign-key-clause.html)
 is added, the column must have a default value of NULL.
* The column may not be [GENERATED ALWAYS ... STORED](gencol.html),
though VIRTUAL columns are allowed.


When adding a column with a [CHECK constraint](lang_createtable.html#ckconst), or a NOT NULL constraint
on a [generated column](gencol.html), the added constraints are tested against all 
preexisting rows in the table and the ADD COLUMN fails
if any constraint fails. The testing of added constraints
against preexisting rows is a new enhancement as of SQLite version
3\.37\.0 (2021\-11\-27\).


The ALTER TABLE command works by modifying the SQL text of the schema
stored in the [sqlite\_schema table](schematab.html).
No changes are made to table content for renames or column addition without
constraints.
Because of this,
the execution time of such ALTER TABLE commands is independent of
the amount of data in the table and such commands will 
run as quickly on a table with 10 million rows as on a table with 1 row.
When adding new columns that have CHECK constraints, or adding generated
columns with NOT NULL constraints, or when deleting columns, then all
existing data in the table must be either read (to test new constraints
against existing rows) or written (to remove deleted columns). In those
cases, the ALTER TABLE command takes time that is proportional to the
amount of content in the table being altered.



After ADD COLUMN has been run on a database, that database will not
be readable by SQLite version 3\.1\.3 (2005\-02\-20\) and earlier.



