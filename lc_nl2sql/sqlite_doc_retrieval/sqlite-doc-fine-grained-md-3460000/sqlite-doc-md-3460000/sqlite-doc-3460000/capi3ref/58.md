## Enable Or Disable Shared Pager Cache




> ```
> 
> int sqlite3_enable_shared_cache(int);
> 
> ```



This routine enables or disables the sharing of the database cache
and schema data structures between [connections](#sqlite3)
to the same database. Sharing is enabled if the argument is true
and disabled if the argument is false.


This interface is omitted if SQLite is compiled with
[\-DSQLITE\_OMIT\_SHARED\_CACHE](compile.html#omit_shared_cache). The [\-DSQLITE\_OMIT\_SHARED\_CACHE](compile.html#omit_shared_cache)
compile\-time option is recommended because the
[use of shared cache mode is discouraged](sharedcache.html#dontuse).


Cache sharing is enabled and disabled for an entire process.
This is a change as of SQLite [version 3\.5\.0](releaselog/3_5_0.html) (2007\-09\-04\).
In prior versions of SQLite,
sharing was enabled or disabled for each thread separately.


The cache sharing mode set by this interface effects all subsequent
calls to [sqlite3\_open()](#sqlite3_open), [sqlite3\_open\_v2()](#sqlite3_open), and [sqlite3\_open16()](#sqlite3_open).
Existing database connections continue to use the sharing mode
that was in effect at the time they were opened.


This routine returns [SQLITE\_OK](#SQLITE_ABORT) if shared cache was enabled or disabled
successfully. An [error code](rescode.html) is returned otherwise.


Shared cache is disabled by default. It is recommended that it stay
that way. In other words, do not use this routine. This interface
continues to be provided for historical compatibility, but its use is
discouraged. Any use of shared cache is discouraged. If shared cache
must be used, it is recommended that shared cache only be enabled for
individual database connections using the [sqlite3\_open\_v2()](#sqlite3_open) interface
with the [SQLITE\_OPEN\_SHAREDCACHE](#SQLITE_OPEN_AUTOPROXY) flag.


Note: This method is disabled on MacOS X 10\.7 and iOS version 5\.0
and will always return SQLITE\_MISUSE. On those systems,
shared cache mode should be enabled per\-database connection via
[sqlite3\_open\_v2()](#sqlite3_open) with [SQLITE\_OPEN\_SHAREDCACHE](#SQLITE_OPEN_AUTOPROXY).


This interface is threadsafe on processors where writing a
32\-bit integer is atomic.


See Also: [SQLite Shared\-Cache Mode](sharedcache.html)




---


