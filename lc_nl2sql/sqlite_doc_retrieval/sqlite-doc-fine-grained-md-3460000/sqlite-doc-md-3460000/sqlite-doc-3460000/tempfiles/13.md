# 4\. Other Temporary File Optimizations



SQLite uses a page cache of recently read and written database
pages. This page cache is used not just for the main database
file but also for transient indices and tables stored in temporary
files. If SQLite needs to use a temporary index or table and
the [SQLITE\_TEMP\_STORE](compile.html#temp_store) compile\-time parameter and the
[temp\_store pragma](pragma.html#pragma_temp_store) are
set to store temporary tables and index on disk, the information
is still initially stored in memory in the page cache. The 
temporary file is not opened and the information is not truly
written to disk until the page cache is full.




This means that for many common cases where the temporary tables
and indices are small (small enough to fit into the page cache)
no temporary files are created and no disk I/O occurs. Only
when the temporary data becomes too large to fit in RAM does
the information spill to disk.




Each temporary table and index is given its own page cache
which can store a maximum number of database pages determined
by the SQLITE\_DEFAULT\_TEMP\_CACHE\_SIZE compile\-time parameter.
(The default value is 500 pages.)
The maximum number of database pages in the page cache is the
same for every temporary table and index. The value cannot
be changed at run\-time or on a per\-table or per\-index basis.
Each temporary file gets its own private page cache with its
own SQLITE\_DEFAULT\_TEMP\_CACHE\_SIZE page limit.




