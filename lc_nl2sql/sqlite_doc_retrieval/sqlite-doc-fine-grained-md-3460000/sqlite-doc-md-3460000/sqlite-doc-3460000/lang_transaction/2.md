# 2\. Transactions



No reads or writes occur except within a transaction.
Any command that accesses the database (basically, any SQL command,
except a few [PRAGMA](pragma.html#syntax) statements)
will automatically start a transaction if
one is not already in effect. Automatically started transactions
are committed when the last SQL statement finishes.




Transactions can be started manually using the BEGIN
command. Such transactions usually persist until the next
COMMIT or ROLLBACK command. But a transaction will also
ROLLBACK if the database is closed or if an error occurs
and the ROLLBACK conflict resolution algorithm is specified.
See the documentation on the [ON CONFLICT](lang_conflict.html)
clause for additional information about the ROLLBACK
conflict resolution algorithm.




END TRANSACTION is an alias for COMMIT.



 Transactions created using BEGIN...COMMIT do not nest.
For nested transactions, use the [SAVEPOINT](lang_savepoint.html) and [RELEASE](lang_savepoint.html) commands.
The "TO SAVEPOINT name" clause of the ROLLBACK command shown
in the syntax diagram above is only applicable to [SAVEPOINT](lang_savepoint.html)
transactions. An attempt to invoke the BEGIN command within
a transaction will fail with an error, regardless of whether
the transaction was started by [SAVEPOINT](lang_savepoint.html) or a prior BEGIN.
The COMMIT command and the ROLLBACK command without the TO clause
work the same on [SAVEPOINT](lang_savepoint.html) transactions as they do with transactions
started by BEGIN.


