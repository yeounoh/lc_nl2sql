# 1\. The EXPLAIN QUERY PLAN Command



**Warning:** The data returned by the EXPLAIN QUERY PLAN command is 
intended for interactive debugging only. The output format may change
between SQLite releases. Applications should not depend on the output
format of the EXPLAIN QUERY PLAN command.




**Alert:** As warned above, the EXPLAIN QUERY PLAN output format did
change substantially with the version 3\.24\.0 release (2018\-06\-04\).
Additional minor changes occurred in version 3\.36\.0 (2021\-06\-18\).
Further changes are possible in subsequent releases.




The [EXPLAIN QUERY PLAN](lang_explain.html) SQL command is used to obtain a high\-level
description of the strategy or plan that SQLite uses to implement a specific
SQL query. Most significantly, EXPLAIN QUERY PLAN reports on the way in 
which the query uses database indices. This document is a guide to
understanding and interpreting the EXPLAIN QUERY PLAN output. Background
information is available separately:



* A primer on [How SQLite Works](howitworks.html).
* Notes on the [query optimizer](optoverview.html).
* How [indexing](queryplanner.html) works.
* The [next generation query planner](queryplanner-ng.html).


A query plan is represented as a tree.
In raw form, as returned by [sqlite3\_step()](c3ref/step.html), each node of the tree
consists of four fields: An integer node id, an integer parent id,
an auxiliary integer field that is not currently used, and a description
of the node.
The entire tree is therefore a table with four columns and zero or more
rows.
The [command\-line shell](cli.html) will usually intercept this table and renders
it as an ASCII\-art graph for more convenient viewing. To disable the
shells automatic graph rendering and to display EXPLAIN QUERY PLAN
output in its tabular format, run the command ".explain off" to set
the "EXPLAIN formatting mode" to off. To restore automatic graph rendering,
run ".explain auto". You can see the current "EXPLAIN formatting mode" 
setting using the ".show" command.



One can also set the [CLI](cli.html) into automatic EXPLAIN QUERY PLAN mode
using the ".eqp on" command:




```
sqlite> .eqp on

```

 In automatic EXPLAIN QUERY PLAN mode, the shell automatically runs
a separate EXPLAIN QUERY PLAN query for each statement you enter and
displays the result before actually running the query. Use the
".eqp off" command to turn automatic EXPLAIN QUERY PLAN mode back off.



EXPLAIN QUERY PLAN is most useful on a SELECT statement,
but may also appear with other statements that read data from database
tables (e.g. UPDATE, DELETE, INSERT INTO ... SELECT).



