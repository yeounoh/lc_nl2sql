# 6\.  Options To Control Operating Characteristics



**SQLITE\_4\_BYTE\_ALIGNED\_MALLOC**


> On most systems, the malloc() system call returns a buffer that is
>  aligned to an 8\-byte boundary. But on some systems (ex: windows) malloc()
>  returns 4\-byte aligned pointer. This compile\-time option must be used
>  on systems that return 4\-byte aligned pointers from malloc().


**SQLITE\_CASE\_SENSITIVE\_LIKE**


> If this option is present, then the built\-in [LIKE](lang_expr.html#like) operator will be
>  case sensitive. This same effect can be achieved at run\-time using
>  the [case\_sensitive\_like pragma](pragma.html#pragma_case_sensitive_like).


**SQLITE\_DIRECT\_OVERFLOW\_READ**


> When this option is present, content contained in
>  [overflow pages](fileformat2.html#ovflpgs) of the database file is read directly from disk,
>  bypassing the [page cache](c3ref/pcache_methods2.html), during read transactions. In applications
>  that do a lot of reads of large BLOBs or strings, this option improves
>  read performance.
>  
>  As of version 3\.45\.0 (2024\-01\-15\), this option is enabled by
>  default. To disable it, using \-DSQLITE\_DIRECT\_OVERFLOW\_READ\=0\.


**SQLITE\_HAVE\_ISNAN**


> If this option is present, then SQLite will use the isnan() function from
>  the system math library. This is an alias for the [HAVE\_ISNAN](compile.html#isnan) configuration
>  option.


**SQLITE\_MAX\_ALLOCATION\_SIZE\=*N***


> This compile\-time option sets an upper bound on the size of memory
>  allocations that can be requested using [sqlite3\_malloc64()](c3ref/free.html),
>  [sqlite3\_realloc64()](c3ref/free.html), and similar. The default value is
>  2,147,483,391 (0x7ffffeff) and this should be considered an
>  upper bound. Most applications can get by with a maximum allocation
>  size of a few million bytes.
>  
>  This is a limit on the maximum size of any single memory allocation.
>  It is *not* a limit on the total amount of memory allocated.
>  See [SQLITE\_MAX\_MEMORY](compile.html#max_memory) for a limitation on the total amount of memory
>  allocated.
>  
>  Reducing the maximum size of individual memory allocations provides
>  extra defense against denial\-of\-service attacks that attempt to exhaust
>  system memory by doing many large allocations. It is also an extra layer
>  of defense against application bugs where the size of a memory allocation
>  is computed using a signed 32\-bit integer that could overflow â†’
>  with a small maximum allocation size, such buggy memory allocation size
>  computations are likely to be spotted sooner due to out\-of\-memory errors
>  and before the integer actually overflows.


**SQLITE\_OS\_OTHER\=*\<0 or 1\>***


> The option causes SQLite to omit its built\-in operating system interfaces
>  for Unix, Windows, and OS/2\. The resulting library will have no default
>  [operating system interface](c3ref/vfs.html). Applications must use
>  [sqlite3\_vfs\_register()](c3ref/vfs_find.html) to register an appropriate interface before
>  using SQLite. Applications must also supply implementations for the
>  [sqlite3\_os\_init()](c3ref/initialize.html) and [sqlite3\_os\_end()](c3ref/initialize.html) interfaces. The usual practice
>  is for the supplied [sqlite3\_os\_init()](c3ref/initialize.html) to invoke [sqlite3\_vfs\_register()](c3ref/vfs_find.html).
>  SQLite will automatically invoke [sqlite3\_os\_init()](c3ref/initialize.html) when it initializes.
> 
> 
>  This option is typically used when building SQLite for an embedded
>  platform with a custom operating system.


**SQLITE\_SECURE\_DELETE**


> This compile\-time option changes the default setting of the
>  [secure\_delete pragma](pragma.html#pragma_secure_delete). When this option is not used, secure\_delete defaults
>  to off. When this option is present, secure\_delete defaults to on.
> 
> 
>  The secure\_delete setting causes deleted content to be overwritten with
>  zeros. There is a small performance penalty since additional I/O
>  must occur. On the other hand, secure\_delete can prevent fragments of
>  sensitive information from lingering in unused parts of the database file
>  after it has been deleted. See the documentation on the
>  [secure\_delete pragma](pragma.html#pragma_secure_delete) for additional information.


**SQLITE\_THREADSAFE\=*\<0 or 1 or 2\>***


> This option controls whether or not code is included in SQLite to
>  enable it to operate safely in a multithreaded environment. The
>  default is SQLITE\_THREADSAFE\=1 which is safe for use in a multithreaded
>  environment. When compiled with SQLITE\_THREADSAFE\=0 all mutexing code
>  is omitted and it is unsafe to use SQLite in a multithreaded program.
>  When compiled with SQLITE\_THREADSAFE\=2, SQLite can be used in a multithreaded
>  program so long as no two threads attempt to use the same
>  [database connection](c3ref/sqlite3.html) (or any [prepared statements](c3ref/stmt.html) derived from
>  that database connection) at the same time.
> 
> 
>  To put it another way, SQLITE\_THREADSAFE\=1 sets the default
>  [threading mode](threadsafe.html) to Serialized. SQLITE\_THREADSAFE\=2 sets the default
>  [threading mode](threadsafe.html) to Multi\-threaded. And SQLITE\_THREADSAFE\=0 sets the
>  [threading mode](threadsafe.html) to Single\-threaded.
> 
> 
>  The value of SQLITE\_THREADSAFE can be determined at run\-time
>  using the [sqlite3\_threadsafe()](c3ref/threadsafe.html) interface.
> 
> 
>  When SQLite has been compiled with SQLITE\_THREADSAFE\=1 or
>  SQLITE\_THREADSAFE\=2 then the [threading mode](threadsafe.html)
>  can be altered at run\-time using the [sqlite3\_config()](c3ref/config.html) interface together
>  with one of these verbs:
> 
> 
>  * [SQLITE\_CONFIG\_SINGLETHREAD](c3ref/c_config_covering_index_scan.html#sqliteconfigsinglethread)* [SQLITE\_CONFIG\_MULTITHREAD](c3ref/c_config_covering_index_scan.html#sqliteconfigmultithread)* [SQLITE\_CONFIG\_SERIALIZED](c3ref/c_config_covering_index_scan.html#sqliteconfigserialized)
> 
> 
> 
>  The [SQLITE\_OPEN\_NOMUTEX](c3ref/c_open_autoproxy.html) and
>  [SQLITE\_OPEN\_FULLMUTEX](c3ref/c_open_autoproxy.html) flags to [sqlite3\_open\_v2()](c3ref/open.html) can also be used
>  to adjust the [threading mode](threadsafe.html) of individual [database connections](c3ref/sqlite3.html)
>  at run\-time.
> 
> 
>  Note that when SQLite is compiled with SQLITE\_THREADSAFE\=0, the code
>  to make SQLite threadsafe is omitted from the build. When this occurs,
>  it is impossible to change the [threading mode](threadsafe.html) at start\-time or run\-time.
> 
> 
>  See the [threading mode](threadsafe.html) documentation for additional information
>  on aspects of using SQLite in a multithreaded environment.


**SQLITE\_TEMP\_STORE\=*\<0 through 3\>***


> This option controls whether temporary files are stored on disk or
>  in memory. The meanings for various settings of this compile\-time
>  option are as follows:
> 
> 
>  
> 
> | SQLITE\_TEMP\_STORE | Meaning |
> | --- | --- |
> | 0 | Always use temporary files |
> | 1 | Use files by default but allow the  [PRAGMA temp\_store](pragma.html#pragma_temp_store) command to override |
> | 2 | Use memory by default but allow the  [PRAGMA temp\_store](pragma.html#pragma_temp_store) command to override |
> | 3 | Always use memory |
> 
> 
> 
> 
>  The default setting is 1\.
>  Additional information can be found in [tempfiles.html](tempfiles.html#tempstore).


**SQLITE\_TRACE\_SIZE\_LIMIT\=*N***


> If this macro is defined to a positive integer *N*, then the length of
>  strings and BLOB that are expanded into parameters in the output of
>  [sqlite3\_trace()](c3ref/profile.html) is limited to *N* bytes.


**SQLITE\_TRUSTED\_SCHEMA\=*\<0 or 1\>***


> This macro determines the default value for the
>  [SQLITE\_DBCONFIG\_TRUSTED\_SCHEMA](c3ref/c_dbconfig_defensive.html#sqlitedbconfigtrustedschema) and [PRAGMA trusted\_schema](pragma.html#pragma_trusted_schema) setting.
>  If no alternative is specified, the trusted\-schema setting defaults
>  to ON (a value of 1\) for legacy compatibility. However, for best
>  security, systems that implement
>  [application\-defined SQL functions](appfunc.html) and/or [virtual tables](vtab.html) should
>  consider changing the default to OFF.


**SQLITE\_USE\_URI**


> This option causes the [URI filename](uri.html) process logic to be enabled by
>  default.



