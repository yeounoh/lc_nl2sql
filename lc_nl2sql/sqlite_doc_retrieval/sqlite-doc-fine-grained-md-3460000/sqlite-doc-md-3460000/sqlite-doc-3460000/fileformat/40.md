### 2\.6\.5\. The sqlite\_stat2 table


The sqlite\_stat2 is only created and is only used if SQLite is compiled
with SQLITE\_ENABLE\_STAT2 and if the SQLite version number is between
3\.6\.18 (2009\-09\-11\) and 3\.7\.8 (2011\-09\-19\).
The sqlite\_stat2 table is neither read nor written by any
version of SQLite before 3\.6\.18 nor after 3\.7\.8\.
The sqlite\_stat2 table contains additional information
about the distribution of keys within an index.
The schema of the sqlite\_stat2 table is as follows:




> ```
> 
> CREATE TABLE sqlite_stat2(tbl,idx,sampleno,sample);
> 
> ```


The sqlite\_stat2\.idx column and the sqlite\_stat2\.tbl column in each 
row of the sqlite\_stat2 table identify an index described by that row.
There are usually 10 rows in the sqlite\_stat2
table for each index.



The sqlite\_stat2 entries for an index that have sqlite\_stat2\.sampleno
between 0 and 9 inclusive are samples of the left\-most key value in the
index taken at evenly spaced points along the index.
Let C be the number of rows in the index.
Then the sampled rows are given by




> rownumber \= (i\*C\*2 \+ C)/20


The variable i in the previous expression varies between 0 and 9\.
Conceptually, the index space is divided into
10 uniform buckets and the samples are the middle row from each bucket.



The format for sqlite\_stat2 is recorded here for legacy reference. 
Recent versions of SQLite no longer support sqlite\_stat2 and the
sqlite\_stat2 table, if is exists, is simply ignored.




