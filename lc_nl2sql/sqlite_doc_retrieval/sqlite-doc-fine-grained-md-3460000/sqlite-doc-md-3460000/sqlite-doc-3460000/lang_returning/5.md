## 2\.2\. Self\-Referential Subqueries Are Indeterminate



SQLite guarantees that all database changes will occur before
any RETURNING output is *emitted*, but SQLite makes no
guarantees about the order in which database changes occur nor
when the RETURNING output is *computed* in relation to
those database changes. RETURNING clause outputs are all computed and
placed in temporary storage during the first call to sqlite3\_step() 
but the specific order of when those output are computed and the
order in which database changes occur is unspecified. The order 
can change from one query to the next.




Hence if column of RETURNING output contains a
subquery that references the table being modified, then the result
of that subquery might depend on unspecified behavior and hence
could vary from one invocation of the query to the next.



