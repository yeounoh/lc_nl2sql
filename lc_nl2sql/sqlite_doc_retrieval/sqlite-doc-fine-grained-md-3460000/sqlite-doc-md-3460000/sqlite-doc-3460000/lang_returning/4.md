## 2\.1\. Processing Order



When a DELETE, INSERT, or UPDATE statement with a RETURNING clause
is run, all of the database changes occur during the first invocation
of [sqlite3\_step()](c3ref/step.html). The RETURNING clause output is accumulated in
memory. The first sqlite3\_step() call returns one row of RETURNING
output and subsequent rows of RETURNING output are returned by subsequent
calls to sqlite3\_step().
To put this another way, all RETURNING clause output is embargoed
until after all database modification actions are completed.




This means that if a statement has a RETURNING clause that generates
a large amount of output, either many rows or large
string or BLOB values, then the statement might use a lot of 
temporary memory to hold those values while it is running.




While SQLite does guarantee that all database changes will occur
before any RETURNING output is emitted, it does *not* guarantee
that the order of individual RETURNING rows will match the order in
which those rows were changed in the database. The output order
for the RETURNING rows is arbitrary and is not necessarily related
to the order in which the rows were processed internally.



