## 4\.9\. The \-\> and \-\>\> operators


Beginning with SQLite version 3\.38\.0 (2022\-02\-22\), the \-\>
and \-\>\> operators are available for extracting subcomponents of JSON.
The SQLite implementation of \-\> and \-\>\> strives to be
compatible with both MySQL and PostgreSQL.
The \-\> and \-\>\> operators take a JSON string or JSONB blob
as their left operand and a PATH expression or object field
label or array index as their right operand. The \-\> operator
returns a text JSON representation of the selected subcomponent or
NULL if that subcomponent does not exist. The \-\>\> operator returns
an SQL TEXT, INTEGER, REAL, or NULL value that represents the selected
subcomponent, or NULL if the subcomponent does not exist.



Both the \-\> and \-\>\> operators select the same subcomponent
of the JSON to their left. The difference is that \-\> always returns a
JSON representation of that subcomponent and the \-\>\> operator always
returns an SQL representation of that subcomponent. Thus, these operators
are subtly different from a two\-argument [json\_extract()](json1.html#jex) function call.
A call to json\_extract() with two arguments will return a JSON representation
of the subcomponent if and only if the subcomponent is a JSON array or
object, and will return an SQL representation of the subcomponent if the
subcomponent is a JSON null, string, or numeric value.



When the \-\> operator returns JSON, it always returns the
RFC 8565 text representation of that JSON, not JSONB. Use the
[jsonb\_extract()](json1.html#jexb) function if you need a subcomponent in the
JSONB format.



The right\-hand operand to the \-\> and \-\>\> operators can
be a well\-formed JSON path expression. This is the form used by MySQL.
For compatibility with PostgreSQL,
the \-\> and \-\>\> operators also accept a text object label or
integer array index as their right\-hand operand.
If the right operand is a text
label X, then it is interpreted as the JSON path '$.X'. If the right
operand is an integer value N, then it is interpreted as the JSON path '$\[N]'.



Examples:

* '{"a":2,"c":\[4,5,{"f":7}]}' \-\> '$'
→ '{"a":2,"c":\[4,5,{"f":7}]}'
* '{"a":2,"c":\[4,5,{"f":7}]}' \-\> '$.c'
→ '\[4,5,{"f":7}]'
* '{"a":2,"c":\[4,5,{"f":7}]}' \-\> 'c'
→ '\[4,5,{"f":7}]'
* '{"a":2,"c":\[4,5,{"f":7}]}' \-\> '$.c\[2]'
→ '{"f":7}'
* '{"a":2,"c":\[4,5,{"f":7}]}' \-\> '$.c\[2].f'
→ '7'
* '{"a":2,"c":\[4,5,{"f":7}]}' \-\>\> '$.c\[2].f'
→ 7
* '{"a":2,"c":\[4,5,{"f":7}]}' \-\> 'c' \-\> 2 \-\>\> 'f'
→ 7
* '{"a":2,"c":\[4,5],"f":7}' \-\> '$.c\[\#\-1]'
→ '5'
* '{"a":2,"c":\[4,5,{"f":7}]}' \-\> '$.x'
→ NULL
* '\[11,22,33,44]' \-\> 3
→ '44'
* '\[11,22,33,44]' \-\>\> 3
→ 44
* '{"a":"xyz"}' \-\> '$.a'
→ '"xyz"'
* '{"a":"xyz"}' \-\>\> '$.a'
→ 'xyz'
* '{"a":null}' \-\> '$.a'
→ 'null'
* '{"a":null}' \-\>\> '$.a'
→ NULL







