## SQLite Release 3\.8\.8\.3 On 2015\-02\-25

**Prior changes from version 3\.8\.8 (2015\-01\-16\):**


**New Features:**
- Added the [PRAGMA data\_version](../pragma.html#pragma_data_version) command that can be used to determine if
 a database file has been modified by another process.
- Added the [SQLITE\_CHECKPOINT\_TRUNCATE](../c3ref/c_checkpoint_full.html) option to the
 [sqlite3\_wal\_checkpoint\_v2()](../c3ref/wal_checkpoint_v2.html) interface, with corresponding enhancements
 to [PRAGMA wal\_checkpoint](../pragma.html#pragma_wal_checkpoint).
- Added the [sqlite3\_stmt\_scanstatus()](../c3ref/stmt_scanstatus.html) interface, available only when
 compiled with [SQLITE\_ENABLE\_STMT\_SCANSTATUS](../compile.html#enable_stmt_scanstatus).
- The [sqlite3\_table\_column\_metadata()](../c3ref/table_column_metadata.html) is enhanced to work correctly on
 [WITHOUT ROWID](../withoutrowid.html) tables and to check for the existence of a
 a table if the column name parameter is NULL. The interface is now
 also included in the build by default, without requiring
 the [SQLITE\_ENABLE\_COLUMN\_METADATA](../compile.html#enable_column_metadata) compile\-time option.
- Added the [SQLITE\_ENABLE\_API\_ARMOR](../compile.html#enable_api_armor) compile\-time option.
- Added the [SQLITE\_REVERSE\_UNORDERED\_SELECTS](../compile.html#reverse_unordered_selects) compile\-time option.
- Added the [SQLITE\_SORTER\_PMASZ](../compile.html#sorter_pmasz) compile\-time option and [SQLITE\_CONFIG\_PMASZ](../c3ref/c_config_covering_index_scan.html#sqliteconfigpmasz)
 start\-time option.
- Added the [SQLITE\_CONFIG\_PCACHE\_HDRSZ](../c3ref/c_config_covering_index_scan.html#sqliteconfigpcachehdrsz) option to [sqlite3\_config()](../c3ref/config.html)
 which makes it easier for applications to determine the appropriate
 amount of memory for use with [SQLITE\_CONFIG\_PAGECACHE](../c3ref/c_config_covering_index_scan.html#sqliteconfigpagecache).
- The number of rows in a [VALUES clause](../lang_select.html#values) is no longer limited by
 [SQLITE\_LIMIT\_COMPOUND\_SELECT](../c3ref/c_limit_attached.html#sqlitelimitcompoundselect).
- Added the [eval.c](https://www.sqlite.org/src/artifact/f971962e92ebb8b0)
[loadable extension](../loadext.html) that implements an eval() SQL function that will recursively
 evaluate SQL.
**Performance Enhancements:**
- Reduce the number of memcpy() operations involved in balancing a b\-tree,
 for 3\.2% overall performance boost.
- Improvements to cost estimates for the [skip\-scan optimization](../optoverview.html#skipscan).
- The [automatic indexing](../optoverview.html#autoindex) optimization is now capable of generating
 a [partial index](../partialindex.html) if that is appropriate.
**Bug fixes:**
- Ensure durability following a power loss with
 "PRAGMA journal\_mode\=TRUNCATE" by calling fsync() right after truncating
 the journal file.
- The query planner now recognizes that any column in the right\-hand
 table of a LEFT JOIN can be NULL, even if that column has a NOT NULL
 constraint. Avoid trying to optimize out NULL tests in those cases.
 Fix for ticket
 [6f2222d550f5b0ee7ed](https://www.sqlite.org/src/info/6f2222d550f5b0ee7ed).
- Make sure ORDER BY puts rows in ascending order even if the DISTINCT
 operator is implemented using a descending index. Fix for ticket
 [c5ea805691bfc4204b1cb9e](https://www.sqlite.org/src/info/c5ea805691bfc4204b1cb9e).
- Fix data races that might occur under stress when running with many threads
 in [shared cache mode](../sharedcache.html) where some of the threads are opening and
 closing connections.
- Fix obscure crash bugs found by
 [american fuzzy lop](http://lcamtuf.coredump.cx/afl/). Ticket
 [a59ae93ee990a55](https://www.sqlite.org/src/info/a59ae93ee990a55).
- Work around a GCC optimizer bug (for gcc 4\.2\.1 on MacOS 10\.7\) that caused the
 [R\-Tree extension](../rtree.html) to compute incorrect results when compiled with \-O3\.
**Other changes:**
- Disable the use of the strchrnul() C\-library routine unless it is
 specifically enabled using the \-DHAVE\_STRCHRNULL compile\-time option.
- Improvements to the effectiveness and accuracy of the
 [likelihood()](../lang_corefunc.html#likelihood), [likely()](../lang_corefunc.html#likely), and [unlikely()](../lang_corefunc.html#unlikely) SQL hint functions.




**Prior changes from version 3\.8\.8\.1 (2015\-01\-20\):**


1. Fix a bug in the sorting logic, present since version 3\.8\.4, that can cause
 output to appear in the wrong order on queries that contains an ORDER BY clause,
 a LIMIT clause, and that have approximately 60 or more columns in the result set.
 Ticket [f97c4637102a3ae72b79](https://www.sqlite.org/src/tktview?name=f97c4637102a3ae72b79).


**Prior changes from version 3\.8\.8\.2 (2015\-01\-30\):**


1. Enhance [sqlite3\_wal\_checkpoint\_v2(TRUNCATE)](../c3ref/wal_checkpoint_v2.html) interface so that it truncates the
 WAL file even if there is no checkpoint work to be done.


**Changes in this specific patch release, version 3\.8\.8\.3 (2015\-02\-25\):**


1. Fix a bug (ticket
 [2326c258d02ead33](https://www.sqlite.org/src/info/2326c258d02ead33)) that can lead
 to incorrect results if the qualifying constraint of a [partial index](../partialindex.html) appears in the
 ON clause of a LEFT JOIN.
- Added the ability to link against the
 "[linenoise](https://github.com/antirez/linenoise)"
 command\-line editing library in unix builds of the [command\-line shell](../cli.html).

- SQLITE\_SOURCE\_ID: "2015\-02\-25 13:29:11 9d6c1880fb75660bbabd693175579529785f8a6b"
- SHA1 for sqlite3\.c: 74ee38c8c6fd175ec85a47276dfcefe8a262827a



A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).








