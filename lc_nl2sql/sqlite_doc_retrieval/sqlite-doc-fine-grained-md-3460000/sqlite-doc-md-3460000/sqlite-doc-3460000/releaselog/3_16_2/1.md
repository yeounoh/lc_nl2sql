## SQLite Release 3\.16\.2 On 2017\-01\-06

**Prior changes from version 3\.16\.0 (2017\-01\-02\):**


1. Uses 9% fewer CPU cycles. (See the [CPU performance measurement](../cpu.html) report for
 details on how this performance increase was computed.)
- Added experimental support for [PRAGMA functions](../pragma.html#pragfunc).
- Added the [SQLITE\_DBCONFIG\_NO\_CKPT\_ON\_CLOSE](../c3ref/c_dbconfig_defensive.html#sqlitedbconfignockptonclose) option to [sqlite3\_db\_config()](../c3ref/db_config.html).
- Enhance the [date and time functions](../lang_datefunc.html) so that the 'unixepoch' modifier works
 for the full span of supported dates.
- Changed the default configuration of the [lookaside memory allocator](../malloc.html#lookaside) from
 500 slots of 128 bytes each into 125 slots of 512 bytes each.
- Enhanced "WHERE x NOT NULL" [partial indexes](../partialindex.html) so that they are usable if
 the "x" column appears in a LIKE or GLOB operator.
- Enhanced [sqlite3\_interrupt()](../c3ref/interrupt.html) so that it interrupts [checkpoint](../wal.html#ckpt) operations that
 are in process.
- Enhanced the [LIKE](../lang_expr.html#like) and [GLOB](../lang_expr.html#glob) matching algorithm to be faster
 for cases when the pattern contains multiple wildcards.
- Added the [SQLITE\_FCNTL\_WIN32\_GET\_HANDLE](../c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlwin32gethandle) file control opcode.
- Added ".mode quote" to the [command\-line shell](../cli.html).
- Added ".lint fkey\-indexes" to the [command\-line shell](../cli.html).
- Added the [.imposter dot\-command](../imposter.html#dotimposter) to the [command\-line shell](../cli.html).
- Added the [remember(V,PTR)](https://www.sqlite.org/src/file/ext/misc/remember.c)
 SQL function as a [loadable extension](../loadext.html).
- Rename the [SQLITE\_OMIT\_BUILTIN\_TEST](../compile.html#omit_builtin_test) compile\-time option to
 [SQLITE\_UNTESTABLE](../compile.html#untestable) to better reflect the implications of using it.
**Bug Fixes:**
- Fix a long\-standing bug in the query planner that caused incorrect results
 on a LEFT JOIN where the left\-hand table is a subquery and the join constraint
 is a bare column name coming from the left\-hand subquery. Ticket
 [2df0107b](https://www.sqlite.org/src/info/2df0107b).
- Correctly handle the integer literal \-0x8000000000000000 in the query planner.


**Prior changes from version 3\.16\.1 (2017\-01\-03\):**


1. Fix a bug concerning the use of [row values](../rowvalue.html) within [triggers](../lang_createtrigger.html)
 (see ticket [8c9458e7](https://www.sqlite.org/src/info/8c9458e7))
 that was in version 3\.15\.0 but was not reported until moments after the 3\.16\.0
 release was published.


**Changes in this specific patch release, version 3\.16\.2 (2017\-01\-06\):**


1. Fix the [REPLACE](../lang_replace.html) statement for
 [WITHOUT ROWID](../withoutrowid.html) tables that lack secondary indexes so that
 it works correctly with triggers and foreign keys. This was a new bug
 caused by performance optimizations added in version 3\.16\.0\.
 Ticket [30027b613b4](https://www.sqlite.org/src/info/30027b613b4)- Fix the [sqlite3\_value\_text()](../c3ref/value_blob.html) interface so that it correctly
 translates content generated by [zeroblob()](../lang_corefunc.html#zeroblob) into a string of all
 0x00 characters. This is a long\-standing issue discovered after the
 3\.16\.1 release by [OSS\-Fuzz](https://github.com/google/oss-fuzz)- Fix the bytecode generator to deal with a subquery in the FROM clause
 that is itself a UNION ALL where one side of the UNION ALL is a view
 that contains an ORDER BY. This is a long\-standing issue that was
 discovered after the release of 3\.16\.1\. See ticket
 [190c2507](https://www.sqlite.org/src/info/190c2507).
- Adjust the [sqlite3\_column\_count()](../c3ref/column_count.html) API so it more often returns the same
 values for [PRAGMA](../pragma.html#syntax) statements as it did in prior releases, to
 minimize disruption to applications that might be using that
 interface in unexpected ways.
**Hashes:**
- SQLITE\_SOURCE\_ID: "2017\-01\-06 16:32:41 a65a62893ca8319e89e48b8a38cf8a59c69a8209"
- SHA1 for sqlite3\.c: 2bebdc3f24911c0d12b6d6c0123c3f84d6946b08



A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).






