## SQLite Release 3\.43\.1 On 2023\-09\-11

**Prior changes from version 3\.43\.0 (2023\-08\-24\):**


1. Add support for [Contentless\-Delete FTS5 Indexes](../fts5.html#clssdeltab). This is a variety
 of [FTS5](../fts5.html) full\-text search index that omits storing the content that is being indexed
 while also allowing records to be deleted.
- Enhancements to the [date and time functions](../lang_datefunc.html):
	1. Added new [time shift modifiers](../lang_datefunc.html#tmshf) of the form Â±YYYY\-MM\-DD HH:MM:SS.SSS.
	 - Added the [timediff() SQL function](../lang_datefunc.html#tmdif).- Added the [octet\_length(X)](../lang_corefunc.html#octet_length) SQL function.
- Added the [sqlite3\_stmt\_explain()](../c3ref/stmt_explain.html) API.
- Query planner enhancements:
	1. Generalize the LEFT JOIN strength reduction optimization so that it works
	 for RIGHT and FULL JOINs as well. Rename it to
	 [OUTER JOIN strength reduction](../optoverview.html#leftjoinreduction).
	 - Enhance the theorem prover in the [OUTER JOIN strength reduction](../optoverview.html#leftjoinreduction) optimization
	 so that it returns fewer false\-negatives.- Enhancements to the [decimal extension](../floatingpoint.html#decext):
	1. New function decimal\_pow2(N) returns the N\-th power of 2 for integer N
	 between \-20000 and \+20000\.
	 - New function decimal\_exp(X) works like decimal(X) except that it returns
	 the result in exponential notation \- with a "e\+NN" at the end.
	 - If X is a floating\-point value, then the decimal(X) function now does a full
	 expansion of that value into its exact decimal equivalent.- Performance enhancements to [JSON processing](../json1.html) results in a 2x performance
 improvement for some kinds of processing on large JSON strings.
- New makefile target "verify\-source" checks to ensure that there are no
 unintentional changes in the source tree. (Works for 
 [canonical source code](../getthecode.html) only \- 
 not for [precompiled amalgamation tarballs](../amalgamation.html#amalgtarball).)
- Added the [SQLITE\_USE\_SEH](../compile.html#use_seh) compile\-time option that enables Structured
 Exception Handling on Windows while working with the memory\-mapped
 [shm file](../walformat.html#shm) that is part of [WAL mode](../wal.html) processing. This option is enabled
 by default when building on Windows using Makefile.msc.
- The [VFS](../vfs.html) for unix now assumes that the nanosleep() system call is
 available unless compiled with \-DHAVE\_NANOSLEEP\=0\.


**Changes in this specific patch release, version 3\.43\.1 (2023\-09\-11\):**


1. Fix a regression in the way that the [sum()](../lang_aggfunc.html#sumunc), [avg()](../lang_aggfunc.html#avg), and [total()](../lang_aggfunc.html#sumunc)
 aggregate functions handle infinities.
- Fix a bug in the [json\_array\_length()](../json1.html#jarraylen) function that occurs when the
 argument comes directly from [json\_remove()](../json1.html#jrm).
- Fix the omit\-unused\-subquery\-columns optimization (introduced in
 in version 3\.42\.0\) so that it works correctly if the subquery is a
 compound where one arm is DISTINCT and the other is not.
- Other minor fixes.
**Hashes:**
- SQLITE\_SOURCE\_ID: 2023\-09\-11 12:01:27 2d3a40c05c49e1a49264912b1a05bc2143ac0e7c3df588276ce80a4cbc9bd1b0
- SHA3\-256 for sqlite3\.c: 391af0a4755e31ae8b29776a4a060b678823ffe4c4db558567567c688a578589



A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).




