## SQLite Release 3\.11\.1 On 2016\-03\-03

**Prior changes from version 3\.11\.0 (2016\-02\-15\):**


**General improvements:**
- Enhanced [WAL mode](../wal.html) so that it works efficiently with transactions that are
 larger than the [cache\_size](../pragma.html#pragma_cache_size).
- Added the [FTS5 detail option](../fts5.html#the_detail_option).
- Added the "EXTRA" option to [PRAGMA synchronous](../pragma.html#pragma_synchronous) that does a sync of the
 containing directory when a rollback journal is unlinked in DELETE mode,
 for better durability. The [SQLITE\_EXTRA\_DURABLE](../compile.html#extra_durable) compile\-time option enables
 [PRAGMA synchronous\=EXTRA](../pragma.html#pragma_synchronous) by default.
- Enhanced the [query planner](../optoverview.html) so that it is able to use
 a [covering index](../queryplanner.html#covidx) as part of the [OR optimization](../optoverview.html#or_opt).
- Avoid recomputing [NOT NULL](../lang_createtable.html#notnullconst) and [CHECK constraints](../lang_createtable.html#ckconst) on unchanged
 columns in [UPDATE](../lang_update.html) statement.
- Many micro\-optimizations, resulting in a library that is
 faster than the previous release.
**Enhancements to the [command\-line shell](../cli.html):**
- By default, the shell is now in "auto\-explain" mode. The output of
 [EXPLAIN](../lang_explain.html) commands is automatically formatted.
- Added the ".vfslist" [dot\-command](../cli.html#dotcmd).
- The [SQLITE\_ENABLE\_EXPLAIN\_COMMENTS](../compile.html#enable_explain_comments) compile\-time option is now turned
 on by default in the standard builds.
**Enhancements to the [TCL Interface](../tclsqlite.html):**
- If a database connection is opened with the "\-uri 1" option, then
 [URI filenames](../uri.html) are honored by the "backup" and "restore" commands.
- Added the "\-sourceid" option to the "sqlite3" command.
**Makefile improvements:**
- Improved pthreads detection in configure scripts.
- Add the ability to do MSVC Windows builds from the [amalgamation tarball](../download.html).
**Bug fixes**
- Fix an issue with incorrect sharing of VDBE temporary registers between
 co\-routines that could cause incorrect query results in obscure cases. Ticket
 [d06a25c84454a](https://www.sqlite.org/src/info/d06a25c84454a).
- Fix a problem in the [sqlite3\_result\_subtype()](../c3ref/result_subtype.html) interface that could
 cause problems for the [json1](../json1.html) extension under obscure circumstances.
 Fix for ticket
 [f45ac567eaa9f9](https://www.sqlite.org/src/info/f45ac567eaa9f9).
- Escape control characters in JSON strings. Fix for ticket
 [ad2559db380abf8](https://www.sqlite.org/src/info/ad2559db380abf8).
- Reenable the xCurrentTime and xGetLastError methods in the built\-in
 unix [VFSes](../vfs.html) as long as [SQLITE\_OMIT\_DEPRECATED](../compile.html#omit_deprecated) is not defined.
**Backwards Compatibility:**
- Because of continuing security concerns, the two\-argument version
 of the seldom\-used and little\-known [fts3\_tokenizer()](../fts3.html#f3tknzr) function is
 disabled unless SQLite is compiled with the [SQLITE\_ENABLE\_FTS3\_TOKENIZER](../compile.html#enable_fts3_tokenizer).




**Changes in this specific patch release, version 3\.11\.1 (2016\-03\-03\):**


1. Improvements to the Makefiles and build scripts used by VisualStudio.
- Fix an [FTS5](../fts5.html) issue in which the 'optimize' command could cause index corruption.
- Fix a buffer overread that might occur if [FTS5](../fts5.html) is used to query a corrupt
 database file.
- Increase the maximum "scope" value for the [spellfix1](../spellfix1.html) extension from 6 to 30\.
- SQLITE\_SOURCE\_ID: "2016\-03\-03 16:17:53 f047920ce16971e573bc6ec9a48b118c9de2b3a7"
- SHA1 for sqlite3\.c: 3da832fd2af36eaedb05d61a8f4c2bb9f3d54265



A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).




