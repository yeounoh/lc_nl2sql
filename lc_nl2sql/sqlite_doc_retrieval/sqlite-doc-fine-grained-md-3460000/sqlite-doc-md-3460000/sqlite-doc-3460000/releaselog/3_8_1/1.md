## SQLite Release 3\.8\.1 On 2013\-10\-17

1. Added the [unlikely()](../lang_corefunc.html#unlikely) and [likelihood()](../lang_corefunc.html#likelihood) SQL functions to be used
 as hints to the query planner.
- Enhancements to the query planner:
	1. Take into account the fact WHERE clause terms that cannot be used with indices
	 still probably reduce the number of output rows.
	 - Estimate the sizes of table and index rows and use the smallest applicable B\-Tree
	 for full scans and "count(\*)" operations.- Added the [soft\_heap\_limit pragma](../pragma.html#pragma_soft_heap_limit).
- Added support for [SQLITE\_ENABLE\_STAT4](../compile.html#enable_stat4)- Added support for "sz\=NNN" parameters at the end of
 [sqlite\_stat1\.stat](../fileformat2.html#stat1tab) fields
 used to specify the average length in bytes for table and index rows.
- Avoid running foreign\-key constraint checks on an UPDATE if none of the
 modified columns are associated with foreign keys.
- Added the [SQLITE\_MINIMUM\_FILE\_DESCRIPTOR](../compile.html#minimum_file_descriptor) compile\-time option
- Added the win32\-longpath VFS on windows, permitting filenames up to 32K
 characters in length.
- The [Date And Time Functions](../lang_datefunc.html) are enhanced so that the current time
 (ex: julianday('now')) is always the same for multiple function invocations
 within the same [sqlite3\_step()](../c3ref/step.html) call.
- Add the "totype.c" extension, implementing the tointeger() and toreal()
 SQL functions.
- [FTS4](../fts3.html#fts4) queries are better able to make use of docid\<$limit constraints to
 limit the amount of I/O required.
- Added the hidden [fts4aux languageid column](../fts3.html#f4alid) to the [fts4aux](../fts3.html#fts4aux) virtual table.
- The [VACUUM](../lang_vacuum.html) command packs the database about 1% tighter.
- The sqlite3\_analyzer utility program is updated to provide better descriptions
 and to compute a more accurate estimate for "Non\-sequential pages"
- Refactor the implementation of PRAGMA statements to improve parsing performance.
- The directory used to hold temporary files on unix can now be set using
 the SQLITE\_TMPDIR environment variable, which takes precedence over the
 TMPDIR environment variable. The [sqlite3\_temp\_directory](../c3ref/temp_directory.html) global variable
 still has higher precedence than both environment variables, however.
- Added the [PRAGMA stats](../pragma.html#pragma_stats) statement.
- **Bug fix:** Return the correct answer for "SELECT count(\*) FROM table" even if
 there is a [partial index](../partialindex.html) on the table. Ticket
 [a5c8ed66ca](https://www.sqlite.org/src/info/a5c8ed66ca).

- SQLITE\_SOURCE\_ID:
 "2013\-10\-17 12:57:35 c78be6d786c19073b3a6730dfe3fb1be54f5657a"
- SHA1 for sqlite3\.c: 0a54d76566728c2ba96292a49b138e4f69a7c391



A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).


