## SQLite Release 3\.10\.2 On 2016\-01\-20

**Prior changes from version 3\.10\.0 (2016\-01\-06\):**


**General improvements:**
- Added support for [LIKE](../lang_expr.html#like), [GLOB](../lang_expr.html#glob), and [REGEXP](../lang_expr.html#regexp) operators on [virtual tables](../vtab.html).
- Added the [colUsed field](../vtab.html#colUsed) to [sqlite3\_index\_info](../c3ref/index_info.html) for use by
 the [sqlite3\_module.xBestIndex](../vtab.html#xbestindex) method.
- Enhance the [PRAGMA cache\_spill](../pragma.html#pragma_cache_spill) statement to accept a 32\-bit integer
 parameter which is the threshold below which cache spilling is prohibited.
- On unix, if a symlink to a database file is opened, then the corresponding
 journal files are based on the actual filename, not the symlink name.
- Added the "\-\-transaction" option to [sqldiff](../sqldiff.html).
- Added the [sqlite3\_db\_cacheflush()](../c3ref/db_cacheflush.html) interface.
- Added the [sqlite3\_strlike()](../c3ref/strlike.html) interface.
- When using [memory\-mapped I/O](../mmap.html) map the database file read\-only so that stray pointers
 and/or array overruns in the application cannot accidentally modify the database file.
- Added the *experimental* [sqlite3\_snapshot\_get()](../c3ref/snapshot_get.html), [sqlite3\_snapshot\_open()](../c3ref/snapshot_open.html),
 and [sqlite3\_snapshot\_free()](../c3ref/snapshot_free.html) interfaces. These are subject to change or removal in
 a subsequent release.
- Enhance the ['utc' modifier](../lang_datefunc.html#localtime) in the [date and time functions](../lang_datefunc.html) so that it is a no\-op if
 the date/time is known to already be in UTC. (This is not a compatibility break since
 the behavior has long been documented as "undefined" in that case.)
- Added the [json\_group\_array()](../json1.html#jgrouparray) and [json\_group\_object()](../json1.html#jgroupobject) SQL functions in the
 [json](../json1.html#jmini) extension.
- Added the [SQLITE\_LIKE\_DOESNT\_MATCH\_BLOBS](../compile.html#like_doesnt_match_blobs) compile\-time option.
- Many small performance optimizations.
**Portability enhancements:**
- Work around a sign\-extension bug in the optimizer of the HP C compiler on HP/UX.
 [(details)](https://www.sqlite.org/src/fdiff?sbs=1&v1=869c95b0fc73026d&v2=232c242a0ccb3d67)
**Enhancements to the [command\-line shell](../cli.html):**
- Added the ".changes ON\|OFF" and ".vfsinfo" [dot\-commands](../cli.html#dotcmd).
- Translate between MBCS and UTF8 when
 running in [cmd.exe](https://en.wikipedia.org/wiki/Cmd.exe) on Windows.
**Enhancements to makefiles:**
- Added the \-\-enable\-editline and \-\-enable\-static\-shell options
 to the various autoconf\-generated configure scripts.
- Omit all use of "awk" in the makefiles, to make building easier for MSVC users.
**Important fixes:**
- Fix inconsistent integer to floating\-point comparison operations that
 could result in a corrupt index if the index is created on a table
 column that contains both large integers and floating point values
 of similar magnitude. Ticket
 [38a97a87a6](https://www.sqlite.org/src/tktview?name=38a97a87a6).
- Fix an infinite\-loop in the query planner that could occur on
 malformed [common table expressions](../lang_with.html).
- Various bug fixes in the [sqldiff](../sqldiff.html) tool.




**Prior changes from version 3\.10\.1 (2016\-01\-14\):**


**New feature:**
- Add the [SQLITE\_FCNTL\_JOURNAL\_POINTER](../c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntljournalpointer) file control.
**Bug fix:**
- Fix a 16\-month\-old bug in the query planner that could generate incorrect results
 when a scalar subquery attempts to use the [block sorting](../queryplanner.html#partialsort) optimization. Ticket
 [cb3aa0641d9a4](https://www.sqlite.org/src/info/cb3aa0641d9a4).




**Changes in this specific patch release, version 3\.10\.2 (2016\-01\-20\):**


**Critical bug fix:**
- Version 3\.10\.0 introduced a case\-folding bug in the [LIKE](../lang_expr.html#like) operator which is fixed
 by this patch release. Ticket
 [80369eddd5c94](https://www.sqlite.org/src/info/80369eddd5c94).
**Other miscellaneous bug fixes:**
- Fix a use\-after\-free that can occur when SQLite is compiled with \-DSQLITE\_HAS\_CODEC.
- Fix the build so that it works with \-DSQLITE\_OMIT\_WAL.
- Fix the configure script for the amalgamation so that the \-\-readline option works again
 on Raspberry PIs.
**Hashes:**
- SQLITE\_SOURCE\_ID: "2016\-01\-20 15:27:19 17efb4209f97fb4971656086b138599a91a75ff9"
- SHA1 for sqlite3\.c: f7088b19d97cd7a1c805ee95c696abd54f01de4f





A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).






