### 2\.6\.6\. The sqlite\_stat3 table


The sqlite\_stat3 is only used if SQLite is compiled
with [SQLITE\_ENABLE\_STAT3](compile.html#enable_stat3) or [SQLITE\_ENABLE\_STAT4](compile.html#enable_stat4)
and if the SQLite version number is 3\.7\.9 (2011\-11\-01\) or greater.
The sqlite\_stat3 table is neither read nor written by any
version of SQLite before 3\.7\.9\.
If the [SQLITE\_ENABLE\_STAT4](compile.html#enable_stat4) compile\-time option is used and the
SQLite version number is 3\.8\.1 (2013\-10\-17\) or greater,
then sqlite\_stat3 might be read but not written.
The sqlite\_stat3 table contains additional information
about the distribution of keys within an index, information that the
query planner can use to devise better and faster query algorithms.
The schema of the sqlite\_stat3 table is as follows:




> ```
> 
> CREATE TABLE sqlite_stat3(tbl,idx,nEq,nLt,nDLt,sample);
> 
> ```


There are usually multiple entries in the sqlite\_stat3 table for each index.
The sqlite\_stat3\.sample column holds the value of the left\-most field of an
index identified by sqlite\_stat3\.idx and sqlite\_stat3\.tbl.
The sqlite\_stat3\.nEq column holds the approximate
number of entries in the index whose left\-most column exactly matches
the sample.
The sqlite\_stat3\.nLt holds the approximate number of entries in the
index whose left\-most column is less than the sample.
The sqlite\_stat3\.nDLt column holds the approximate
number of distinct left\-most entries in the index that are less than
the sample.



There can be an arbitrary number of sqlite\_stat3 entries per index.
The [ANALYZE](lang_analyze.html) command will typically generate sqlite\_stat3 tables
that contain between 10 and 40 samples that are distributed across
the key space and with large nEq values.



In a well\-formed sqlite\_stat3 table, the samples for any single
index must appear in the same order that they occur in the index. 
In other words, if the entry with left\-most column S1 is earlier in
the index b\-tree than the
entry with left\-most column S2, then in the sqlite\_stat3 table, 
sample S1 must have a smaller rowid than sample S2\.




