### 2\.5\.1\. Suppression of redundant columns in WITHOUT ROWID secondary indexes


 In an index on a WITHOUT ROWID table, if a column of the PRIMARY KEY
is also a column in the index and has a matching collating sequence, then the
indexed column is not repeated in the table\-key suffix on the
end of the index record. As an example, consider the following SQL:




> ```
> 
> CREATE TABLE ex25(a,b,c,d,e,PRIMARY KEY(d,c,a)) WITHOUT rowid;
> CREATE INDEX ex25ce ON ex25(c,e);
> CREATE INDEX ex25acde ON ex25(a,c,d,e);
> CREATE INDEX ex25ae ON ex25(a COLLATE nocase,e);
> 
> ```


Each row in the ex25ce index is a record
with these columns: c, e, d, a. The first two columns are
the columns being indexed, c and e. The remaining columns are the primary
key of the corresponding table row. Normally, the primary key would be
columns d, c, and a, but because column c already appears earlier in the
index, it is omitted from the key suffix.


In the extreme case where the columns being indexed cover all columns
of the PRIMARY KEY, the index will consist of only the columns being
indexed. The ex25acde example above demonstrates this. Each entry in
the ex25acde index consists of only the columns a, c, d, and e, in that
order.


Each row in ex25ae contains five columns: a, e, d, c, a. The "a"
column is repeated since the first occurrence of "a" has a collating
function of "nocase" and the second has a collating sequence of "binary".
If the "a" column is not repeated and if the table contains two or more
entries with the same "e" value and where "a" differs only in case, then
all of those table entries would correspond to a single entry in the
index, which would break the one\-to\-one correspondence between the table
and the index.



 The suppression of redundant columns in the key suffix of an index
entry only occurs in WITHOUT ROWID tables. In an ordinary rowid table,
the index entry always ends with the rowid even if the [INTEGER PRIMARY KEY](lang_createtable.html#rowid)
column is one of the columns being indexed.



