




Generate A Patchset From A Session Object




[![SQLite](../images/sqlite370_banner.gif)](../index.html)


Small. Fast. Reliable.  
Choose any three.


* [Home](../index.html)* [Menu](javascript:void(0))* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [License](../copyright.html)* [Support](../support.html)* [Purchase](../prosupport.html)* [Search](javascript:void(0))




* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [Support](../support.html)* [Purchase](../prosupport.html)






Search Documentation
Search Changelog







[## Session Module C Interface](../session/intro.html)## Generate A Patchset From A Session Object


> ```
> int sqlite3session_patchset(
>   sqlite3_session *pSession,      /* Session object */
>   int *pnPatchset,                /* OUT: Size of buffer at *ppPatchset */
>   void **ppPatchset               /* OUT: Buffer containing patchset */
> );
> 
> ```


The differences between a patchset and a changeset are that:


* DELETE records consist of the primary key fields only. The 
 original values of other fields are omitted.
 * The original values of any modified fields are omitted from 
 UPDATE records.



A patchset blob may be used with up to date versions of all 
sqlite3changeset\_xxx API functions except for sqlite3changeset\_invert(), 
which returns SQLITE\_CORRUPT if it is passed a patchset. Similarly,
attempting to use a patchset blob with old versions of the
sqlite3changeset\_xxx APIs also provokes an SQLITE\_CORRUPT error. 


Because the non\-primary key "old.\*" fields are omitted, no 
SQLITE\_CHANGESET\_DATA conflicts can be detected or reported if a patchset
is passed to the sqlite3changeset\_apply() API. Other conflict types work
in the same way as for changesets.


Changes within a patchset are ordered in the same way as for changesets
generated by the sqlite3session\_changeset() function (i.e. all changes for
a single table are grouped together, tables appear in the order in which
they were attached to the session object).


See also lists of
 [Objects](../session/objlist.html),
 [Constants](../session/constlist.html), and
 [Functions](../session/funclist.html).


