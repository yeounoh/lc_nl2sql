




SQLite Release 3\.22\.0 On 2018\-01\-22




[![SQLite](../images/sqlite370_banner.gif)](../index.html)


Small. Fast. Reliable.  
Choose any three.


* [Home](../index.html)* [Menu](javascript:void(0))* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [License](../copyright.html)* [Support](../support.html)* [Purchase](../prosupport.html)* [Search](javascript:void(0))




* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [Support](../support.html)* [Purchase](../prosupport.html)






Search Documentation
Search Changelog







## SQLite Release 3\.22\.0 On 2018\-01\-22

1. The output of [sqlite3\_trace\_v2()](../c3ref/trace_v2.html) now shows each individual SQL statement
 run within a trigger.
- Add the ability to read from [WAL mode](../wal.html) databases even if the application
 lacks write permission on the database and its containing directory, as long as
 the \-shm and \-wal files exist in that directory.
- Added the [rtreecheck()](../rtree.html#rtreecheck) scalar SQL function to the [R\-Tree extension](../rtree.html).
- Added the [sqlite3\_vtab\_nochange()](../c3ref/vtab_nochange.html) and [sqlite3\_value\_nochange()](../c3ref/value_blob.html) interfaces
 to help virtual table implementations optimize UPDATE operations.
- Added the [sqlite3\_vtab\_collation()](../c3ref/vtab_collation.html) interface.
- Added support for the ["^" initial token syntax](../fts5.html#carrotq) in FTS5\.
- New extensions:
	1. The [Zipfile virtual table](../zipfile.html) can read and write a
	 [ZIP Archive](https://en.wikipedia.org/wiki/Zip_(file_format)).
	 - Added the fsdir(PATH) [table\-valued function](../vtab.html#tabfunc2) to the
	 [fileio.c](https://sqlite.org/src/file/ext/misc/fileio.c) extension,
	 for listing the files in a directory.
	 - The [sqlite\_btreeinfo](https://sqlite.org/src/file/ext/misc/btreeinfo.c)
	 eponymous virtual table for introspecting and estimating the sizes of
	 the btrees in a database.
	 - The [Append VFS](https://sqlite.org/src/file/ext/misc/appendvfs.c) is a
	 [VFS shim](../vfs.html#shim) that allows an SQLite database to be appended to some other
	 file. This allows (for example) a database to be appended to an
	 executable that then opens and reads the database.- Query planner enhancements:
	1. The optimization that uses an index to quickly compute an
	 aggregate min() or max() is extended to work with
	 [indexes on expressions](../expridx.html).
	 - The decision of whether to implement a FROM\-clause subquery
	 as a co\-routine or using [query flattening](../optoverview.html#flattening)
	 now considers whether
	 the result set of the outer query is "complex" (if it
	 contains functions or expression subqueries). A complex result
	 set biases the decision toward the use of co\-routines.
	 - The planner avoids query plans that use indexes with unknown
	 collating functions.
	 - The planner omits unused LEFT JOINs even if they are not the
	 right\-most joins of a query.- Other performance optimizations:
	1. A smaller and faster implementation of text to floating\-point
	 conversion subroutine: sqlite3AtoF().
	 - The [Lemon parser generator](../lemon.html) creates a faster parser.
	 - Use the strcspn() C\-library routine to speed up the LIKE and
	 GLOB operators.- Improvements to the [command\-line shell](../cli.html):
	1. The ".schema" command shows the structure of virtual tables.
	 - Added support for reading and writing
	 [SQLite Archive](../sqlar.html) files using
	 the [.archive command](../cli.html#sqlar).
	 - Added the experimental [.expert command](../cli.html#expert)- Added the ".eqp trigger" variant of the ".eqp" command
	 - Enhance the ".lint fkey\-indexes" command so that it works with
	 [WITHOUT ROWID](../withoutrowid.html) tables.
	 - If the filename argument to the shell is a ZIP archive rather than
	 an SQLite database, then the shell automatically opens that ZIP
	 archive using the [Zipfile virtual table](../zipfile.html).
	 - Added the [edit() SQL function](../cli.html#editfunc).
	 - Added the [.excel command](../cli.html#exexcel*) to simplify exporting
	 database content to a spreadsheet.
	 - Databases are opened using
	 [Append VFS](https://sqlite.org/src/file/ext/misc/appendvfs.c) when
	 the \-\-append flag is used on the command line or with the
	 .open command.- Enhance the [SQLITE\_ENABLE\_UPDATE\_DELETE\_LIMIT](../compile.html#enable_update_delete_limit) compile\-time option so
 that it works for [WITHOUT ROWID](../withoutrowid.html) tables.
- Provide the [sqlite\_offset(X)](../lang_corefunc.html#sqlite_offset) SQL function that returns
 the byte offset into the database file to the beginning of the record
 holding value X, when compiling with [\-DSQLITE\_ENABLE\_OFFSET\_SQL\_FUNC](../compile.html#enable_offset_sql_func).
- Bug fixes:
	1. Infinite loop on an UPDATE that uses an OR operator in the WHERE clause.
	 Problem introduced with 3\.17\.0 and reported on the mailing list about
	 one year later. Ticket
	 [47b2581aa9bfecec](https://www.sqlite.org/src/info/47b2581aa9bfecec).
	 - Incorrect query results when the skip\-ahead\-distinct optimization is
	 used.
	 Ticket [ef9318757b152e3a](https://sqlite.org/src/info/ef9318757b152e3a).
	 - Incorrect query results on a join with a ORDER BY DESC. Ticket
	 [123c9ba32130a6c9](https://sqlite.org/src/info/123c9ba32130a6c9).
	 - Inconsistent result set column names between CREATE TABLE AS
	 and a simple SELECT. Ticket
	 [3b4450072511e621](https://sqlite.org/src/info/3b4450072511e621)- Assertion fault when doing REPLACE on an index on an expression.
	 Ticket [dc3f932f5a147771](https://sqlite.org/src/info/dc3f932f5a147771)- Assertion fault when doing an IN operator on a constant index.
	 Ticket [aa98619ad08ddcab](https://sqlite.org/src/info/aa98619ad08ddcab)**Hashes:**
- SQLITE\_SOURCE\_ID: "2018\-01\-22 18:45:57 0c55d179733b46d8d0ba4d88e01a25e10677046ee3da1d5b1581e86726f2171d"
- SHA3\-256 for sqlite3\.c: 206df47ebc49cd1710ac0dd716ce5de5854826536993f4feab7a49d136b85069



A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).


