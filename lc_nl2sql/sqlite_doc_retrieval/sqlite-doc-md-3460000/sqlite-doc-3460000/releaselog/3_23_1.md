




SQLite Release 3\.23\.1 On 2018\-04\-10




[![SQLite](../images/sqlite370_banner.gif)](../index.html)


Small. Fast. Reliable.  
Choose any three.


* [Home](../index.html)* [Menu](javascript:void(0))* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [License](../copyright.html)* [Support](../support.html)* [Purchase](../prosupport.html)* [Search](javascript:void(0))




* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [Support](../support.html)* [Purchase](../prosupport.html)






Search Documentation
Search Changelog







## SQLite Release 3\.23\.1 On 2018\-04\-10

**Prior changes from version 3\.23\.0 (2018\-04\-02\):**


1. Add the [sqlite3\_serialize()](../c3ref/serialize.html) and [sqlite3\_deserialize()](../c3ref/deserialize.html) interfaces when
 the [SQLITE\_ENABLE\_DESERIALIZE](../compile.html#enable_deserialize) compile\-time option is used.
- Recognize TRUE and FALSE as constants. (For compatibility, if there
 exist columns named "true" or "false", then the identifiers refer to the
 columns rather than Boolean constants.)
- Support operators IS TRUE, IS FALSE, IS NOT TRUE, and IS NOT FALSE.
- Added the [SQLITE\_DBSTATUS\_CACHE\_SPILL](../c3ref/c_dbstatus_options.html#sqlitedbstatuscachespill) option to [sqlite3\_db\_status()](../c3ref/db_status.html) for
 reporting the number of cache spills that have occurred.
- The "alternate\-form\-2" flag ("!") on the [built\-in printf](../printf.html) implementation
 now causes string substitutions to measure the width and precision in
 characters instead of bytes.
- If the [xColumn](../vtab.html#xcolumn) method in a [virtual table](../vtab.html) implementation returns
 an error message using [sqlite3\_result\_error()](../c3ref/result_blob.html) then give that error
 message preference over internally\-generated messages.
- Added the \-A command\-line option to the [CLI](../cli.html) to make it easier to manage
 [SQLite Archive files](../sqlar.html).
- Add support for INSERT OR REPLACE, INSERT OR IGNORE, and UPDATE OR REPLACE
 in the [Zipfile virtual table](../zipfile.html).
- Enhance the [sqlite3changeset\_apply()](../session/sqlite3changeset_apply.html) interface so that it is hardened
 against attacks from deliberately corrupted [changeset](../sessionintro.html#changeset) objects.
- Added the [sqlite3\_normalize()](https://sqlite.org/src/file/ext/misc/normalize.c)
 extension function.
- Query optimizer enhancements:
	1. Improve the [omit\-left\-join optimization](../optoverview.html#omitnoopjoin) so that it works in cases where
	 the right\-hand table is UNIQUE but not necessarily NOT NULL.
	 - Improve the [push\-down optimization](../optoverview.html#pushdown) so that it works for many LEFT JOINs.
	 - Add the [LEFT JOIN strength reduction optimization](../optoverview.html#leftjoinreduction) that converts a LEFT
	 JOIN into an ordinary JOIN if there exist terms in the WHERE clause
	 that would prevent the extra all\-NULL row of the LEFT JOIN from
	 appearing in the output set.
	 - Avoid unnecessary writes to the sqlite\_sequence table when an
	 [AUTOINCREMENT](../autoinc.html) table is updated with an rowid that is less than the
	 maximum.- Bug fixes:
	1. Fix the parser to accept valid [row value](../rowvalue.html) syntax.
	 Ticket [7310e2fb3d046a5](https://www.sqlite.org/src/info/7310e2fb3d046a5)- Fix the query planner so that it takes into account dependencies in
	 the arguments to table\-valued functions in subexpressions in
	 the WHERE clause.
	 Ticket [80177f0c226ff54](https://www.sqlite.org/src/info/80177f0c226ff54)- Fix incorrect result with complex OR\-connected WHERE and STAT4\.
	 Ticket [ec32177c99ccac2](https://www.sqlite.org/src/info/ec32177c99ccac2)- Fix potential corruption in [indexes on expressions](../expridx.html) due to automatic
	 datatype conversions.
	 Ticket [343634942dd54ab](https://www.sqlite.org/src/info/343634942dd54ab)- Assertion fault in FTS4\.
	 Ticket [d6ec09eccf68cfc](https://www.sqlite.org/src/info/d6ec09eccf68cfc)- Incorrect result on the less\-than operator in [row values](../rowvalue.html).
	 Ticket [f484b65f3d62305](https://www.sqlite.org/src/info/f484b65f3d62305)- Always interpret non\-zero floating\-point values as TRUE, even if
	 the integer part is zero.
	 Ticket [36fae083b450e3a](https://www.sqlite.org/src/info/36fae083b450e3a)- Fix an issue in the fsdir(PATH) [table\-valued function](../vtab.html#tabfunc2) to the
	 [fileio.c](https://sqlite.org/src/file/ext/misc/fileio.c) extension,
	 that caused a segfault if the fsdir() table was used as the inner table
	 of a join. Problem reported on the mailing list and fixed by check\-in
	 [7ce4e71c1b7251be](https://www.sqlite.org/src/info/7ce4e71c1b7251be)- Issue an error rather instead of an assertion\-fault or null\-pointer
	 dereference when the sqlite\_master table is corrupted so that the
	 sqlite\_sequence table root page is really a btree\-index page. Check\-in
	 [525deb7a67fbd647](https://www.sqlite.org/src/info/525deb7a67fbd647)- Fix the [ANALYZE](../lang_analyze.html) command so that it computes statistics on tables
	 whose names begin with "sqlite". Check\-in
	 [0249d9aecf69948d](https://sqlite.org/src/info/0249d9aecf69948d)- Additional fixes for issues detected by
 [OSSFuzz](https://github.com/google/oss-fuzz):
	1. Fix a possible infinite loop on VACUUM for corrupt database files.
	 Check\-in [27754b74ddf64](https://www.sqlite.org/src/info/27754b74ddf64)- Disallow [parameters](../lang_expr.html#varparam) in the [WITH clause](../lang_with.html) of triggers and views.
	 Check\-in [b918d4b4e546d](https://www.sqlite.org/src/info/b918d4b4e546d)- Fix a potential memory leak in [row value](../rowvalue.html) processing.
	 Check\-in [2df6bbf1b8ca8](https://www.sqlite.org/src/info/2df6bbf1b8ca8)- Improve the performance of the [replace() SQL function](../lang_corefunc.html#replace) for cases where
	 there are many substitutions on megabyte\-sized strings, in an attempt
	 to avoid OSSFuzz timeouts during testing.
	 Check\-in [fab2c2b07b5d3](https://www.sqlite.org/src/info/fab2c2b07b5d3)- Provide an appropriate error message when the sqlite\_master table
	 contains a CREATE TABLE AS statement. Formerly this caused either an
	 assertion fault or null pointer dereference. Problem found by OSSFuzz
	 on the GDAL project. Check\-in
	 [d75e67654aa96](https://www.sqlite.org/src/info/d75e67654aa96)- Incorrect assert() statement removed. Check\-in
	 [823779d31eb09cda](https://www.sqlite.org/src/info/823779d31eb09cda).
	 - Fix a problem with using the [LIKE optimization](../optoverview.html#like_opt) on an
	 [INTEGER PRIMARY KEY](../lang_createtable.html#rowid). Check\-in
	 [b850dd159918af56](https://www.sqlite.org/src/info/b850dd159918af56).


**Changes in this specific patch release, version 3\.23\.1 (2018\-04\-10\):**


1. Fix two problems in the new [LEFT JOIN strength reduction optimization](../optoverview.html#leftjoinreduction).
 Tickets [1e39b966ae9ee739](https://sqlite.org/src/info/1e39b966ae9ee739)
 and [fac496b61722daf2](https://sqlite.org/src/info/fac496b61722daf2).
- Fix misbehavior of the FTS5 xBestIndex method. Ticket
 [2b8aed9f7c9e61e8](https://sqlite.org/src/info/2b8aed9f7c9e61e8).
- Fix a harmless reference to an uninitialized virtual machine register.
 Ticket [093420fc0eb7cba7](https://sqlite.org/src/info/093420fc0eb7cba7).
- Fix the [CLI](../cli.html) so that it builds with \-DSQLITE\_UNTESTABLE
- Fix the [eval.c](https://sqlite.org/src/file/ext/misc/eval.c) extension
 so that it works with [PRAGMA empty\_result\_callbacks\=ON](../pragma.html#pragma_empty_result_callbacks).
- Fix the [generate\_series](../series.html) virtual table so that it correctly returns
 no rows if any of its constraints are NULL.
- Performance enhancements in the parser.
**Hashes:**
- SQLITE\_SOURCE\_ID: "2018\-04\-10 17:39:29 4bb2294022060e61de7da5c227a69ccd846ba330e31626ebcd59a94efd148b3b"
- SHA3\-256 for sqlite3\.c: 65750d1e506f416a0b0b9dd22d171379679c733e3460549754dc68c92705b5dc



A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).




