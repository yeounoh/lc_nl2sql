




SQLite Release 3\.41\.1 On 2023\-03\-10




[![SQLite](../images/sqlite370_banner.gif)](../index.html)


Small. Fast. Reliable.  
Choose any three.


* [Home](../index.html)* [Menu](javascript:void(0))* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [License](../copyright.html)* [Support](../support.html)* [Purchase](../prosupport.html)* [Search](javascript:void(0))




* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [Support](../support.html)* [Purchase](../prosupport.html)






Search Documentation
Search Changelog







## SQLite Release 3\.41\.1 On 2023\-03\-10

**Prior changes from version 3\.41\.0 (2023\-02\-21\):**


1. Query planner improvements:
	1. Make use of [indexed expressions](../expridx.html) within an aggregate query that
	 includes a GROUP BY clause.
	 - The query planner has improved awareness of when an index is
	 a [covering index](../queryplanner.html#covidx) and adjusts predicted runtimes accordingly.
	 - The query planner is more aggressive about using [co\-routines](../optoverview.html#coroutines) rather
	 than materializing subqueries and views.
	 - Queries against the built\-in table\-valued functions [json\_tree()](../json1.html#jtree) and
	 [json\_each()](../json1.html#jeach) will now usually treat "ORDER BY rowid" as a no\-op.
	 - Enhance the ability of the query planner to use [indexed expressions](../expridx.html)
	 even if the expression has been modified by the
	 [constant\-propagation optimization](../optoverview.html#constprop).
	 (See [forum thread 0a539c7](https://sqlite.org/forum/forumpost/0a539c76db3b9e29).)- Add the built\-in [unhex()](../lang_corefunc.html#unhex) SQL function.
- Add the base64 and base85 application\-defined functions as an extension and
 include that extension in the [CLI](../cli.html).
- Add the [sqlite3\_stmt\_scanstatus\_v2()](../c3ref/stmt_scanstatus.html) interface. (This interface is only
 available if SQLite is compiled using [SQLITE\_ENABLE\_STMT\_SCANSTATUS](../compile.html#enable_stmt_scanstatus).)
- In\-memory databases created using [sqlite3\_deserialize()](../c3ref/deserialize.html) now report their
 filename as an empty string, not as 'x'.
- Changes to the [CLI](../cli.html):
	1. Add the new base64() and base85() SQL functions
	 - Enhanced [EXPLAIN QUERY PLAN](../eqp.html) output using the new [sqlite3\_stmt\_scanstatus\_v2()](../c3ref/stmt_scanstatus.html)
	 interface when compiled using [SQLITE\_ENABLE\_STMT\_SCANSTATUS](../compile.html#enable_stmt_scanstatus).
	 - The ".scanstats est" command provides query planner estimates in profiles.
	 - The continuation prompt indicates if the input is currently inside of a
	 string literal, identifier literal, comment, trigger definition, etc.
	 - Enhance the \-\-safe command\-line option to disallow dangerous SQL functions.
	 - The [double\-quoted string misfeature](../quirks.html#dblquote) is now disabled by default for CLI
	 builds. Legacy use cases can reenable the misfeature at run\-time using
	 the ".dbconfig dqs\_dml on" and ".dbconfig dqs\_ddl on"
	 commands.- Enhance the [PRAGMA integrity\_check](../pragma.html#pragma_integrity_check) command so that it detects when text strings in
 a table are equivalent to but not byte\-for\-byte identical to the same strings in the index.
- Enhance the [carray table\-valued function](../carray.html) so that it is able to bind an array of
 BLOB objects.
- Added the [sqlite3\_is\_interrupted()](../c3ref/interrupt.html) interface.
- Long\-running calls to [sqlite3\_prepare()](../c3ref/prepare.html) and similar now invoke the
 [progress handler callback](../c3ref/progress_handler.html) and react to [sqlite3\_interrupt()](../c3ref/interrupt.html).
- The [sqlite3\_vtab\_in\_first()](../c3ref/vtab_in_first.html) and [sqlite3\_vtab\_in\_next()](../c3ref/vtab_in_first.html) functions are enhanced so that
 they reliably detect if they are invoked on a parameter that was not selected for
 multi\-value IN processing using [sqlite3\_vtab\_in()](../c3ref/vtab_in.html).
 They return SQLITE\_ERROR instead of SQLITE\_MISUSE in this case.
- The parser now ignores excess parentheses around a subquery on the right\-hand side
 of an IN operator, so that SQLite now works the same as PostgreSQL in this regard.
 Formerly, SQLite treated the subquery as an expression with an implied "LIMIT 1".
- Added the [SQLITE\_FCNTL\_RESET\_CACHE](../c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlresetcache) option to the [sqlite3\_file\_control()](../c3ref/file_control.html) API.
- Makefile improvements:
	1. The new makefile target "sqlite3r.c" builds an [amalgamation](../amalgamation.html) that includes
	 the [recovery extension](../recovery.html).
	 - New makefile targets "devtest" and "releasetest" for running a
	 quick developmental test prior to doing a check\-in and for doing a full
	 release test, respectively.- Miscellaneous performance enhancements.


**Changes in this specific patch release, version 3\.41\.1 (2023\-03\-10\):**


1. Provide compile\-time options \-DHAVE\_LOG2\=0 and \-DHAVE\_LOG10\=0 to enable SQLite to be
 compiled on systems that omit the standard library functions log2() and log10(), repectively.
- Ensure that the datatype for column t1\.x in 
 "CREATE TABLE t1 AS SELECT CAST(7 AS INT) AS x;" continues to be INT and is not NUM,
 for historical compatibility.
- Enhance [PRAGMA integrity\_check](../pragma.html#pragma_integrity_check) to detect when extra bytes appear at the end of an
 index record.
- Fix various obscure bugs reported by the user community. See the
 [timeline of changes](https://sqlite.org/src/timeline?from=version-3.41.0&to=version-3.41.1)
 for details.
 
**Hashes:**
- SQLITE\_SOURCE\_ID: 2023\-03\-10 12:13:52 20399f3eda5ec249d147ba9e48da6e87f969d7966a9a896764ca437ff7e737ff
- SHA3\-256 for sqlite3\.c: d0d9db8425570f4a57def04fb8f4ac84f5c3e4e71d3d4d10472e3639c5fdf09f



A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).




