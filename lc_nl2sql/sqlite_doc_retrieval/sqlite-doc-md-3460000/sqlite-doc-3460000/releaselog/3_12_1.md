




SQLite Release 3\.12\.1 On 2016\-04\-08




[![SQLite](../images/sqlite370_banner.gif)](../index.html)


Small. Fast. Reliable.  
Choose any three.


* [Home](../index.html)* [Menu](javascript:void(0))* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [License](../copyright.html)* [Support](../support.html)* [Purchase](../prosupport.html)* [Search](javascript:void(0))




* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [Support](../support.html)* [Purchase](../prosupport.html)






Search Documentation
Search Changelog







## SQLite Release 3\.12\.1 On 2016\-04\-08

**Prior changes from version 3\.12\.0 (2016\-03\-29\):**


**Potentially Disruptive Change:**
- The [SQLITE\_DEFAULT\_PAGE\_SIZE](../compile.html#default_page_size) is increased from 1024 to 4096\.
 The [SQLITE\_DEFAULT\_CACHE\_SIZE](../compile.html#default_cache_size) is changed from 2000 to \-2000 so
 the same amount of cache memory is used by default.
 See the application note on the
 [version 3\.12\.0 page size change](../pgszchng2016.html) for further information.
**Performance enhancements:**
- Enhancements to the [Lemon parser generator](../lemon.html)
 so that it creates a smaller and faster SQL parser.
- Only create [master journal](../tempfiles.html#superjrnl) files if two or more attached databases are all
 modified, do not have [PRAGMA synchronous](../pragma.html#pragma_synchronous) set to OFF, and
 do not have the [journal\_mode](../pragma.html#pragma_journal_mode) set to OFF, MEMORY, or WAL.
- Only create [statement journal](../tempfiles.html#stmtjrnl) files when their size exceeds a threshold.
 Otherwise the journal is held in memory and no I/O occurs. The threshold
 can be configured at compile\-time using [SQLITE\_STMTJRNL\_SPILL](../compile.html#stmtjrnl_spill) or at
 start\-time using [sqlite3\_config](../c3ref/config.html)([SQLITE\_CONFIG\_STMTJRNL\_SPILL](../c3ref/c_config_covering_index_scan.html#sqliteconfigstmtjrnlspill)).
- The query planner is able to optimize IN operators on [virtual tables](../vtab.html)
 even if the [xBestIndex](../vtab.html#xbestindex) method does not set the
 sqlite3\_index\_constraint\_usage.omit flag of the
 virtual table column to the left of the IN operator.
- The query planner now does a better job of optimizing [virtual table](../vtab.html)
 accesses in a 3\-way or higher join where constraints on the virtual
 table are split across two or more other tables of the join.
- More efficient handling of [application\-defined SQL functions](../appfunc.html), especially
 in cases where the application defines hundreds or thousands of
 custom functions.
- The query planner considers the LIMIT clause when estimating the cost
 of ORDER BY.
- The configure script (on unix) automatically detects
 pread() and pwrite() and sets compile\-time options to use those OS
 interfaces if they are available.
- Reduce the amount of memory needed to hold the schema.
- Other miscellaneous micro\-optimizations for improved performance and reduced
 memory usage.
**New Features:**
- Added the [SQLITE\_DBCONFIG\_ENABLE\_FTS3\_TOKENIZER](../c3ref/c_dbconfig_defensive.html#sqlitedbconfigenablefts3tokenizer) option to [sqlite3\_db\_config()](../c3ref/db_config.html)
 which allows the two\-argument version of the [fts3\_tokenizer()](../fts3.html#f3tknzr) SQL function to
 be enabled or disabled at run\-time.
- Added the [sqlite3rbu\_bp\_progress()](https://www.sqlite.org/src/artifact/d7cc99350?ln=403-443)
 interface to the [RBU](../rbu.html) extension.
- The [PRAGMA defer\_foreign\_keys\=ON](../pragma.html#pragma_defer_foreign_keys) statement now also disables
 [RESTRICT actions](../foreignkeys.html#fk_actions) on foreign key.
- Added the [sqlite3\_system\_errno()](../c3ref/system_errno.html) interface.
- Added the [SQLITE\_DEFAULT\_SYNCHRONOUS](../compile.html#default_synchronous) and [SQLITE\_DEFAULT\_WAL\_SYNCHRONOUS](../compile.html#default_wal_synchronous)
 compile\-time options. The [SQLITE\_DEFAULT\_SYNCHRONOUS](../compile.html#default_synchronous) compile\-time option
 replaces the [SQLITE\_EXTRA\_DURABLE](../compile.html#extra_durable) option, which is no longer supported.
- Enhanced the ".stats" command in the [command\-line shell](../cli.html) to show more
 information about I/O performance obtained from /proc, when available.
**Bug fixes:**
- Make sure the [sqlite3\_set\_auxdata()](../c3ref/get_auxdata.html) values from multiple triggers
 within a single statement do not interfere with one another.
 Ticket [dc9b1c91](https://www.sqlite.org/src/info/dc9b1c91).
- Fix the code generator for expressions of the form "x IN (SELECT...)" where
 the SELECT statement on the RHS is a correlated subquery.
 Ticket [5e3c886796e5512e](https://www.sqlite.org/src/info/5e3c886796e5512e).
- Fix a harmless TSAN warning associated with the [sqlite3\_db\_readonly()](../c3ref/db_readonly.html) interface.




**Changes in this specific patch release, version 3\.12\.1 (2016\-04\-08\):**


1. Fix a boundary condition error introduced by version 3\.12\.0
 that can result in a crash during heavy [SAVEPOINT](../lang_savepoint.html) usage.
 Ticket [7f7f8026eda38](https://www.sqlite.org/src/info/7f7f8026eda38).
- Fix [views](../lang_createview.html) so that they inherit column datatypes from the
 table that they are defined against, when possible.
- Fix the query planner so that IS and IS NULL operators are able
 to drive an index on a LEFT OUTER JOIN.
**Hashes:**
- SQLITE\_SOURCE\_ID: "2016\-04\-08 15:09:49 fe7d3b75fe1bde41511b323925af8ae1b910bc4d"
- SHA1 for sqlite3\.c: ebb18593350779850e3e1a930eb84a70fca8c1d1



A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).




