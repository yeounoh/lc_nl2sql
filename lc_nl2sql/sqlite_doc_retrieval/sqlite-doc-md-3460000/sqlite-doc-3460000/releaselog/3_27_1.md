




SQLite Release 3\.27\.1 On 2019\-02\-08




[![SQLite](../images/sqlite370_banner.gif)](../index.html)


Small. Fast. Reliable.  
Choose any three.


* [Home](../index.html)* [Menu](javascript:void(0))* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [License](../copyright.html)* [Support](../support.html)* [Purchase](../prosupport.html)* [Search](javascript:void(0))




* [About](../about.html)* [Documentation](../docs.html)* [Download](../download.html)* [Support](../support.html)* [Purchase](../prosupport.html)






Search Documentation
Search Changelog







## SQLite Release 3\.27\.1 On 2019\-02\-08

**Prior changes from version 3\.27\.0 (2019\-02\-07\):**


1. Added the [VACUUM INTO](../lang_vacuum.html#vacuuminto) command
- Issue an SQLITE\_WARNING message on the [error log](../errlog.html) if a
[double\-quoted string literal](../quirks.html#dblquote) is used.
- The [sqlite3\_normalized\_sql()](../c3ref/expanded_sql.html) interface works on any prepared statement
created using [sqlite3\_prepare\_v2()](../c3ref/prepare.html) or [sqlite3\_prepare\_v3()](../c3ref/prepare.html). It is no
longer necessary to use [sqlite3\_prepare\_v3()](../c3ref/prepare.html) with [SQLITE\_PREPARE\_NORMALIZE](../c3ref/c_prepare_normalize.html#sqlitepreparenormalize)
in order to use [sqlite3\_normalized\_sql()](../c3ref/expanded_sql.html).
- Added the remove\_diacritics\=2 option to [FTS3](../fts3.html) and [FTS5](../fts5.html).
- Added the [SQLITE\_PREPARE\_NO\_VTAB](../c3ref/c_prepare_normalize.html#sqlitepreparenovtab) option to [sqlite3\_prepare\_v3()](../c3ref/prepare.html).
Use that option to prevent circular references to [shadow tables](../vtab.html#xshadowname) from
causing resource leaks.
- Enhancements to the [sqlite3\_deserialize()](../c3ref/deserialize.html) interface:
	1. Add the [SQLITE\_FCNTL\_SIZE\_LIMIT](../c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlsizelimit) [file\-control](../c3ref/file_control.html) for
	 setting an upper bound on the size of the in\-memory database created
	 by sqlite3\_deserialize. The default upper bound is 1GiB, or whatever
	 alternative value is specified by
	 [sqlite3\_config](../c3ref/config.html)([SQLITE\_CONFIG\_MEMDB\_MAXSIZE](../c3ref/c_config_covering_index_scan.html#sqliteconfigmemdbmaxsize))
	 and/or [SQLITE\_MEMDB\_DEFAULT\_MAXSIZE](../compile.html#memdb_default_maxsize).
	 - Honor the [SQLITE\_DESERIALIZE\_READONLY](../c3ref/c_deserialize_freeonclose.html) flag, which was previously described
	 in the documentation, but was previously a no\-op.
	 - Enhance the "deserialize" command of the [TCL Interface](../tclsqlite.html) to give it
	 new "\-\-maxsize N" and "\-\-readonly BOOLEAN" options.- Enhancements to the [CLI](../cli.html), mostly to support testing and debugging
of the SQLite library itself:
	1. Add support for ".open \-\-hexdb". The
	 "[dbtotxt](https://sqlite.org/src/doc/trunk/tool/dbtotxt.md)" utility
	 program used to generate the text for the "hexdb" is added to the
	 source tree.
	 - Add support for the "\-\-maxsize N" option on ".open \-\-deserialize".
	 - Add the "\-\-memtrace" command\-line option, to show all memory allocations
	 and deallocations.
	 - Add the ".eqp trace" option on builds with SQLITE\_DEBUG, to enable
	 bytecode program listing with indentation and
	 [PRAGMA vdbe\_trace](../pragma.html#pragma_vdbe_trace) all in one step.
	 - Add the ".progress" command for accessing
	 the [sqlite3\_progress\_handler()](../c3ref/progress_handler.html) interface.
	 - Add the "\-\-async" option to the ".backup" command.
	 - Add options "\-\-expanded", "\-\-normalized", "\-\-plain", "\-\-profile", "\-\-row",
	 "\-\-stmt", and "\-\-close" to the ".trace" command.- Increased robustness against malicious SQL that is run against a
 maliciously corrupted database.
 **Bug fixes:**
- Do not use a partial index to do a table scan on an IN operator.
Ticket [1d958d90596593a774](https://www.sqlite.org/src/info/1d958d90596593a774).
- Fix the [query flattener](../optoverview.html#flattening) so that it works on queries that contain
subqueries that use [window functions](../windowfunctions.html).
Ticket [709fcd17810f65f717](https://www.sqlite.org/src/info/f09fcd17810f65f717)- Ensure that ALTER TABLE modifies table and column names embedded in WITH
clauses that are part of views and triggers.
- Fix a parser bug that prevented the use of parentheses around table\-valued
functions.
- Fix a problem with the [OR optimization](../optoverview.html#or_opt) on [indexes on expressions](../expridx.html).
Ticket [d96eba87698a428c1d](https://www.sqlite.org/src/info/d96eba87698a428c1d).
- Fix a problem with the
[LEFT JOIN strength reduction optimization](../optoverview.html#leftjoinreduction) in which the optimization
was being applied inappropriately due to an IS NOT NULL operator.
Ticket [5948e09b8c415bc45d](https://www.sqlite.org/src/info/5948e09b8c415bc45d).
- Fix the [REPLACE](../lang_replace.html) command so that it is no longer able to sneak a
NULL value into a NOT NULL column even if the NOT NULL column has a default
value of NULL.
Ticket [e6f1f2e34dceeb1ed6](https://www.sqlite.org/src/info/e6f1f2e34dceeb1ed6)- Fix a problem with the use of [window functions](../windowfunctions.html) used within
[correlated subqueries](../lang_expr.html#cosub).
Ticket [d0866b26f83e9c55e3](https://www.sqlite.org/src/info/d0866b26f83e9c55e3)- Fix the [ALTER TABLE RENAME COLUMN](../lang_altertable.html#altertabmvcol) command so that it works for tables
that have redundant UNIQUE constraints.
Ticket [bc8d94f0fbd633fd9a](https://www.sqlite.org/src/info/bc8d94f0fbd633fd9a)- Fix a bug that caused [zeroblob](../lang_corefunc.html#zeroblob) values to be truncated when inserted into
a table that uses an [expression index](../expridx.html).
Ticket [bb4bdb9f7f654b0bb9](https://www.sqlite.org/src/info/bb4bdb9f7f654b0bb9)


**Changes in this specific patch release, version 3\.27\.1 (2019\-02\-08\):**


1. Fix a bug in the query optimizer: an adverse interaction between
the [OR optimization](../optoverview.html#or_opt) and the optimization that tries to use values
read directly from an [expression index](../expridx.html) instead of recomputing the
expression.
Ticket [4e8e4857d32d401f](https://www.sqlite.org/src/info/4e8e4857d32d401f)
**Hashes:**
- SQLITE\_SOURCE\_ID: 2019\-02\-08 13:17:39 0eca3dd3d38b31c92b49ca2d311128b74584714d9e7de895b1a6286ef959a1dd
- SHA3\-256 for sqlite3\.c: 11c14992660d5ac713ea8bea48dc5e6123f26bc8d3075fe5585d1a217d090233



A [complete list of SQLite releases](../changes.html)
 in a single page and a [chronology](../chronology.html) are both also available.
 A detailed history of every
 check\-in is available at
 [SQLite version control site](https://www.sqlite.org/src/timeline).




